<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>MetaDefine - A super concise theme for Hugo</title>
    <link>/</link>
    <description>Recent content on MetaDefine - A super concise theme for Hugo</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Sat, 12 May 2018 17:43:34 +0800</lastBuildDate>
    
        <atom:link href="/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>xun wu diao cha</title>
      <link>/2018/xun-wu-diao-cha/</link>
      <pubDate>Sat, 12 May 2018 17:43:34 +0800</pubDate>
      
      <guid>/2018/xun-wu-diao-cha/</guid>
      
        <description>

&lt;h1 id=&#34;寻乌调查&#34;&gt;寻乌调查&lt;/h1&gt;

&lt;p&gt;毛泽东&lt;/p&gt;

&lt;p&gt;(一九三○年五月)&lt;/p&gt;

&lt;p&gt;　　我做的调查以这次为最大规模。我过去做过湘潭、湘乡、衡山、醴陵、长沙、永新、宁冈七个有系统的调查，湖南那五个是大革命时代(一九二七年一月)做的，永新、宁冈两个是井冈山时代(一九二七年十一月)[1]做的。湖南五个放在我的爱人杨开慧手里，她被杀了，这五个调查大概是损失了。永新、宁冈两个，一九二九年一月红军离开井冈山时放在山上的一个朋友手里，蒋桂会攻井冈山[2]时也损失了。失掉别的任何东西，我不着急，失掉这些调查(特别是衡山、永新两个)，使我时常念及，永久也不会忘记。寻乌调查是一九三○年五月四军到寻乌时做的，正是陂头会议&lt;a href=&#34;二月七日四军前委与赣西特委的联席会议&#34;&gt;3&lt;/a&gt;之后，汀州会议&lt;a href=&#34;六月四军前委与闽西特委的联席会议&#34;&gt;4&lt;/a&gt;之前，关于中国的富农问题我还没有全般了解的时候，同时我对于商业状况是完全的门外汉，因此下大力来做这个调查。在全部工作上帮助我组织这个调查的，是寻乌党的书记古柏同志(中学生，破产小地主，曾任小学教师、县革命委员会及县苏维埃主席，篁乡区人)。在材料上与我以大量供给的，是郭友梅(五十九岁，杂货店主，曾任县商会长，本城人)、范大明(五十一岁，贫农，县苏[5]职员，城区人)、赵镜清(三十岁，中农，做过铸铁工，做过小商，陈炯明[6]部下当过兵做到排长，现任县苏委员，双桥区人)、刘亮凡(二十七岁，县署钱粮兼征柜办事员，现任城郊乡苏维埃主席，城区人)四人，他们都是经常到调查会的。此外李大顺(二十八岁，贫农，曾任区苏委员)、刘茂哉(五十岁，老童生，开过赌场，做过小生意，原是小地主，降为贫民，曾任县革命委员会委员，现任区苏委员)两人，也供给了一部分材料，间或到我们的调查会。还有刘星五(四十六岁，农民，做过小生意，乡苏委员，城区人)、钟步赢(二十三岁，梅县师范生，区政府主席，石排下人)、陈倬云(三十九岁，自治研究所毕业，做过缝工，做过小生意，当过小学教师)、郭清如(六十二岁，秀才，赴过乡试，做过小学教师，城区人)四人，到过一二次调查会，稍微供给了一点材料。我们的调查会，就是我和以上十一个人开的，我做主席和记录。我们的会开了十多天，因为红军部队分在安远、寻乌、平远做发动群众的工作，故有时间给我们开调查会。&lt;/p&gt;

&lt;p&gt;　　寻乌这个县，介在闽粤赣三省的交界，明了了这个县的情况，三省交界各县的情况大概相差不远。&lt;/p&gt;

&lt;p&gt;　　这个调查有个大缺点，就是没有分析中农、雇农与流氓。还有在&amp;quot;旧有土地分配&amp;quot;上面，没有把富农、中农、贫农的土地分开来讲。&lt;/p&gt;

&lt;p&gt;　　一九三一年二月二日于宁都小布&lt;/p&gt;

&lt;h2 id=&#34;第一章寻乌的政治区划&#34;&gt;第一章寻乌的政治区划&lt;/h2&gt;

&lt;p&gt;　　全县分为七区，七区之中包括四厢十二堡。&lt;/p&gt;

&lt;p&gt;　　七区是：&lt;/p&gt;

&lt;p&gt;　　城区：分东西南北四厢，为全县政治中心。&lt;/p&gt;

&lt;p&gt;　　仁丰区[7]：即篁乡堡。公平圩、菖蒲圩(即篁乡圩)为本区两个政治中心，各设一个局。&lt;/p&gt;

&lt;p&gt;　　双桥区：即双桥堡。内分十三段，以留车为政治中心。&lt;/p&gt;

&lt;p&gt;　　南八区：分南桥、八富两堡，以牛斗光为政治中心。&lt;/p&gt;

&lt;p&gt;　　兼三区：分项山、腰古、滋溪三堡，以吉潭为政治中心。&lt;/p&gt;

&lt;p&gt;　　澄江区：分寻乌、大墩、桂岭三堡，以澄江圩为政治中心。&lt;/p&gt;

&lt;p&gt;　　三水区：分三标、水源两堡，以三标圩为政治中心。&lt;/p&gt;

&lt;p&gt;　　明万历前寻乌还未设县，万历以后才设县。没有设县的时候，一部分属江西的安远县管辖，设置石溪堡，其地域是现在的澄江、三水、仁丰、县城等区；一部分属广东平远县管辖，其地域是现在的双桥、南八、兼三等区。&lt;/p&gt;

&lt;h2 id=&#34;第二章-寻乌的交通&#34;&gt;第二章　寻乌的交通&lt;/h2&gt;

&lt;p&gt;　　(一)水路&lt;/p&gt;

&lt;p&gt;　　寻乌水从桂岭山盘古隘一带山地发源，经澄江、吉潭、石排下、车头、留车，流入龙川，下惠州，故寻乌水乃是东江的上游。船可通到澄江。沿河以澄江、吉潭、留车三个圩场为最大，吉潭在三个圩中更首屈一指。&lt;/p&gt;

&lt;p&gt;　　另由石排下可以通船到城区之河岭(城南十里)。&lt;/p&gt;

&lt;p&gt;　　(二)陆路&lt;/p&gt;

&lt;p&gt;　　以石排下为中心，分为四条大路：一条经过吉潭(三十里)、澄江(六十里)、盘古隘，通筠门岭(一百一十里)，为兴国、于都、会昌通广东的大路。一条经过县城(三十里)、三标(六十里)、太阳关，通安远城(一百四十里)，为信丰、安远通梅县的大路。一条经过珠村、牛斗光(二十里)到平远之八尺(四十五里)，为会昌、安远两方通梅县的大路，即会昌、安远两条路均到石排下集中，共同通梅县的大路。一条经过车头(二十里)、留车(三十五里)、荒塘肚(六十里)到兴宁之罗浮(九十五里)、罗冈(一百二十五里)，往兴宁、五华，为寻乌下惠州的大路。&lt;/p&gt;

&lt;p&gt;　　另有几条小些的路：一条从澄江通安远挖补界之罗塘(三十里)，再由罗塘南往下坝，北往门岭。一条从吉潭经小田、船肚、书园往平远(六十里)。一条从县城经大炉下、滋溪、剑溪、礼輋、赖地往武平(一百八十里)。一条从县城经上坪通安远南乡之胡山(六十里)，再由胡山北往安远城(六十里)，西往太平(三十六里)、鹅公圩(六十里)。一条由县城到新圩(六十里)，再由新圩经公平圩(三里)、两广亭(四十五里)，往定南之鹅公圩(八十里)，再南经鹅公圩，西往定南城，西经鹤子圩往信丰。由新圩经菖蒲(二十里)、隘排口往龙川城(二百四十里)。由菖蒲、隘排口通兴宁城(一百八十里)。以上各路比较小一点。&lt;/p&gt;

&lt;p&gt;　　从寻乌城出发，往门岭九十里，往武平一百八十里，往梅县二百四十里，往兴宁二百四十里，往安远一百一十里，往龙川三百一十里，往定南(经上坪、胡山、太平、鹅公圩)一百六十里。&lt;/p&gt;

&lt;h1 id=&#34;三-电报&#34;&gt;　　(三)电报&lt;/h1&gt;

&lt;p&gt;　　过去电报局设在吉潭，民国十一年移到县城。电线由吉潭通寻乌城，通筠门岭，通平远。&lt;/p&gt;

&lt;h1 id=&#34;四-邮政&#34;&gt;　　(四)邮政&lt;/h1&gt;

&lt;p&gt;　　县城是三等邮局。一路走吉潭、澄江通门岭。一路走牛斗光通八尺，再由八尺通梅县；另由八尺分一路通平远。一路走三标通安远。澄江、吉潭、牛斗光三处有&amp;quot;代办所&amp;quot;，三标、石排下二处有&amp;quot;代收所&amp;quot;。旧历二、五、八走门岭，一、三、五、七、九走八尺，二、四、六、八、十走安远。赣州的信走安远，送于都、兴国的信走门岭。县城邮局通常可以汇款二百元以内，五百元以内须先期交涉，否则不能。前年三二五暴动[8]，抓了邮政局长，罚过五百元。此次新局长怕抓，先期跑了。三二五暴动还杀了一个电报局长。&lt;/p&gt;

&lt;h1 id=&#34;五-陆路交通器具&#34;&gt;　　(五)陆路交通器具&lt;/h1&gt;

&lt;p&gt;　　和广东一样，不论什么道路一概没有车子。陆路运输工具大多数是活人的肩胛，其次是骡马。县城通梅县大路上骡马很多，县城通门岭、县城通吉潭两条路也有，此外没有。运输的骡马是骡多马少，但普通一概叫做&amp;quot;马子&amp;quot;。用马子驮的货物以盐豆两门为大宗。&lt;/p&gt;

&lt;h2 id=&#34;第三章寻乌的商业&#34;&gt;第三章寻乌的商业&lt;/h2&gt;

&lt;p&gt;　　本章目录&lt;/p&gt;

&lt;p&gt;　　(一)门岭到梅县的生意&lt;/p&gt;

&lt;p&gt;　　(二)安远到梅县的生意&lt;/p&gt;

&lt;p&gt;　　(三)梅县到门岭的生意&lt;/p&gt;

&lt;p&gt;　　(四)梅县到安远、信丰的生意&lt;/p&gt;

&lt;p&gt;　　(五)惠州来货&lt;/p&gt;

&lt;p&gt;　　(六)寻乌的出口货&lt;/p&gt;

&lt;p&gt;　　(七)寻乌的重要市场&lt;/p&gt;

&lt;p&gt;　　(八)寻乌城&lt;/p&gt;

&lt;p&gt;　　(1)寻乌城是什么&lt;/p&gt;

&lt;p&gt;　　(2)盐&lt;/p&gt;

&lt;p&gt;　　(3)杂货&lt;/p&gt;

&lt;p&gt;　　(4)油&lt;/p&gt;

&lt;p&gt;　　(5)豆&lt;/p&gt;

&lt;p&gt;　　(6)屠坊&lt;/p&gt;

&lt;p&gt;　　(7)酒&lt;/p&gt;

&lt;p&gt;　　(8)水货&lt;/p&gt;

&lt;p&gt;　　(9)药材&lt;/p&gt;

&lt;p&gt;　　(10)黄烟&lt;/p&gt;

&lt;p&gt;　　(11)裁缝&lt;/p&gt;

&lt;p&gt;　　(12)伞&lt;/p&gt;

&lt;p&gt;　　(13)木器&lt;/p&gt;

&lt;p&gt;　　(14)火店&lt;/p&gt;

&lt;p&gt;　　(15)豆腐&lt;/p&gt;

&lt;p&gt;　　(16)理发&lt;/p&gt;

&lt;p&gt;　　(17)打铁&lt;/p&gt;

&lt;p&gt;　　(18)爆竹&lt;/p&gt;

&lt;p&gt;　　(19)打首饰&lt;/p&gt;

&lt;p&gt;　　(20)打洋铁&lt;/p&gt;

&lt;p&gt;　　(21)修钟表&lt;/p&gt;

&lt;p&gt;　　(22)圩场生意&lt;/p&gt;

&lt;p&gt;　　(23)娼妓&lt;/p&gt;

&lt;p&gt;　　(24)同善社&lt;/p&gt;

&lt;p&gt;　　(25)人口成分和他们在政治上的地位&lt;/p&gt;

&lt;p&gt;　　(一)门岭到梅县的生意&lt;/p&gt;

&lt;p&gt;　　从石城、瑞金来的，米和豆子为大宗，值几十万元。从兴国来的，茶油[9]为大宗，米也有(少)。于都、会昌没有什么货来。&lt;/p&gt;

&lt;p&gt;　　澄江圩每圩从门岭来的油约有四船(门岭肩挑到澄江下船)，每船装油十二担，每担约值小洋三十元，每年以百圩计算，约值十五万元。&lt;/p&gt;

&lt;p&gt;　　石城、瑞金的米到门岭，大部分经罗塘、下坝(武平属，在三省交界)、新铺(蕉岭属，离梅县三十里)往梅县，每天有约三百担过。米走寻乌通过往梅县的，很少。由寻乌通过的是油豆两大宗。豆子担数比油多一倍，每担有五斗的，有三斗的，不等。价值每斗小洋一元五毛。每圩(三天一圩)用船载的有五船，每船十四担，每担(以四斗计)值六元，每圩共值四百二十元，每年一百圩共值四万二千元。另还有肩挑，每圩有二十担，每年有二千八百担，共值一万六千八百元。两项共值五万八千八百元。&lt;/p&gt;

&lt;p&gt;　　(二)安远到梅县的生意&lt;/p&gt;

&lt;p&gt;　　鸡&lt;/p&gt;

&lt;p&gt;　　这一条路上的生意，大宗是鸡，次是牛，又次是猪。鸡的大部分是唐江、南康、信丰来的，安远也有一点，甚至有从遂川来的。走王母渡、金鸡圩、新田、版石，不入安远城，由安远城北五里地方通过，入寻乌下梅县。由梅县的鸡行装往松口，向汕头输出。鸡每天走寻乌通过的，安远来的是大宗，也还有小部分走门岭来。每天少也有一百担，多的到百三十担。每担六十斤，以每天百担计，六千斤。鸡贩子由唐江一带一直挑到梅县城或新铺圩(由寻乌走大拓去新铺下船，直往松口，不经梅县)发卖，每斤价五毛(寻乌鸡价每斤四毛)。每天六千斤，共值三千元。每年三百六十天，共值一百零八万元。梅县鸡行卖与松口，每斤价七毛以上，可谓大赚其钱。&lt;/p&gt;

&lt;p&gt;　　牛&lt;/p&gt;

&lt;p&gt;　　每月逢一是&amp;quot;牛岗&amp;quot;。十一月最旺，每岗七八百头牛。正、二月次之，每岗一二百头。三、四、五、六、七月最淡，每岗少的三五头，多的也不过十余头。八月初一这天为牛市&amp;quot;开岗&amp;quot;的日子，从这日起生意逐渐旺盛，每岗从四五十头到六七十头。九、十两月每岗就有百把头了。&lt;/p&gt;

&lt;p&gt;　　每年共有多少牛呢?&lt;/p&gt;

&lt;p&gt;　　正、二月每月平均一百头，共二百头；&lt;/p&gt;

&lt;p&gt;　　三月六十头；&lt;/p&gt;

&lt;p&gt;　　四、五、六、七月没有市；&lt;/p&gt;

&lt;p&gt;　　八月三岗，二百五十头；&lt;/p&gt;

&lt;p&gt;　　九月同八月；&lt;/p&gt;

&lt;p&gt;　　十月三百头；&lt;/p&gt;

&lt;p&gt;　　十一月三岗，二千一百头；&lt;/p&gt;

&lt;p&gt;　　十二月只有二岗，一百六十头；&lt;/p&gt;

&lt;p&gt;　　全年三千三百二十头。&lt;/p&gt;

&lt;p&gt;　　牛价平均每头值四十元，全年共值一十三万二千八百元。&lt;/p&gt;

&lt;p&gt;　　牛也是如鸡一样，从唐江、信丰来的为大宗，安远也有一点点，寻乌本县没有。和鸡不同的是，鸡于寻乌只是经过，牛则在寻乌出卖。牛市在县城东门外河墈上，卖主是唐江、信丰、安远人，买主是梅县、武平、蕉岭、平远人，经纪(牙人)是寻乌人。不是经松口向汕头输出，大概是牛贩子们买了去转卖给人家耕田，或转卖给城市宰杀。牙人钱每只牛买卖双方各出半毛。牛税有承商包办，每年缴政府一千七百四十元。牛税从前每年&amp;quot;标&amp;quot;(即投标)一次，出钱多的得标，近改为三年一标。税到牛身上，黄牛每头四毛，水牛每头五毛，名之曰&amp;quot;饷&amp;quot;。抽过了税，在那只牛身上拍上个&amp;quot;饷&amp;quot;字的石灰印，买主就起牛跑。饷以外，还有捐，是近来附加的，每牛一毛。承商向政府出的税，连同他自己的赚项，年在二千元以上。以平均每牛抽税四毛半计，每年在寻乌城出卖的牛，当在四千五百头以上。上面说每年三千三百二十头，乃是最少量的估计。&lt;/p&gt;

&lt;p&gt;　　猪&lt;/p&gt;

&lt;p&gt;　　信丰来的最多，安远次之。走两条路来，一条从安远城，经寻乌城，走牛斗光、八尺去梅县，这一路最多；一条由安远南乡，走公平、新圩、留车、平远之中坑圩，往梅县，这一路较少。两条路全年有五千只猪通过。平均每只一百斤，每斤价四毛半(每只四十五元)，五千只猪共值二十二万五千元。寻乌政府每只抽税二毛。&lt;/p&gt;

&lt;h1 id=&#34;三-梅县到门岭的生意&#34;&gt;　　(三)梅县到门岭的生意&lt;/h1&gt;

&lt;p&gt;　　大宗是洋货(牙粉、牙刷、电筒、胶底鞋、肥皂、洋伞、马灯、洋铁均大宗。其中如牙粉、牙刷等，本属中国制的多，但普通也叫洋货)，海味(海带、海参、鱼肚、鱿鱼、淡菜、咸鱼等为大宗)，盐(十年前惠盐多，三四年前潮盐多，这是因为商人包办路线不同的缘故。现在又是惠盐多，则因八尺、中坑等处反动派对红色区域封锁，阻塞了潮盐的路的缘故。盐到门岭后，一直通往兴国)，洋油(亚细亚牌的多)，布匹(梅县去的少，兴宁去的多，均买了洋纱自己造的。兴宁织造很发达。兴宁一般生意也比梅县大)洋纱(外国货)这五类。糖与面粉亦有好些。&lt;/p&gt;

&lt;p&gt;　　梅县与门岭不通车，货大部分是肩挑，盐通通用马子驮，只有用船载至澄江起岸。面粉之一部也用马子驮。&lt;/p&gt;

&lt;p&gt;　　门岭去梅县，脚夫们一担货去，一担货回。&lt;/p&gt;

&lt;p&gt;　　(四)梅县到安远、信丰的生意&lt;/p&gt;

&lt;p&gt;　　货物种类与往门岭的同，但数量少于门岭，大概比例是门岭六成，安、信四成，因门岭货物销到瑞金、石城、于都、兴国等广大地方，安远、信丰地域较狭之故。&lt;/p&gt;

&lt;h1 id=&#34;五-惠州来货&#34;&gt;　　(五)惠州来货&lt;/h1&gt;

&lt;p&gt;　　只有盐一门是大宗。咸鱼、黄糖二样略有一点来寻乌卖。此外没有。&lt;/p&gt;

&lt;h1 id=&#34;六-寻乌的出口货&#34;&gt;　　(六)寻乌的出口货&lt;/h1&gt;

&lt;p&gt;　　上面说的都是进口货或通过货，这里要说寻乌县对外出口货。&lt;/p&gt;

&lt;p&gt;　　第一是米。梅县一带很缺乏米，价比寻乌贵一倍，寻乌每年要供给它很多。澄江、三标、吉潭(项山的)、城区四个区域的米，从牛斗光经八尺、大拓，向梅县输出；龙图、腴田、留车、芳田、篁乡上半区一带的米，走中坑向梅县输出；大同、篁乡下半区、大田、蓝田、斗晏及龙川来的一部分，走岑峰经石正向梅县输出。三条路输出数量大略相等，每天共计输出米一百担，全年三万六千担，平均每担价八元，共二十八万八千元。&lt;/p&gt;

&lt;p&gt;　　第二是茶。出于城区西厢之上、下坪，南厢之图合、冈上、鹅子湖一带。三、四、五、七、八月为采茶期。每圩约输出二十担(每担七十斤)，每年百圩输出二千担，共一十四万斤，每斤价五毛，共值七万元。十分之八以上向兴宁输出，十分之二以下向梅县输出。采茶时兴宁客子到乡下，收买生叶自己制造。生叶中，&amp;quot;雨前茶&amp;quot;(谷雨以前的，又叫&amp;quot;头春茶&amp;quot;)，一块钱八斤，每五斤生叶可以制出一斤茶。这种雨前茶价颇贵，要一块钱一斤。&amp;quot;二春&amp;quot;(三四月的)和&amp;quot;秋子&amp;quot;(七八月的)，每块钱能买生茶叶十五斤，制造出来每斤卖五毛。做茶生意的靠着二春和秋子赚钱，头春茶是赚不到什么钱的。十二月还能产出些茶，名叫&amp;quot;雪子&amp;quot;，和雨前茶一样的贵，同属上等人家吃的。出不多，客子们于它也赚不到什么钱。城区之外，双桥区之雁洋坪也出茶，虽很少(每年只值百多元)，但很好，因为不是岭头种的，而是菜园子里种的。&lt;/p&gt;

&lt;p&gt;　　第三是纸。出于篁乡，向兴宁(走罗浮、罗冈)、梅县(走中坑，也有走岑峰的)、龙川(走贝岭)三地输出。平均每圩六十担，全年一百圩，六千担，每担价八元，共四万八千元。&lt;/p&gt;

&lt;p&gt;　　第四是木。产地是城区的西厢(上、下坪)、南厢(鹅子湖)，南八区的河角圩一带，篁乡区的香山、高头一带，三水区的肖木坑、寨塘坑，兼三区的罗福嶂。除罗福嶂的向潮汕输出外，其余均向东江输出。但罗福嶂木头输出潮汕价钱很贵，输出东江的则价钱很贱，每年约值万余元。二十年前出产较大。&lt;/p&gt;

&lt;p&gt;　　木头出口是龙川客子出本钱，本地木商作辅助。都上山去看完了，把山价(那山里许多木头中，讲定可以&amp;quot;倒&amp;quot;的那些木头的价钱)交与山主，由客子自己雇工倒下来，本地商人则为之照顾，使木头不被别人偷去。四五月是倒树最多的季节，六月以后，倒的渐少，九月以后便不再倒了。木一倒下就剥皮。剥了皮之后至少有两个月摆在地上，使它干起来。两个月后如果市价好，出卖有利，就扎排子下河，往往有搭架搭到三四年的。本地商人对于树贩(外地客子)是处在一种工人的地位，他们称树贩叫&amp;quot;老板&amp;quot;，而树贩称他们叫&amp;quot;排头&amp;quot;，利益的分配是老板九成，排头一成。&lt;/p&gt;

&lt;p&gt;　　第五是香菇。主要产地是三标和安远交界之大湖岽、小湖岽、寨塘坑、上下坝，城区和安远交界之上、下坪一带山地，其次是双桥区与平远交界之叶子輋。香菇每斤二元，每年约出一万元。安远出香菇比寻乌多，销往南雄，寻乌的销往兴宁。没有客子来收，是寻乌人贩了去卖。&lt;/p&gt;

&lt;p&gt;　　第六是茶油。出在双桥的大同、斗晏、荒塘肚、蓝田、大田一带。年约一万五千斤，每百斤二十五元，共计三千七百五十元。从罗浮、岑峰两条路对兴宁、梅县两地输出。&lt;/p&gt;

&lt;p&gt;　　总计寻乌六种出产(单说出口部分)价值如下：　　&lt;/p&gt;

&lt;p&gt;　　(七)寻乌的重要市场&lt;/p&gt;

&lt;p&gt;　　吉潭第一，盐、米、油、豆是大宗。牛斗光第二，盐、米略小于吉潭，油、豆与吉潭等。留车第三，布匹是最大宗，由兴宁进口；油、豆次之。县城第四，牛行要算第一门生意；第二是油、盐、米行；第三算是布匹(从前赣州有布子来，民国十七年起没有了，因为它是土纱织的，&amp;quot;一股大，一股细&amp;quot;，被兴宁、梅县的洋纱布抢了生意去。兴宁、梅县的布很好，&amp;quot;一掌平&amp;quot;)。鸡生意虽大，但它只通过不归&amp;quot;行&amp;quot;，故不算。澄江第五，油、豆、盐在这里过驳，是大宗；米次之；鸦片亦是大宗，从兴宁、于都来。石排下第六，油、盐、米、豆的总口岸，但多属通过，只盐、米有些买卖。鸡、猪、牛亦是通过。&lt;/p&gt;

&lt;p&gt;　　此外，如岑峰(米)、公平(纸)、篁乡、三标等处，都属普通小圩场。&lt;/p&gt;

&lt;p&gt;　　(八)寻乌城&lt;/p&gt;

&lt;p&gt;　　(1)寻乌城是什么&lt;/p&gt;

&lt;p&gt;　　对于商业的内幕始终是门外汉的人，要决定对待商业资产阶级和争取城市贫民群众的策略，是非错不可的。非常明显，争取贫民一件事，一般同志不感觉它的重要，高级指导机关感觉它的重要了，却始终不能给同志们以行动上的具体策略，尤其是不能把具体工作方法指示出来。这不是由于不了解城市是什么东西才弄成这种现象吗?我是下决心要了解城市问题的一个人，总是没有让我了解这个问题的机会，就是找不到能充足地供给材料的人。这回到寻乌，因古柏同志的介绍，找到了郭友梅和范大明两位老先生。多谢两位先生的指点，使我像小学生发蒙一样开始懂得一点城市商业情况，真是不胜欢喜。倘能因此引起同志们(尤其是做农村运动和红军工作的同志们)研究城市问题的兴味，于研究农村问题之外还加以去研究城市问题，那更是有益的事了。我们研究城市问题也是和研究农村问题一样，要拼着精力把一个地方研究透彻，然后于研究别个地方，于明了一般情况，便都很容易了。倘若走马看花，如某同志所谓&amp;quot;到处只问一下子&amp;quot;，那便是一辈子也不能了解问题的深处。这种研究方法是显然不对的。&lt;/p&gt;

&lt;p&gt;　　寻乌的许多市场中，由于机会的便利，特为把寻乌城这个市场拿了来观察一番。&lt;/p&gt;

&lt;p&gt;　　说到寻乌城这个市场，真是不胜今昔之感。从前时候寻乌城的生意，比现在寻乌城的要大一倍。光绪二十七八年为最旺盛，那时候不但北半县的澄江、吉潭要到寻乌城来办货，就是南半县的篁乡、留车甚至平远县的八尺也到寻乌城来办货。这是因为前清时候赣州的货物经过寻乌销往东江，东江也还要买赣州的货，留车等地更不消说，因此中站地位的寻乌城的生意，当然便发达了。自从梅县的洋货生意和兴宁的布匹生意发展了，便把赣州的土制货色的生意夺了去，不但东江以至八尺都不到寻乌城办货了，南半县的留车等地也不到寻乌城办货了。再则光绪二十七八年前还是所谓&amp;quot;功名顶戴&amp;quot;时代，还没有行新政，县城生意的大宗是赣州来的绸缎。那时以后时局变化，绸缎的需要减少，直到民国元年废除&amp;quot;功名顶戴&amp;quot;，绸缎几乎全废，县城生意就大大衰败下来。寻乌城是这样一个手工业商品和资本主义商品交战表演了剧烈的荣枯得失的地方，怎么不值得我们注意呢?还有，寻乌城至今还是一个不定期的店铺交易和定期的圩场交易并行着的地方，它约有二千七百人口，一道坚城的内外，表现它那寂寞的情调，除非到一、四、七的圩期，才临时地热闹几小时，这不又是一件很好的资料吗?&lt;/p&gt;

&lt;p&gt;　　下面是从各种货物去剖解这个城的生活情况和组织内容。&lt;/p&gt;

&lt;h1 id=&#34;2-盐&#34;&gt;　　(2)盐&lt;/h1&gt;

&lt;p&gt;　　本城的一切货物，大都是销向城区的东西南北四厢和三水区的三标、水源两堡这个区域里的，别的地方很少到本城买东西。惟独盐是例外。盐的大部是销往安远、信丰，小部才销在城区、三标。又因为它是日用品，所以它是城里生意的第一大宗。城内有五家盐店，每家每年多的做得两万元生意，少的也做得六七千元生意，五家共合一年可做十万元生意。&lt;/p&gt;

&lt;p&gt;　　盐分潮盐、惠盐。潮盐好，但贵，每元(小洋)买十斤到十一斤。潮盐色青黑，清洁能防腐。惠盐色白，但质差味淡，因之价也较贱，每元能买十六七斤。要是贪便宜的人才吃惠盐。寻乌的盐，历来是潮盐多，惠盐少。&lt;/p&gt;

&lt;p&gt;　　开潮盐行的，本地籍二家(汇通、新发昌)，平远籍一家(韩祥盛)，万安籍一家(周裕昌)，泰和与本地合开一家(万丰兴)。汇通有本三千元，算最大。周裕昌先前有本二千元，去年因做纸生意被匪劫失本九百多元，现只存千元左右了。以上两家都开了二十多年了。第三家要算韩祥盛，本约七百元，开了十几年。第四家万丰兴，两百块钱进店，开了四年，现有本四五百元了。第五是新发昌，开了十多年，拉拉扯扯不上一百元本。&lt;/p&gt;

&lt;p&gt;　　汇通店主钟周瑞是个地主(开盐行的只有他是地主)。店子开在东门城内，家住在南门城外。有二百二十石谷田，每年收获两季，每季出谷二百二十担，一季完全交租，一季农民得着。他家里有个老婆，三个奶子(儿子)，三个新妇(媳妇)，一个等郎嫂(买来的，五岁了，因为她现在并没有郎，还要等着她老板娘把郎生下来，故叫等郎嫂，别处叫做童养媳)，连他自己，共九个人吃饭。没有雇店员。他自己指挥他的奶子、新妇做事。这是城里第一个&amp;quot;资本家&amp;quot;。&lt;/p&gt;

&lt;p&gt;　　韩祥盛，平远八尺人，自己两公婆，一个奶子，三个人吃饭。没有请店工。每年能赚些钱。&lt;/p&gt;

&lt;p&gt;　　新发昌，主人叫邝明奎，车头人，是个前清的文秀才。他开了十多年店，几十块钱做生意，两公婆又一儿子吃饭。因他办事公平，做了两次商会长，前清一届做两年，去年到现在又是他，六十几岁的白头老人家。&lt;/p&gt;

&lt;h1 id=&#34;3-杂货&#34;&gt;　　(3)杂货&lt;/h1&gt;

&lt;p&gt;　　大的上十家，连同小的共十六七家杂货店。志成(兴宁人)、纶泰兴(吉安人)、义泰兴(吉安人一、本地人一合股)、义成、潘月利、王润祥、潘登记、祥兴、永源金(以上六家均兴宁人)、均益(挑担子出身，本地人)、骆晋丰(本地人，杂货商人中只有他是个地主，收租三百担)、范顺昌(福建人)、黄裕丰(福建人)这十三家，就是大一点的杂货店。其中黄裕丰以黄烟、纸张为主要生意。其他都是以布匹为主要生意。次于布匹就是洋货生意。这个小小市场竟什么洋货也有卖，略举之有一百三十一种：&lt;/p&gt;

&lt;p&gt;　　牙粉　牙刷　胶底鞋&lt;/p&gt;

&lt;p&gt;　　皮鞋　套鞋　运动鞋&lt;/p&gt;

&lt;p&gt;　　拖鞋　铅笔　钢笔(自来水笔)&lt;/p&gt;

&lt;p&gt;　　粉笔　天然墨　毛笔&lt;/p&gt;

&lt;p&gt;　　墨盘(砚池)　墨湖(墨盒)　笔套&lt;/p&gt;

&lt;p&gt;　　笔架　浆糊　练习本&lt;/p&gt;

&lt;p&gt;　　印色　原纸　油墨&lt;/p&gt;

&lt;p&gt;　　教科书(没有单独的书店，附在杂货店卖)&lt;/p&gt;

&lt;p&gt;　　字画　小手巾　肥皂&lt;/p&gt;

&lt;p&gt;　　香碱　花露水　花露精&lt;/p&gt;

&lt;p&gt;　　毛面巾　洋袜子　洋瓷面盆&lt;/p&gt;

&lt;p&gt;　　洋瓷碗　洋瓷水角(把碗)　生发油&lt;/p&gt;

&lt;p&gt;　　生发膏　手袜子(手套)　胭脂&lt;/p&gt;

&lt;p&gt;　　围巾　大小梳子　水粉&lt;/p&gt;

&lt;p&gt;　　雪花膏　电筒　电土(电油[10])&lt;/p&gt;

&lt;p&gt;　　洋火　香烟(有金字、中国、三炮台、哈德门、扇美各种，以金字、中国两种销得较多)&lt;/p&gt;

&lt;p&gt;　　麻姑烟　烟嘴　洋遮(洋伞)&lt;/p&gt;

&lt;p&gt;　　草帽　礼帽　洋瓷茶杯&lt;/p&gt;

&lt;p&gt;　　文明帽　洋毡　棉毯&lt;/p&gt;

&lt;p&gt;　　球被(毛毯子)　绒线帽(小儿用)　夜帽&lt;/p&gt;

&lt;p&gt;　　木棉枕　皮枕　中山扣&lt;/p&gt;

&lt;p&gt;　　白骨扣　乌骨扣　海螺扣&lt;/p&gt;

&lt;p&gt;　　阴阳扣　宽紧带　吊带&lt;/p&gt;

&lt;p&gt;　　丝裤带　洋裤带　爽身粉&lt;/p&gt;

&lt;p&gt;　　汗衫　扇子(乌纸扇、白纸扇)&lt;/p&gt;

&lt;p&gt;　　钟　表　叫人钟&lt;/p&gt;

&lt;p&gt;　　信纸　信封　日记册&lt;/p&gt;

&lt;p&gt;　　镜子　眼镜　洋刀子&lt;/p&gt;

&lt;p&gt;　　儿童玩具(小洋枪、火车、不倒翁、人公子、小皮球、哨子，此外还有很多)&lt;/p&gt;

&lt;p&gt;　　德国响刀　安全刀　挥剪&lt;/p&gt;

&lt;p&gt;　　毛剪(以上四种均剃头用)　皮夹子(皮箱子)&lt;/p&gt;

&lt;p&gt;　　藤夹子(藤箱子)　洋靛(蓝的)　染布用颜料(洋红、乌粉、灰粉、品洋)&lt;/p&gt;

&lt;p&gt;　　铜锁　铜番锁　铁锁&lt;/p&gt;

&lt;p&gt;　　铁番锁　铜帐钩　骨帐钩&lt;/p&gt;

&lt;p&gt;　　洋油　马灯　不灯(即草灯)&lt;/p&gt;

&lt;p&gt;　　宝盖灯　洋瓷桌灯　莲花宝盖灯&lt;/p&gt;

&lt;p&gt;　　三练洋灯　四方带灯　六角带灯&lt;/p&gt;

&lt;p&gt;　　圆火带　扁火带(以上两种均点灯用)&lt;/p&gt;

&lt;p&gt;　　骨筷　漆筷　算盘&lt;/p&gt;

&lt;p&gt;　　水烟筒　杆子烟筒　洋钉&lt;/p&gt;

&lt;p&gt;　　铜煲(烧茶用)　轻铁锅子　轻铁盘子&lt;/p&gt;

&lt;p&gt;　　轻铁调羹　明瓦　各种瓷器&lt;/p&gt;

&lt;p&gt;　　骨牌　麻雀牌　枣子&lt;/p&gt;

&lt;p&gt;　　泡圆　各种罐头(牛肉、杂菜、鸭肉、冬笋、批把、沙梨、荔枝、龙眼、菠萝、牛奶)&lt;/p&gt;

&lt;p&gt;　　对联　洋蜡烛　白洋蜡&lt;/p&gt;

&lt;p&gt;　　葡萄干　洋线　铅线&lt;/p&gt;

&lt;p&gt;　　铁线　墨水&lt;/p&gt;

&lt;p&gt;　　以上一百三十一种，商人都叫作&amp;quot;洋货&amp;quot;，在杂货店里出卖。其中打横画的二十三种是销数较多的，没有打横画的各种销数都少。一百三十一种中有一百十八种是从梅县及兴宁来的，梅县来的占最大多数，只有洋袜子、围巾等织造品大部分是从兴宁来的。明瓦、对联二种完全从赣州来。皮枕、信纸、信封、铜煲、洋油、扇子、水烟筒、毛笔八种，梅县、赣州两处都有来。皮枕、信纸、信封、瓷器、扇子、水烟筒，赣州货不但占多数，而且比较好。信纸、信封，赣州的是本国纸制的，梅县的是用洋纸制的。洋油、纸烟则广东来多，赣州来少。纸烟是梅县、兴宁、赣州三处来。毛笔亦赣州来多，梅县的只有很少一点。&lt;/p&gt;

&lt;p&gt;　　为杂货店里的次要生意的洋货已如上面所述，下面再说杂货店里的主要生意——布匹。&lt;/p&gt;

&lt;p&gt;　　布匹有土布(青、白、花、灰、红、绿、柳条各种)，竹布(蓝、白、灰、乌、红、光、青、印花各种)，竹纱(白、灰、乌、蓝、柳条、靛各种)，绸缎(各种华丝葛、各种纺绸、薯莨绸、香云纱)，呢绒(厚呢、粗呢、镜面呢)，夏布(白、蓝、乌、机白、波心各种)。土布是中国人用洋纱制造，从兴宁来。竹布、竹纱都叫洋布，从香港走梅县来。绸缎中华丝葛、纺绸从杭州走赣州、梅县两路来，寻乌女人买来织头帕，这种头帕每个女人都有。全城布匹生意每年约值十万元，销地是城区和三标。&lt;/p&gt;

&lt;p&gt;　　杂货店里除布匹、洋货二个大宗外，还附带出卖黄烟、糕饼和香纸蜡烛，也有搭卖零油零盐的。&lt;/p&gt;

&lt;p&gt;　　城内杂货生意，前清时候每年总计十五万元上下，现今十二万元上下。十二万元的分配是：布匹八万余元(土布七万元，洋布一万元，呢绒二千元，夏布千余元)，洋货二万元(每家多的千一二百元，少的二三百元)，此外黄烟一万元上下，糕饼四百元上下(只有两家附带卖糕饼)，香纸爆竹五百元上下(附带卖香纸的二家，卖爆竹的十三家)。&lt;/p&gt;

&lt;p&gt;　　还待举出几家杂货店，好更具体地了解他们的情况。&lt;/p&gt;

&lt;p&gt;　　最大的杂货店，店主陈志成，兴宁人，在县城、吉潭、澄江各开一间店。县城这一间本钱三千元，自己只有千把元，余是借来的。三千元每年利息要九百元，除了工钱、伙食等项开销，每年以赚得利息为止。陈本人又嫖又赌。&lt;/p&gt;

&lt;p&gt;　　第二家要算纶泰兴，三个份子合成，本钱二千元。除了开销，每年赚得三四百元。&lt;/p&gt;

&lt;p&gt;　　第三家算义泰兴，三个份子，吊多钱本(即千多元本)，每年赚得一二百元。&lt;/p&gt;

&lt;p&gt;　　第四家，罗义成，一人开，千多元本，每年能赚四五百元。很节俭，吃饭就是点子青菜，穿的是土布衣。带两个徒弟，家眷在兴宁没有来。他是兴宁人，早年来寻乌挑糖箩子，在县城及四厢敲糖子卖，一个明钱[11]敲一块小糖(现在敲一块糖子起码要一块铜片[12]了)，或者拿糖子换各种荒货(头发、烂铜、烂铁、猪牛骨头、烂棉被)。他就是这样子起家的。他到寻乌有了三十多年，发了财，开杂货店也有十大几年了(十五年以上叫十大几年)。&lt;/p&gt;

&lt;p&gt;　　郭怡和是本钱最小的杂货店，百多块钱本，卖些黄烟、纸煝、蛋、自来火、带子、红索子(红绳子)、丝线、综条(镶鞋口用)、笔墨、毛巾、洋纱巾、骨扣等等东西。店主郭友梅(他是参加我们这个调查会的)和他一个老婆，每年穿衣吃饭缴费百多元，生意赚项仅敷了它。他是万安人，十二岁到寻乌，现在五十九岁了。他未来前，他的叔父早就在寻乌做了六十年生意，连他到今共做了百零年了，历来做的是杂货布匹。光绪二十五六年生意最盛时，有本三千元，从外边缴(商家赊借货物叫做&amp;quot;缴&amp;quot;)到五六千元，自己缴给人家也有四五千元，故那时虽只三千元本，却做得二万元上下的生意，乃是寻乌城里第一家大商店。现在是往留车、八尺、牛斗光、车头等处去买货，那时候那些地方的商店却都要到寻乌城中他的店里来买货。因为那时货物来源主要是赣州(布匹、绸缎、纸张、笔墨、草帽、苏席)，吉安亦有来往(紫花布与丝线)。那时向赣州买三百块钱货，只付一百块现钱，货就可拿得动。现在不行了。这种不行，也不止郭怡和，差不多什么商店都缴不动了。不独赣州，梅县、兴宁也缴不动了。这是一种经济的大变化。就是从前年(一九二八)起，&amp;quot;世界不好&amp;quot;。商家的货缴与农民，农民受了重租重利剥削，本来就是穷的，加以前年蝗虫吃了禾，同时又遭旱灾，农民还不起本城商家的账，因此本城商家也还不起梅县、兴宁商家的账，梅县、兴宁商家都不放心缴给人家了。民国五年郭怡和遭了一个大抢(光复派率领农民千多入城，抢了许多别的店子。随即官军克复，又大抢郭怡和，抢去六千九百多元东西)。从这年起，就衰下来，一年不如一年，弄到现时这个样子。郭做过两任商会长——民国十四年到十六年。&lt;/p&gt;

&lt;p&gt;　　这里还要说到杂货店的店员制度，看他们阶级关系原来是那样的模糊。&lt;/p&gt;

&lt;p&gt;　　杂货店的学徒三年出师后，照规矩要帮老板做一年。他在这一年的开头，就把他在学徒时期穿的那些破旧衣服不要了，通通换过新的，因为他现在有了些钱用，而且地位也不同了。帮工一年将要过去的时候，能干的，老板继续留他做；不能干的老板便辞歇他，老板对他说：&amp;quot;我的店里不需要这么多人做了，明年你要另找生意。&amp;quot;他斢到了一个新的店家，他的地位越发高了一些，衣服也穿得越发好了一些，薪俸(不叫工钱)也逐年加多起来。他的社会名称再也不是&amp;quot;徒弟&amp;quot;了，而是令人尊敬的&amp;quot;先生&amp;quot;。他在帮做的那一年中，老板给他的薪俸不是取讲定数目的形式，也没有&amp;quot;薪俸&amp;quot;的名目，只是老板要给他做各色冬夏衣服。再则他如果回家去讨老婆呢，那老板除送他十多块的盘费外(他家在远乡的)，还要送他十元以上的礼物，像京果呀，海味呀等等，使他回家好做酒席。他不讨老婆而只是回家去看看父母呢，如果他是远乡人，就以&amp;quot;盘费&amp;quot;的名义送给他一些钱，盘费数目少也要拿十多元，多的到二十四五元。如果是近边人，那末径直送他十几块到二十几块钱。帮做一年之后，正式有了薪俸，头一年四五十元，第二年五十多元至六十元。做得好，店里长钱，他的薪俸便逐年增加。光绪年间生意好时，先生的薪俸最高有到一百二十元的，但现在因为生意零落，最高薪俸不过八十元了。忠实可靠而又精明能干的先生，老板把生意完全交给他做，自己回到家里去住也是有的；赚了钱分红利给先生，赚得多分三成，赚得少两成，再少也要分一成。像郭怡和的老板郭友梅回到万安去住家，把生意交给一位可靠的姓高的先生做，就是一例。靠不住的先生，是不能把生意交给他做的，因为他讲嫖赌，&amp;quot;打斧头&amp;quot;、&amp;quot;打雷公&amp;quot;(&amp;quot;打斧头&amp;quot;、&amp;quot;打雷公&amp;quot;，都谓&amp;quot;吃油饼&amp;quot;[13])。&lt;/p&gt;

&lt;h1 id=&#34;4-油&#34;&gt;　　(4)油&lt;/h1&gt;

&lt;p&gt;　　油是本城第三门生意，从门岭、安远两方面来，销在城区及篁乡，三标也有点把子(点把子即一点子)。只一家油行，刘福兴，一百大洋领了一张&amp;quot;帖&amp;quot;，就算本钱。代客买卖，经过一担油收行佣两毛子。十一二月是顶大门生意，每个大圩(逢一为大圩)有一百担，两个月六百担；小圩(逢四、七)三几十担，两个月四百担。一月到十月很淡，每圩不过三几担，通共不过三百担。全年约一千三百担，抽行佣约二百六十元。因为他领了帖，由他卖独家，什么人都只能从他那里买油。帖从南昌省政府领来，要县政府用公事去，付足领帖钱，才有帖子发下来。一百块领帖费之外，还要五块钱手续费。一张帖八年有效，过了八年成为废纸，又要领过新帖。要领帖的不止油行，还有盐行、豆行和牛行。&lt;/p&gt;

&lt;h1 id=&#34;5-豆&#34;&gt;　　(5)豆&lt;/h1&gt;

&lt;p&gt;　　也只一个行，没有店，城隍庙公地上买卖。何子贞是个公安局长，近来做警察队长，寻乌的反动首领。他在民国十六年领了张帖子开豆行。生意也是十一二月顶大门，两个月有八百担。全年约共一千担，一担(一担五斗，一斗十升)豆子抽行佣两升，每担豆价七元五毛(每升一毛半)，约计抽去百分之四，每年可抽行佣三百元。何子贞是本城人，住在东门外，小时很苦，平远中学毕业，河南矿务学校读了两年，回来当小学教师，当了八九年，古柏、潘丽都是他的学生。民国十六年清党前后，古、潘等领导的&amp;quot;合作社派&amp;quot;，和何子贞领导的&amp;quot;新寻派&amp;quot;发生冲突。民国十六年四月打一仗。民国十七年，三二五暴动把何子贞赶跑。四月，何子贞恢复势力，大出头，大罚革命派的款子，后来又做公安局长、警察队长，渐渐发了些财，在近郊买了田地。他在民国十四年以前，即没有与合作社派冲突以前，是代表商业资本势力的，起始组织&amp;quot;留粤学友会&amp;quot;，开办平民义学，时在民国十年。民国十四年六月，合作社派在县城开大会，革命派势力长起来，何便与封建豪绅妥协，并且取得了对封建派的领导地位，成为寻乌最恶劣的反动首领。这次红军到寻乌，他才率领警察队(靖卫团[14])逃往项山。&lt;/p&gt;

&lt;h1 id=&#34;6-屠坊&#34;&gt;　　(6)屠坊&lt;/h1&gt;

&lt;p&gt;　　只有三个案，摆在街边，没有屠店。三个案是刘奀二、陈老二、刘世渭。刘奀二从前有百把元本，现在了了(了了即没有了)。陈老二、刘世渭也完全没有本钱，因为买猪不必要现钱，猪杀了后收了钱再付猪价，有信用便行。平均每天杀两个猪，每猪一百斤，每年杀猪七万二千斤。拿现时说，买猪进来每斤二毛半，卖肉出去每斤二毛八，每斤赚三分，全年可赚二千一百六十元，是个不恶的生意。但要出很多的屠宰税，从前三家每月出税百元，每年一千二百元。近因生意较淡，只出一千元，每家也要出三百多元。因为三家包缴屠宰税，所以三家人以外什么人也不能杀猪卖，除非自己吃便罢。红军入城后，由三案增加到七八案，销路大增。税又不要，赚了一个就是一个，屠户人人欢喜。肉价，红军未来前每斤三毛二，现在每斤二毛八。&lt;/p&gt;

&lt;h1 id=&#34;7-酒&#34;&gt;　　(7)酒&lt;/h1&gt;

&lt;p&gt;　　陈贵和、高元利、元利栈、周裕昌、刘双盛、凌文盛、彭同孚这七家是较大的酒店，范广昌、邝洪盛、骆得利是小酒店。周裕昌(吉安人)、高元利(吉安人)、刘双盛(本地人)、陈贵和四家是最大的，本钱都不出百元。凌文盛(本地人)、元利栈(吉安人)、彭同孚每家不过四五十元。以上七家都是卖糯米做的甜酒，叫做水酒，因为色黄，也叫黄酒。这是农民和城市贫民一般喜欢喝的，因它味醇，也吃不坏人，又较便宜的原故。分为&amp;quot;双酒&amp;quot;、&amp;quot;单酒&amp;quot;(只城里这样称呼，乡下不说双单而说&amp;quot;好&amp;quot;&amp;quot;淡&amp;quot;)，双酒酒娘多。卖酒以壶算不以斤算。双酒十八个铜板一壶，是黄酒中最好的，普通人家请客才吃；但也有自己一日三餐吃的，那些酒鬼们每餐喝一点，他就不吃饭也做得。单酒十个铜板一壶，口渴了，贫民买了当茶吃。双酒生意比单酒大。范广昌、邝洪盛、骆得利三家均本城人，本钱都不过十把块钱，卖的都是白酒。还有周裕昌卖的也有白酒。这种酒用黏米做，味较黄酒烈，出卖不讲壶，零卖两个铜板一杯，趸卖一毛六分一斤。白酒生意比黄酒少，黄酒约九成，白酒约一成。不论黄白，凡属做酒生意，他的目的并不全在酒，拿了酒糟供猪(喂猪)，是他更重要的目的。自己的猪吃不完，拿了发卖，两个铜板一小碗。黄酒店最好的时节(三月至八月口渴时节)每店每天能卖五块钱，平常时节(九月至二月)每天能卖两块钱。黄酒店每家每年可做一千零二十元生意，七家共计七千多块钱生意。白酒店热季半年，每天每家收一块钱，凉季半年，每天只得五毛子，每家全年二百七十元，四家共只有一千元上下。&lt;/p&gt;

&lt;p&gt;　　酒税是非出不可的。看生意大小，大酒店每月约四毛，小酒店每月二毛，一毛五的也有。&lt;/p&gt;

&lt;h1 id=&#34;8-水货&#34;&gt;　　(8)水货&lt;/h1&gt;

&lt;p&gt;　　水货店里的东西多得很呀，&amp;quot;山珍海错&amp;quot;就是它们的标语。水货商人的荣枯得失，亦是颇饶兴味的。下面先举出各样的品类，次观察他们的得失。&lt;/p&gt;

&lt;p&gt;　　咸鱼第一大门。桂花鱼、青鳞子、海乌头、海鲈、剥皮鱼、石头鱼、金瓜子、黄鱼、金线鱼、圆鲫子、大眼鲢、拿尾子(身大尾小)、鞋底鱼(即&amp;quot;并背罗食使&amp;quot;，只有一侧有眼睛，要两鱼并走才能觅食，故普通指人互相倚靠做事谓之&amp;quot;并背罗食使&amp;quot;，就是拿了这种鱼做比喻的)、角鱼子(头上有两个角)，都是咸鱼类，一概从潮汕来。&lt;/p&gt;

&lt;p&gt;　　海带　第二大门。有青带、海带两种。青带亦名赣带，最好，赣州来。海带少于青带，货较次，价钱较贱，梅县来。年销千多斤，两毛子一斤。&lt;/p&gt;

&lt;p&gt;　　糖　也是水货店里出卖，第三大门。分为白糖、黄糖、冰糖、橘饼各种。白糖中有雪粉，看是好看，不甜，梅县来；有粗白，很甜，惠州来；有糜白，中庄货，惠州来。三种都是洋糖，一毛七八一斤。黄糖中有芋头糖，一团一团的，梅县来；有片糖，一片一片的，最好，惠州来；有散沙糖，掺有沙子，最差，惠州来。过去是黄糖便宜白糖贵，现在是黄糖贵白糖便宜。黄糖过去不过一毛六子一斤，现在涨到二毛四五了。过去白糖二毛六七子一斤，现在跌到一毛七八了。黄糖都是土糖，白糖都是洋糖。本城白糖每年销千多斤，黄糖销六七千斤(只冬季有来)。因为黄糖更甜，所以比白糖销得多。冰糖从梅县来，年仅销几十斤，两毛多子一斤，属洋糖。橘饼，梅县来，年销二三十斤，三毛子一斤。&lt;/p&gt;

&lt;p&gt;　　以上各种糖中，以片糖销数为最大门，因为做米果要用它，过年时候不论城、乡、贫、富，家家都要做米果。&lt;/p&gt;

&lt;p&gt;　　豆粉　第四大门。筠门岭来的多，他县来的也有。番薯做的，还是粉，没有成条子，做肉丸等用。年销几千斤，一毛五六子一斤。&lt;/p&gt;

&lt;p&gt;　　猪皮　第五大门。普通席面用碗猪皮做假鱼肚。梅县来。年销千把斤，一毛子三两，每斤五毛半。&lt;/p&gt;

&lt;p&gt;　　闽笋　从梅县、安远两条路来，&amp;quot;闽笋&amp;quot;是个名而已。第六大门。不但酒席用它，普通亦作粗菜吃，特别是割禾莳田时候。寻乌自己本有些笋子，三四月间农民挑了卖到梅县去，七八月后寻乌人要用，又零零碎碎从梅县买了来。年销五六百斤，二毛三四一斤。&lt;/p&gt;

&lt;p&gt;　　鱿鱼　办酒席就要用，普通也要。第七大门。梅县来。年用三五百斤，每斤七八毛。&lt;/p&gt;

&lt;p&gt;　　豆豉　年销三千斤内外，一毛四子一斤。寻乌人也会做，做了熬酱油，没出卖的。差不多家家要吃，放点油到里面蒸一碗吃得几餐，人家省吃省用，往往这样做。&lt;/p&gt;

&lt;p&gt;　　面灰　即面粉，梅县来，洋面粉多。做包子，做饺子，做面条，做糕饼，都要用它。尤其是糕饼用面最多：蛋饼、提糖饼、有饼(&amp;quot;有&amp;quot;，当地读胖，意曰里面是空的)、五仁饼、猪油饼都是面做的。两毛子一斤，年用百包上下。&lt;/p&gt;

&lt;p&gt;　　洋蜡　一块一块的白东西。二毛五六一斤，每年销四五百斤。&lt;/p&gt;

&lt;p&gt;　　玉粉　又名西粉，番薯做成的，和豆粉不同就是它已造成了条子。梅县方面来。普通人都吃它。一毛子半斤左右，年销六七百斤。&lt;/p&gt;

&lt;p&gt;　　以上十一门是比较用得多的，以下各门都用得少。&lt;/p&gt;

&lt;p&gt;　　盖市　鱿鱼里的一种，即是最好的鱿鱼，请上客才用它。梅县来。用得不多，每年三两百块钱生意。普通的鱿鱼叫&amp;quot;洋鱿鱼&amp;quot;。&lt;/p&gt;

&lt;p&gt;　　菜莆　就是芜菁，和萝卜相像，腌了的。走信丰来。每年销得三两百斤，端午过了才有卖，八月一过就没有来了。两毛子一斤，比西粉贵一点。&lt;/p&gt;

&lt;p&gt;　　鱼翅　四毛子一两，用得很少，每年只要一二十斤。&lt;/p&gt;

&lt;p&gt;　　海参　每年用三两百斤，比鱼翅生意大得多，每斤二元八九毛。&lt;/p&gt;

&lt;p&gt;　　鱼肚　用三两百斤，价和海参差不多。普通席面用了海参必定要用鱼肚，便不用假鱼肚的猪皮了。&lt;/p&gt;

&lt;p&gt;　　墨鱼　只用四五十斤，每斤价七八毛，同鱿鱼差不多。&lt;/p&gt;

&lt;p&gt;　　珧柱　销二十斤上下，十二三毛一斤。&lt;/p&gt;

&lt;p&gt;　　贡鱼干　仅销十斤八斤，每斤价二毛。过去可销七八十斤。&lt;/p&gt;

&lt;p&gt;　　大虾　销七八十斤，每斤六毛。大虾并不是很大的虾，它的名字又叫&amp;quot;虾米&amp;quot;，不比&amp;quot;潮虾&amp;quot;有四两一个的。&lt;/p&gt;

&lt;p&gt;　　虾壳　极小的虾子压扁起来好像虾皮一样，叫做虾壳。销得百多斤。过年过节家家要镶豆腐——把豆腐挖一个口，把猪肉、鱼子、香菇连同虾壳，或更加入些蒜子和韭菜，剁成碎酱塞了进去，叫做镶豆腐。虾壳价每斤一毛多。&lt;/p&gt;

&lt;p&gt;　　蜇皮　三毛子一斤，销不大，每年二三十斤。&lt;/p&gt;

&lt;p&gt;　　淡菜　大的叫做&amp;quot;蚝鼓&amp;quot;，又叫&amp;quot;西利&amp;quot;。淡菜年销四五十斤，三毛多子一斤。西利本城没有卖。&lt;/p&gt;

&lt;p&gt;　　天青　一种海鱼，大的有扇子大一个。本城少卖。&lt;/p&gt;

&lt;p&gt;　　以上盖市到天青各种都是海菜，从潮汕来。&lt;/p&gt;

&lt;p&gt;　　金针菜　即黄花，两毛子一斤，年销四五十斤。&lt;/p&gt;

&lt;p&gt;　　云耳　销四五十斤，十毛子一斤，光绪年间每斤不过五毛子，涨了一个对倍。梅县来。&lt;/p&gt;

&lt;p&gt;　　香菇　销百把斤。冬菇较好，两块零钱一斤。春菇较坏，一块二三毛一斤。本地出产。&lt;/p&gt;

&lt;p&gt;　　冬菜　白菜制成罐头，过去走天津来，近来梅县也可以造了。销得百多罐，每罐四毛。&lt;/p&gt;

&lt;p&gt;　　腐竹　豆腐皮卷成条子，两毛多钱一斤，销四五十斤。兴宁来。&lt;/p&gt;

&lt;p&gt;　　豆腐霉　即腐乳，梅县来。豆腐浆、芋子、面粉三样东西做成，与普通人家用豆腐干做的不同。&lt;/p&gt;

&lt;p&gt;　　胡椒　白胡椒，销十把斤，十二毛子一斤，光绪年间不过四毛钱一斤，贵了两倍。乌胡椒，销二三十斤，五六毛子一斤，光绪年间不过两毛多子一斤。都是外国来的。&lt;/p&gt;

&lt;p&gt;　　榄豉　把生橄榄煮熟，去核发霉，即成榄豉，寻乌叫榄角，梅县叫榄豉。每年只销得十多斤，每斤价二毛多。&lt;/p&gt;

&lt;p&gt;　　酱油　本地做的也有，门岭来的也有。小黄豆子蒸熟，晒得半干，摊开使它上霉，再拿了去煮。煮出来的水加进香料和盐，就成酱油；煮后的豆子就成豆鼓，但这种豆豉是不好的。好豆豉是煮好没有滤去酱油的豆子。豆豉和酱油均以三、六、九月生意较大。豆豉每月销得二三百斤，年销三千多斤，每斤价一毛四。酱油每年销三几百斤，每斤价一毛半。&lt;/p&gt;

&lt;p&gt;　　柿花　年销百把块钱，小的三个铜板一个，大的一毛子两个。&lt;/p&gt;

&lt;p&gt;　　红枣黑枣　两样年销百零斤，黑枣四毛子一斤，红枣两毛子一斤。&lt;/p&gt;

&lt;p&gt;　　龙眼　一年只销十把二十斤。有壳的三毛多子一斤。无壳的叫&amp;quot;元肉&amp;quot;，十毛一斤，药店里才有。&lt;/p&gt;

&lt;p&gt;　　荔枝　很少有卖。价和龙眼略同。&lt;/p&gt;

&lt;p&gt;　　杨桃干　销得几十斤，四毛子一斤。&lt;/p&gt;

&lt;p&gt;　　从柿花到杨桃干各种均从梅县来。&lt;/p&gt;

&lt;p&gt;　　瓜仁　就是瓜子，信丰、门岭都有来，三毛零子一斤，销得二三百斤。&lt;/p&gt;

&lt;p&gt;　　以上三十九种都是水货店的生意。此外，水货店还附带卖洋油和茶油。&lt;/p&gt;

&lt;p&gt;　　水货店中的盛衰兴替，不可不一述其概要：&lt;/p&gt;

&lt;p&gt;　　顺昌老店、顺昌兴记、卢权利、汤尧阶、荣春祥、骆接赐、张均益七家，是水货生意中大一点的。此外，还有卖水货的小摊子若干家。其中，顺昌老店和张均益是杂货店兼做水货。&lt;/p&gt;

&lt;p&gt;　　顺昌兴记是顺昌老店的分支，水货生意中算最好的，有千把块本钱，每年向梅县缴得动两三百元。店主范祖先，本城人，家中二十多人吃饭，生意赚项仅敷缴用。&lt;/p&gt;

&lt;p&gt;　　卢权利，算第二家水货店，梅县人，资本千多两千元。除水货外，还做桐油、茶叶、香菇、茶油各样，运往兴、梅做&amp;quot;行岗生意&amp;quot;，他做的水货生意不如兴记，这一宗却是兴记所没有的。他也能在梅县缴得些些动，因为他是梅县人，生意颇红，缴千把八百都是没有问题的。他自己两公婆，请了两个先生(年薪各六十元)，除缴用外，每年至少赚两三百元，财气好的年头，千把八百也要赚。&lt;/p&gt;

&lt;p&gt;　　汤尧阶，蕉岭人，资本二千元，没有请先生，缴用以外，无钱赚。早几年开油盐行很赚钱，前年起蚀本，改做水货。&lt;/p&gt;

&lt;p&gt;　　荣春祥，本地人，资本七八百元。家里有几十担谷田，七八人吃饭。不请先生。用度呢，生意赚了钱来开支，城外家中的谷子就储蓄起来，算水货店第一家好的。苏维埃成立，把他的田没收了一部分，不待说心里是呕气的。他小时很穷，帮土豪管账赚了些钱，买点田起家。&lt;/p&gt;

&lt;p&gt;　　顺昌老店主人范兴甫，本城人，三四百元本，家里十多个人，请了个先生(薪水五六十元)，水货生意仅能敷口。他的祖父范渊甫是个大地主，三个儿子，全家百四十多人，年收八百担谷。后来败下来，土地分散，范兴甫一家只有三四十担谷子的田了。现在苏维埃分田，他家还能分一点进去。但他的兄弟范老八却能收百多担谷，今年分田大部分要分出去。老八没有做生意。顺昌兴记是他共祖公的兄弟开的，有四五十担谷田，二十多个人吃，苏维埃分田有点分进去。前清末年到民国初元，他家兄弟共有老店、兴记、达记、茂记、钧记、鸿昌、禄丰等七家店子，做的绸缎、布匹、杂货、水货各色生意，招牌响得很，赣州缴得动四五千元，和那时的郭怡和不相上下。民国十一年起渐次衰败，到民国十四年便只剩下老店和兴记两家了。主要的原因是市场变动了——洋货市场代替了土货市场，即梅县生意代替了赣州生意，寻乌南半县不需要赣州土货的供给了。这个原因，是和郭怡和失败同样的。其次是因为子弟很多，生长在那些封建经济的家庭里(大地主和初期商业资本的家庭里)，大嫖大赌，大吃大着，&amp;quot;练腔调&amp;quot;(闹阔气)，把个家门了了。那时候(民国十年以前)，寻乌的城东小学(一些地主凑股子办的，五块钱一股)是个有名的&amp;quot;毕业公司&amp;quot;。全县地主子弟练腔调无出息的，拿了钱去这个公司里坐三年，得张文凭，就大摆其架子，用他们的名片上&amp;quot;城东小学毕业生&amp;quot;几个字，回到家里骗祖宗。什么叫做骗祖宗呢?第一是刚毕业的时候，祠堂里头照例赏给毕业生一些钱，叫做&amp;quot;抢花红&amp;quot;；第二是每年和那些秀才举人有功名的平分学谷；第三是每年祭祖完毕和有功名的分胙肉。范家的少爷们竟有六七十个进了这个毕业公司。他们毕业后，在他们的大小公堂中，除开抢花红得谷子外，单分胙肉一门，每年得一百斤。&lt;/p&gt;

&lt;p&gt;　　骆接赐，本城人，二三百元本，四个人吃饭，没有请先生，蒸烧酒，卖水货，除开销外，能赚一头二百块钱(即一二百元)，算是一家好的。他从前好嫖，讨了个老婆不嫖了(用去五百多块钱讨来的)，老实勤快，酒糟又可供猪，所以年好一年，家里有十多担谷田。&lt;/p&gt;

&lt;p&gt;　　张均益，做水货又做杂货，一头二百元本，其余是借来的。没有请先生，指挥他的儿子做生意，每年颇有些赚头。他是本地人，五六年前是个挑夫，帮寻乌城的商人挑了米子或者香菇去梅县，从梅县挑了布子及咸鱼回到寻乌。他自己挑东西，同时又当夫头。这种夫头的职务是能够赚钱的。寻乌商人拿了钱给他去办货，寻乌城的老板和梅县的老板两头都给酒钱与他，因此他就慢慢地发起财来。&lt;/p&gt;

&lt;p&gt;　　摆摊子的水货生意，每家不过几十元本，多的不过一百元，他们的货是从本城大水货店和过往小贩那里买来。这种摆摊子的，往往能因勤苦精干发起财来。本城由摆摊子起家开店的有许多家，潘登记、何祥盛、罗义盛、刘恒泰、范老四都是。他们有家，但没有开张门面的店，一、四、七挑着担子赶本城的圩，三、六、九又挑着担子赶吉潭的圩，这样子挣得几个钱来。&lt;/p&gt;

&lt;h1 id=&#34;9-药材&#34;&gt;　　(9)药材&lt;/h1&gt;

&lt;p&gt;　　本城就是百和堂、杨庆仁、新德生、田仁和、王普泰、黄裕兴、福春堂等七个药店。&lt;/p&gt;

&lt;p&gt;　　百和堂是第一家，主人池某，潮州人。他本来是篁乡人，姓刘。小时因家穷，父母把他卖给潮州池姓药商。后来他到寻乌开药材店，本钱千元内外，就当起老板来。广东商人有句俗话：&amp;quot;不怕扯，只怕绝。&amp;quot;那些没有儿子的人，一定要买个儿子传代，就是为了&amp;quot;怕绝&amp;quot;呢。也有为了劳动力需要的理由而买儿子的。普通买了来，聪明能干的把他做儿；蠢笨的呢，就把他做&amp;quot;奴古&amp;quot;[15]。百和堂主人自己是买来的，他因生子不育，又买来一个儿子，随后他自己也生了两个儿子、两个女娃子，连他的老婆共七个人吃饭。又带三个徒弟。有些钱赚。药材生意是很有利的，用秤称了进来，用戥子戥了出去。分粗药嫩料两类，粗药(水药)是治病的，一般人都要吃；嫩料是补品，只土豪才买得起。嫩料有价钱讲，粗药听药商话价。七家药店中，只百和堂、杨庆仁、王普泰三家有嫩料。&lt;/p&gt;

&lt;p&gt;　　杨庆仁，樟树人，过去有本五六百元，去年被他儿子赌掉几百块，现只二三百元了。&lt;/p&gt;

&lt;p&gt;　　王普泰，也是樟树人，百元左右本钱，和寻乌劣绅何子贞及天主堂陈神父(梅县人)勾结。陈神父借给他四百元，此外还向土娼来凤子借了两百元，除药店外再开了一间洋货店。来凤子的钱是从哪里来的呢?她跟了赖世璜[16]部下一个连长，去年回到寻乌，带来了三百块造孽钱。王普泰想方法巴结来凤子借了这笔钱。钱借到了，王普泰送了许多礼物给来凤子，花露水呀，汗巾呀，等等。&lt;/p&gt;

&lt;p&gt;　　新德生，主人姓杜，也是樟树人，四五百元本。田仁和、黄裕兴、福春堂都是樟树老表，都是一百元本。&lt;/p&gt;

&lt;p&gt;　　每年药材生意，百和堂值三千元，庆仁堂八百元，新德生、田仁和各六百元，王普泰四百元，黄裕兴、福春堂各三百元，共六千元。&lt;/p&gt;

&lt;p&gt;　　王普泰是参加反动组织的，反动派会议他必到场，虽然他表面上没有做什么官。杂货店的陈志成，水货店的宝华祥，火店的同来安，都是以商人干与政治。苏维埃势力进城，四家都被没收。&lt;/p&gt;

&lt;h1 id=&#34;10-黄烟&#34;&gt;　　(10)黄烟&lt;/h1&gt;

&lt;p&gt;　　城里有两家制造黄烟的店子。一家叫黄裕丰，上杭人，在寻乌开店开了两代，先前有本三千元，兼卖纸张杂货，赚了万多块钱，拿回上杭买了田，现在本城店里还有本钱千多元。另一家叫做涌泉号，也是自己制黄烟，安远人，三五百元本，前年才开张。&lt;/p&gt;

&lt;p&gt;　　黄裕丰请了两个工人，一个刨烟，一个打包。涌泉号请了一个工人。工人年薪六十元。吃老板的饭，这一点与杂货药材店的&amp;quot;先生&amp;quot;差不多。不同的是工人平日无肉吃、无酒喝，只初一、十五才打牙祭，先生则平日有吃，因此没有特别的打牙祭。吃饭也有些不同，先生经常地同老板共桌吃，工人则人少时和老板共桌，假如多了几个工人呢，老板便同先生做一桌，工人另外做一桌。这些都表示先生的身份比工人高。工人普通不唤工人，唤做&amp;quot;师父&amp;quot;。&lt;/p&gt;

&lt;p&gt;　　杂货店、水货店的黄烟，多是从这种制黄烟的店子里买去的。&lt;/p&gt;

&lt;h1 id=&#34;11-裁缝&#34;&gt;　　(11)裁缝&lt;/h1&gt;

&lt;p&gt;　　共有用机器的十三家，手工三家。刘芹英、黄嫂子、廖接芳、刘森河、刘师父、谢神保、范癞子、谢其龙、何祥古、谢师父、黄老五、黄上先都是用机器的，每家一架&amp;quot;车子&amp;quot;(即缝纫机)。每家的老板都同时是工人。每人带个徒弟，缝下子边，打下子扣绊。这种裁缝店的资本，就是买一架机器的本钱。机器第一等百二十多元，第二等七八十元，第三等三四十元(是别人用旧了的)。民国九年以前，寻乌没有缝纫机，一概手工做。民国九年有个兴宁人何师父，第一次弄来一架机器开店。他原先是在留车开店，民国九年搬到县城来。因他&amp;quot;剪刀很利&amp;quot;(寻乌人说裁缝偷布，不说他偷布，而说他剪刀很利)，又好嫖，站不住，带着车子回兴宁去了。前年(一九二八)还只四架，去年增至十三架，内有几架是买了别人的旧车子。其中黄老五手艺顶好，生意顶大，勾结官厅及豪绅，包了好衣服做，因此赚钱买了田地。三二五暴动，他即表现反动，这次革命势力进城，他就跟反动派一路跑了。衣服式样，民国九年何师父创用机器，兴&amp;quot;上海装&amp;quot;(破胸、圆角、打边)。民国十二年，上海装不要了，行一种破胸、方角、大边装。去年起行&amp;quot;广州装&amp;quot;(七扣四袋而身很长)，一小部分人喜欢穿这一种，但多数人还是大边装。从来的衣，一律是旧式的&amp;quot;大襟装&amp;quot;，从兴新学起，开始有破胸新装，到了民国七八年，新装渐渐多起来。但直到去年，拿全县人口说，还是旧装的多，新装的少。近两年来，尤其是土地革命胜利后，新装日渐加多，特别以青年为普遍。青年学生，不待说老早是新装，青年农民、青年工人，大多数也是新装了，除非是很穷无钱做衣服的才仍然是旧装。在青年群众中，特别是鞋子起了个显著的变化。去年夏季，南半县抗租得了胜利，冬季又分了田，农村中三十岁以下的青年人，十分之七以上都穿起胶底鞋和运动鞋来(这种鞋的底是从广州运到兴宁，兴宁做成鞋子，每双十毛左右)。赤卫队和苏维埃办事人，不但一概是新式衣和新式鞋，他们还要佩个电筒，系条围巾，有些还要穿薄毛羽的夹褂子裤。&lt;/p&gt;

&lt;p&gt;　　城里手工缝衣店至今还剩三家。&lt;/p&gt;

&lt;p&gt;　　手工与车子的比较是：手工做一件的时间，车子差不多可以做三件。工价的比较：每套短衣裤手工做七毛，机器做六毛。货色的比较：车子做的好于手工做的。机器哪得不驱逐手工?&lt;/p&gt;

&lt;p&gt;　　全县重要圩场吉潭、澄江、石排下、车头、牛斗光、留车、篁乡(采用机器比任何一处早)、公平、荒塘肚、岑峰等十处，都有缝纫机，因此全县人口中已有百分之三十废除手工、采用机器做衣了，特别寻乌的南半县机器化的速度更发快。&lt;/p&gt;

&lt;h1 id=&#34;12-伞&#34;&gt;　　(12)伞&lt;/h1&gt;

&lt;p&gt;　　彭万合、李祥仁两家造纸伞。彭万合是武平人，在寻乌城开伞店，开了三代一百多年了。初来寻乌时只有一二百元做本，做伞逐渐赚了钱，到前年(一九二八)三二五暴动前，连田产共有千多两千块钱资本了。店主彭老五子，他的父亲彭盛祥十多年前在寻乌南门外田背地方买了六十担谷田，起了一栋新屋。他家兄弟老三、老七在田背住家。他自己在城内做伞生意。田背的田租给农民耕种，每年收租十分之五。他家本有七个兄弟，死了四个，还有三个兄弟，六个儿子、侄子，一个母亲，三个妇人，五个媳妇，共十八个人吃饭。儿子在初等学堂读书。他们三兄弟中，他是做伞的，三十岁了。请了两个工人。他的兄弟老七子，二十多岁，曾在革命派办的中山中学读过二十几天书，就碰着三二五暴动，反动派加上他&amp;quot;暴徒&amp;quot;的罪名，没收他田背的家产，烧掉他田背的房屋。老三、老七都在城东学校毕业，不过老三读的是在&amp;quot;毕业公司&amp;quot;时代的城东学校，老七时城东学校却已经是改造过的，即革命的中山学校派办理的时候了。因此老七于城东学校毕业后，也就进了中山学校，加入&amp;quot;暴徒&amp;quot;队伍里。老三自城东毕业后，就在武平当小学教员，现在老七也跑到武平去了。老五的店子现在只有四五十元资本了。他父亲彭盛祥时代(光绪年间)纸伞还很盛行，那时候社会用的伞有了三成洋伞，还有七成是用纸伞。民国到今，恰好斢了一个方向：洋伞占去七成，纸伞只有三成。不论城乡，不论工农商学，凡属&amp;quot;后生家&amp;quot;和&amp;quot;嫩妇女子&amp;quot;，差不多一概打着洋伞了。洋伞是从梅县和兴宁来，因此彭盛祥时代南半县的留车、牛斗光要到县城彭店来买纸伞，现在却通通往梅县、兴宁买洋伞去了。从前彭万合每年要造出三千把纸伞发卖，现在每年不过只造得千二三百把了。从前(光绪年间)彭店雇工六七人，于今只雇两个人了。伞价从前每把二毛五，于今四毛五。&lt;/p&gt;

&lt;p&gt;　　李祥仁是个南康老表，四十多岁，伞工出身，民国初年当了老板。四五十元本，每年出伞二千左右，请了两个工，一个削骨子，一个褙纸，他自己上油。&lt;/p&gt;

&lt;p&gt;　　洋伞有羽绸伞、洋布伞两种。羽绸伞通是日本货，中国不能做。洋布伞的洋布和铁骨也是外国来的，中国人把它绷起来，加上一个伞把子。羽绸伞每把价一块大几(谓一块五毛以上)，洋布伞每把一块二三。纸伞、洋布伞、羽绸伞的销行比例是：纸伞、洋布伞各百分之三十，羽绸伞百分之四十。&lt;/p&gt;

&lt;p&gt;　　伞业现在没有人学徒弟了。拿寻乌城来说，不但现在，近十年来就没有人喜欢学做伞了。它的原因不外：一、伞业的前途是没有希望的；二、伞店的学徒比杂货店的学徒要辛苦，学做伞十三四岁才去学得，要煮一店人的饭，又要买菜，又要扫地，又要捡拾作坊里一切拉拉杂杂的东西。&lt;/p&gt;

&lt;h1 id=&#34;13-木器&#34;&gt;　　(13)木器&lt;/h1&gt;

&lt;p&gt;　　从前只有一家，胡东林，赣州人，四五百元做生意，开了二十多年，制造各种木器出售，如台、凳、椅、桌、床铺、脚盆、衣架、水桶、柜子、面盆、尿桶、托盘、招牌、匾额(酬神、祝寿、颂德等用)、对联、书箱、衣箱、壁橱，学校用的黑板及其他用具，送礼用的扛盒和撑格，等等。&lt;/p&gt;

&lt;p&gt;　　木器店算这一家大，他的木器不但销在城区，而且销往各区各县。但他店里的那些木器主要不是供给工农贫民，而是供给地主阶级、中等商人和富农的，因为他的那些东西工农贫民要不了，除非为了嫁女才向他买些小衣箱、小柜子之类。他家很苦，在赣州。二十年前他从赣州来寻乌帮人家做木工，积了点子钱开个小木店，慢慢发展，盛时请过四五个工，赚了千把块钱，付了一半去赣州，剩下四五百元做生意。一九二八年起始没有好多生意了，只留了一个工人，他自己做，儿子帮一点，仅仅敷口。衰败下来的原因，完全在于土地革命。北半县没有革命，也受了革命的影响。地主阶级和其他有钱人也不做寿了，也不做热闹喜事了，酬神和歌颂功德也停止了，学校也大半关门了，他的生意哪能不衰败下来呢?&lt;/p&gt;

&lt;p&gt;　　他的木器的样式，凡供给封建地主的一概是旧式，但也有一部分是采取进步样范的，那就是学校和教堂的用具。他和福音堂的包牧师有来往。南门外福音堂和教会医院的建筑，木材部分和木器，是由他承包做的。&lt;/p&gt;

&lt;p&gt;　　他的亲戚薛某，去年邀了十个人打了一个&amp;quot;月月标&amp;quot;的会，每人五块钱，共五十元起本，开个小小木货店在城隍庙侧边，不请工，两父子做，一年蚀了本，奄奄无生气了。&lt;/p&gt;

&lt;p&gt;　　工农贫民要用的木器乃是圩场上供给的。每逢一、四、七圩期，便板子呀，提桶呀，水桶呀，脚盆呀，饭甑呀，饭盆呀，饭勺呀，水勺呀，锅盖呀，倾盆呀(覆菜碗、覆锅头的盆子)，砧头呀，菜板呀(切菜用，圆的叫砧头，方的叫菜板)，洗碗盆呀，禾篮呀(盛了割下来的禾挑往禾坪里去打的)，谷斗呀(打禾用)，砻盘呀(推子)，楼梯呀，等等东西，都由那些住在山肚里&amp;quot;做圆木的&amp;quot;匠人们挑了来卖。并不是每次圩期都有那一切东西，是依了时节和需要而向圩场上供给的。砻盘一种要定做。风车要上杭师父才能造。全县有十来个上杭师父，每年由上杭来一二次。水车一门，本县农民百家中只有一具，因本县陂圳多，很少遇到干旱，用不着水车这种东西。&lt;/p&gt;

&lt;p&gt;　　南门外还有两家棺材店，每家都只有四十元本，造的都是贫民用的&amp;quot;火料子&amp;quot;(又叫&amp;quot;火板子&amp;quot;)。地主、资本家乃至稍微有几个钱的佃农和工人，普通都是自己请木匠做棺材。只有极穷人家，或是&amp;quot;抖紧&amp;quot;时候(急用时候)，才会买这种火料子。失了东西或被人损坏了东西的人，常常是这样破口大骂：&amp;quot;爱割爱绝的!爱绝人毛的!火板子夹的!火料子装的!&amp;quot;(&amp;quot;爱割&amp;quot;的&amp;quot;割&amp;quot;，消灭的意思。)这就是形容火料子这种棺材是不名誉的人才用它的。有钱人家自己请木匠做棺材，这种木匠除本地人外，一部分是上杭人，就是那些造风车的师父们，他们兼着造棺材。&lt;/p&gt;

&lt;h1 id=&#34;14-火店&#34;&gt;　　(14)火店&lt;/h1&gt;

&lt;p&gt;　　有刘万利、合昌隆、刘鸿兴、温得利、潘发利、潘金利、汤日恒、同来安、曾记涛、九嫂子、大只四嫂子、古流芳、刘奀二(兼卖白酒)、古裕昌等十多家。火店里的客人以挑担子的为最多，占去百分之八十。卖牛的，背包袱子的(背着包袱子向着别地找生活去)，四乡到城里来打官司的，往赣州读书的，变把戏的，卖膏药的，算八字的，和尚化缘的，行医的，看风水的，唱叫化歌的(即唱莲花落的)，共占百分之二十。那百分之八十的挑担子客人中，大多数是鸡鸭客子，少数是挑烟皮客子(烟皮即烟叶)。&lt;/p&gt;

&lt;p&gt;　　开火店不要多的资本，只须几条旧被窝，几床粗席子，买点米买点柴火，就可开张。店屋租钱要在几个月后才交付。&lt;/p&gt;

&lt;p&gt;　　开火店赚钱，靠赚那些撑伞子的和穿长衫子的。他们来了，把点好东西给他们吃，把点好床铺给他们睡，要走了给他们重重地敲一下子。挑担子的及其他穷人来了，火钱(即歇钱)饭钱都要轻些。吃饭照碗数算，比长衫客子照餐数算，便宜得多，每碗半毛(会吃的一碗又一个零碗就够，不会吃的半碗也够)。吃酒的一壶水酒等于一碗饭价。火钱每夜三个铜壳子(即铜板)，因为要点一盏灯火，还要烧水洗身，故要火钱。冷天盖被窝，另拿被窝钱，每人两个铜壳子。火店卖酒饭的利润，每十毛本赚四毛。真的讲起来，开火店的赚钱，还是靠畜猪子，因为火店的糠、饭汤和零饭，是经常有的。&lt;/p&gt;

&lt;p&gt;　　火店的对头是警察和衙门口的差人，因为警察、差人要盘查，常常借了盘查为难客子，弄客子的东西，如像借了查烟土，一转眼把客子的银钱偷去了。若当戒严时候，还要因对答不妥当受那无妄的飞灾。以此客子怕上城里的火店，天还没黑，就在黄垇、河岭、长举、新寨等离城三里到十里的地方歇下来，火店的生意大受影响。&lt;/p&gt;

&lt;p&gt;　　火店中，同来安店是反动的。店主陈登祺，出身却是贫农，家在留车，穷得没饭吃，因为他会两手打，便在留车一带乡下教打。民国七八年他到县城当法警，民国十四年就开了同来安店，兼做油行。他因与官厅勾结，又跟留车劣绅陈吐凤要好，三二五暴动时保护县长谢寅出险，为谢所赏识，政权恢复，被提拔为靖卫队长。他率领队兵到双桥一带掳人勒款，焚烧革命群众房屋。谢县长走了，他回到火店里。这回苏维埃没收了他的房屋。&lt;/p&gt;

&lt;h1 id=&#34;15-豆腐&#34;&gt;　　(15)豆腐&lt;/h1&gt;

&lt;p&gt;　　以不满三千人的寻乌城，却有豆腐店三十多家。寻乌城里吃饭十餐有九餐要吃豆腐。吃豆腐原因，一是价廉，二是方便。寻乌的农村中也是很喜欢吃豆腐的，不如寻乌城这样厉害，却也占了食品的一半。&lt;/p&gt;

&lt;p&gt;　　两升半豆子做一桌豆腐，豆子两升半的价钱是五毛，豆腐一桌的价钱是六毛半，赚一毛半。所谓&amp;quot;一桌豆腐&amp;quot;，就是大豆腐干四十六块，零卖每毛子七块，三个铜壳一块。若是小豆腐干，则每桌九十二块，每毛十四块，三个铜壳两块。豆腐有水豆腐、煎豆腐、豆腐干、薄干子四种。水豆腐销最多，次煎豆腐，次豆腐干；薄干子最少，因为只有人家做好事才用它。开豆腐店赚钱，主要还是拿豆腐渣畜猪子。因为每天普通只能销一桌豆腐，特别情况才能销两桌，每天只能赚毛半子到三毛子。畜猪子每年可畜两道&amp;quot;猪妈带子&amp;quot;，每道可出三四十元。若畜肉猪，每店每年可畜四个，约四百斤，出得一百元。但畜肉猪供米要多，还不如畜猪子划得来。&lt;/p&gt;

&lt;p&gt;　　豆腐生意都是&amp;quot;居家生意&amp;quot;，就是一边磨豆腐，一边又耕田。&lt;/p&gt;

&lt;p&gt;　　磨豆腐不是容易事。常言一句：&amp;quot;快学难精。&amp;quot;又云：&amp;quot;蒸酒磨豆腐，唔敢称师父。&amp;quot;&lt;/p&gt;

&lt;h1 id=&#34;16-理发&#34;&gt;　　(16)理发&lt;/h1&gt;

&lt;p&gt;　　全城理发店八家。民国元年以前器具都是旧式的，装式则一律是辫子。民国元年起，开始用洋剪(挥剪和毛剪)，样式一概和尚头，没有别的。民国二年开始兴&amp;quot;东洋装&amp;quot;，器具还没有大镜子，也没有化学梳和轻铁梳子。民国六七年，兴&amp;quot;平头装&amp;quot;、&amp;quot;陆军装&amp;quot;，还是没有大镜子等。民国十年加上赣州来的&amp;quot;博士装&amp;quot;，寻乌学生到赣州读书传来这种新样。民国十二年开始有了宽八九寸、长尺二三的大镜子，又将一尺长四个脚的&amp;quot;单凳子&amp;quot;换了有靠背的藤椅子，并且开始输入了轻铁梳。这些新式器具都是从梅县来的。民国十五六年大革命时，开始输入化学梳。东洋装的名目消灭了，博士装也差不多没有了，但原来在学生和商人中盛行的平头装和陆军装，却在青年工农贫民群众中普遍地盛行起来。&amp;quot;文装&amp;quot;、&amp;quot;花旗装&amp;quot;、&amp;quot;圆头装&amp;quot;(梅县人讥笑这种装叫&amp;quot;暹罗柚&amp;quot;)这三种，却是新添的花样，盛行于小资产学生群众(这个群众是接受资本主义文化反对地主文化的)之中。文装亦名&amp;quot;西装&amp;quot;，花旗装就是美国装，它的来源是从南洋传到梅县，由梅县传到寻乌的。现在县城及别的大市镇中，剃光头的可以说完全没有了。乡村农民中，还有一大部分是剃光头。在整个人口中，那种剃平头、陆军头等等新样子的，还只是一个小部分，这一个小部分又全数属于青年群众。&lt;/p&gt;

&lt;p&gt;　　理发价，剃光头、挥光头都一毛，挥各种新装一毛半，修面只半毛。&lt;/p&gt;

&lt;p&gt;　　开理发店要四五十元本，师父普通请两个，少的一个，至多三个。工价以半年计至少三四十元，普通五六十元，最多八十元。生意好的理发店，每天每人可以做一块钱生意，普通是一个老板两个工人，平均每天能进三元，每年能进千元内外。开销工钱百多元，其余都归老板，再开销伙食(以四个人计每人七十五元)、店租(三十元左右)和器具的消耗(百元以内)，可赚四百元内外(老板自己的工钱在内)。这一笔钱的消耗呢?就是老板的嫖和赌。&lt;/p&gt;

&lt;p&gt;　　剃头和裁缝，不论工人、老板，很少有把赚项储蓄起来发财的，原因是这两种人多半聪明伶俐、好嫖好赌、好吃好着。为什么这两种人是这样的呢?大概由于他们社会地位的卑下。前清时候，社会上看剃头工是属于&amp;quot;下九流&amp;quot;的。别的地方，缝工的社会地位也很卑下。缝工虽有老婆，但他们仍是好嫖。剃头工则十个有八个没老婆。这种没老婆的人并不觉得苦楚，他们倒在嫖的上面表现十分快活。&lt;/p&gt;

&lt;p&gt;　　&amp;quot;下九流&amp;quot;是对&amp;quot;上九流&amp;quot;而言。下九流是：一削(削脚趾)，二拍(拍背)，三吹(吹鼓手)，四打(打烟铳)，五采茶(男女合唱采茶戏)，六唱戏，七差人，八剃头，九娼妓。上九流是：一流举子二流医，三流问卜四堪舆[17]，五流丹青[18]六流匠，七僧八道九琴棋。&lt;/p&gt;

&lt;h1 id=&#34;17-打铁&#34;&gt;　　(17)打铁&lt;/h1&gt;

&lt;p&gt;　　三家打铁店，叶师父、杨师父、李师父。杨师父安远人，叶、李均于都人，每家资本五十元内外。打的是篾刀，柴刀，斧头，锄头，铁鉔(即耙头)，耘田耙，耙(大耙，牛拖的)，鲢鲤刨，梭镖(寻乌土话&amp;quot;尥子&amp;quot;，梅县叫&amp;quot;挑笔子&amp;quot;，东江叫&amp;quot;尖串&amp;quot;)，刀麻(菜刀)，锅铲(炒菜用)，铲子(刨锅头用)，火钳，火铲，钩环(挑水用)，铁勺(舀米舀油用)，木匠用各种铁器(各种刨铁、各种凿子、斜铲、铁锤、凳头钳、角罗钻、割刀)，铁尺(做衫压布用)，绵刀子(裁缝用)，马刀，关刀，双刀(卡子刀)，小拐子(小把)，铁钉，门鎝(上门用)，铁箍。除马刀、关刀、双刀外，余均家常用具，销向城厢附近。打铁器和打铁方法，一概旧式。&lt;/p&gt;

&lt;p&gt;　　铁是城区南厢的黄沙水，双桥区的铁鉔水、石塅坑，南八区的车头、横径、大陂角六处地方所产，每处都有炉，铸铁，又铸锅头、犁头、犁壁(犁)。铸出的铁不但销在本县，大部分还是销往惠州、石龙，也有销往门岭的。锅头除销本地外，约有半数销往会昌及赣州，还有一小部销往潮汕。犁头、犁壁销在本县。每个炉子要挑响炭的(响炭即木炭，铸铁、铸锅都用它，挑的约二十人)，烧炭的(用木烧响炭，每窑三人，五窑炭供一铁炉，共十五人)，运砂的(铁砂从山崩下，农民挑运卖与打炉子的，这种工人不便统计)，以及炉厂内的工人(高炉铸生铁十人，炒炉铸熟铁十二人，铸锅头十二人，火夫一人，坐柜和行走三人)，共计一炉铸铁需二百人上下。每个炉子单铸铁要资本千元，单铸锅头也是千元，铸铁兼铸锅头则需二千元，大宗开支是砂子和响炭，其次是工人的伙食、工钱。炉厂有独家开的，也有合股开的。工人的工钱，师父(工头)每天十二毛，工人三毛，伙食吃老板的。坐柜每年七十元。师父和工人以日计，做一天算一天，坐柜以年计。还有神福、红包和来往盘缠，都是老板对工人的缴费。师父地位很高，待遇不好他就弄鬼，生意就要蚀本。师父会做的每年可得工资五百元。每间炉厂每年能生产四千元，六个厂二万四千元。民国以前没有洋铁来或来得少，工价又便宜，寻乌的铸铁生意比现在大，会做的炉厂每年能生产二万元以上。前清时虽只有两间炉厂，却共能生产四万余元。现在炉数加了，每间炉厂的产量却减少了，主要原因是工钱贵(工钱贵是因外来工业品贵)和洋铁侵入。&lt;/p&gt;

&lt;p&gt;　　铁价现在比三十年前(光绪二十五六年)贵两倍，那时生铁每担(四十斤左右)最贵不过十一毛，现在却是三十二毛了，即需八分钱买一斤生铁。三斤生铁打成一斤熟铁，价五毛。&lt;/p&gt;

&lt;p&gt;　　本城三个打铁店，两个于都人，一个安远人。乡下打行炉的通通是于都人。于都铁工很多，三千七八百座炉子出门，高炉每座四个人打，矮炉三个人打，共有铁工一万三千左右。他们打铁在江西，而且打到福建、广东，打到南洋去的也有。&lt;/p&gt;

&lt;h1 id=&#34;18-爆竹&#34;&gt;　　(18)爆竹&lt;/h1&gt;

&lt;p&gt;　　一间爆竹店，钟老板，会昌人，几十块钱本，开了六七年。自己及请的一个师父共两个人做，每年做得四五百元生意。老习惯大年初一那天大放其爆竹，寻乌的小小商店每家也要放两块钱。今年初一反动政府宣布戒严，不准放爆竹，不但年初一，平日也不准放，爆竹生意因此大减。南半县农民暴动区域彻底破除迷信，也不要爆竹了。因此不但本城钟老板的爆竹生意减少了，从前梅县和门岭两方输入寻乌的爆竹，近来也停止了。&lt;/p&gt;

&lt;h1 id=&#34;19-打首饰&#34;&gt;　　(19)打首饰&lt;/h1&gt;

&lt;p&gt;　　寻乌的妇女们也和别的封建经济没有彻底破坏的地方一样，不论工农商贾，不论贫富，一律戴起头上和手上的装饰品，除大地主妇女有金首饰外，一概是银子的。每个女人都有插头发银簪子和银耳环子，这两样无论怎么穷的女子都是要的。手钏和戒指也是稍微有碗饭吃的女人就有。银也是个名，实际是洋铁皮上面涂一点银，有些是铜上面涂一点银。打这种首饰的店子本城有七家之多，每家只要几十元做本。他们的首饰，一部分是人家来定做的，一部分是用个小匣子装着背往四乡去卖的。七家首饰店中，有四家是一个老板、一个工人、一个徒弟三个人做事，一家是四个人做，一家是两个人做，另一家只一个人做。学徒制度与理发业差不多，不过工作更苦些，穿的衣服也更烂一些。&lt;/p&gt;

&lt;h1 id=&#34;20-打洋铁&#34;&gt;　　(20)打洋铁&lt;/h1&gt;

&lt;p&gt;　　一家，刘俊记，兴宁人。前年来本城开店，以前无所谓洋铁。三几十块钱本，一个老婆、一个徒弟和他自己三个人。材料是洋油瓶，做的是小洋铁灯呀(不[19]灯)，盛洋油的壶子呀，盛茶油的壶子呀，舀油的勺子呀，烧茶吃的壶呀，洋油透子呀(滤子)，酒透子呀，盛茶叶的瓶子呀，各种小盒子呀等等日用必需品。所以，这样一个洋铁店乃社会需要的。生意也很赚钱，三个毛子一只洋油瓶，从本城、吉潭、三标、澄江、牛斗光等处杂货店里收了来，做成洋铁器以六个毛子卖出去。此次红军进城，刘俊记不知何故跟着反动派跑了。&lt;/p&gt;

&lt;h1 id=&#34;21-修钟表&#34;&gt;　　(21)修钟表&lt;/h1&gt;

&lt;p&gt;　　也是一家，叶公昌，梅县人，除工具外，十把块本钱，专门修理钟表。全县除本城一家外，牛斗光还有一家。两家都是前年(一九二八)开的。寻乌全县有十二万人，百分之二的有了钟表，共有钟或表二千四百个，所以需要一两家修理钟表的店子。&lt;/p&gt;

&lt;h1 id=&#34;22-圩场生意&#34;&gt;　　(22)圩场生意&lt;/h1&gt;

&lt;p&gt;　　寻乌城还是个店铺生意和圩场生意并行着的城子。以寻乌情形说，圩场生意代表半自然经济，店铺生意代表商品经济。店铺生意与圩场生意的比例是：店铺占百分之七十，圩场占百分之三十，可见商品经济势力超过自然经济很远了。&lt;/p&gt;

&lt;p&gt;　　圩场生意的要项如下：&lt;/p&gt;

&lt;p&gt;　　第一是米。米生意全在一、四、七圩期做，店铺不做这门生意。米不但是本城许多人要的(本城人口中农民部分自己有米)，而且运到广东去。梅县人或大柘人挑来一担盐，兑一担米回去，叫做&amp;quot;盐上米下&amp;quot;，因此米生意比寻乌城一切生意大。寻乌城的大宗生意是第一米，第二盐(年十万元以上)，第三布匹、洋货(十万元)，第四豆(二万余元)。米价，光绪二十六年每担(一百七十二斤)四元，民国元年五元，民国十六年旱灾有过十六元，本年红军未到八元五毛，既到七元。&lt;/p&gt;

&lt;p&gt;　　第二是柴火。木炭、水炭子、片柴、把子柴、蕗基，从四乡挑来&amp;quot;赴圩&amp;quot;。木炭(响炭)价，光绪二十六年每百斤五毛，民国元年到十七年每百斤八毛到十二毛，去年因雨多每百斤涨到二十二毛，现每百斤十六毛。片柴价，光绪二十六年每担(七十斤)一毛七八，民国元年二毛二三，民国十年到十六年四毛，民国十六年到现在五毛到六毛。&lt;/p&gt;

&lt;p&gt;　　第三猪肉。前头店铺生意中已讲了的三个案子，其实应该讲在圩场生意里面，因为是圩场上的生意。&lt;/p&gt;

&lt;p&gt;　　第四猪子。细猪子(两个月的)和猪条子(三四个月的)都没有行，都在圩场上买卖，每圩约三十个，每月九圩共二百七十个上下。现细猪子每斤三毛，猪条子二毛，大肉猪二毛五。为什么猪条最便宜呢?因为猪条子是四五十斤一个，不是很没有钱用的人不肯拿了出卖的，但迫得拿了出卖时，人家就卡他的价钱了，他也只得忍痛丢手。&lt;/p&gt;

&lt;p&gt;　　第五鸡鸭。本地四乡来圩上零卖的，为数不多，平常每圩鸡鸭两门十把二十只，也有时一只都没人要的，这证明了寻乌城之苦。过年过节每圩可销百多只。价钱，鸡每斤四毛半，鸭三毛。&lt;/p&gt;

&lt;p&gt;　　第六竹木器。木器在圩场出卖的部分已在前面店铺生意中木器项下附带讲过了。现在讲竹器，谷箩、谷笪(笪读达，即晒簟)、畚箕(挑灰粪下田的)、鸡鸭笼、猪笼、篮子、橐子(盛米果等零碎东西的)、磨栏(即栏盘)、糠筛、簸箕、睡床(睡椅)、撮箕、竹椅、灶捞(捞箕)、筷子、扫把、洗锅把、掇耳子(即鸢箕，比畚箕小)、角箩(小孩子装米果吃的小箩子)、篓(即鱼篮，摘茶子[20]也可用)、河子(即&amp;quot;得鱼忘签&amp;quot;[21]之签，别处曰篆)、茶篮、签麻(斗篷)、菜篮、晒篮等等竹器，通通在圩场上卖。&lt;/p&gt;

&lt;p&gt;　　第七小菜。芥菜、芹菜、苋菜、蕌头、脉子、芥蓝菜、蒜子、苦瓜、冬瓜、南瓜(丝瓜)、节瓜、甜瓜、黄瓜、西瓜、番莆(南瓜)、茄子(广东人叫吊菜)、凤菜(又叫空心菜，别地叫蕹菜)、芋子、莆子、萝卜、韭菜、葱子、茼蒿菜、白菜、菜头(芥菜头)、当机(即刀豆)、辣椒、雪豆、彭皮豆(扁豆)、豆角、八月角(八月豆)、老虎豆、树豆子、青豆芽、黄豆芽、马齿、黄芽白，以上各种小菜都由附近乡村供给本城居民。&lt;/p&gt;

&lt;p&gt;　　第八鱼。有鲩、鲢、鳙、虾子、鲤、鲫、黄鳝、泥鳅、虾蟆、虾公、元鱼(脚鱼)、河鱼子、&amp;quot;抢&amp;quot;等等。普通市上卖的只有鲩、鲢、鲤、鲫、黄鳝、泥鳅、虾蟆数种，其余各种不经见。鲩每斤二毛半，黄鳝每毛十两，泥鳅每毛一斤，虾蟆每毛七两。&amp;quot;抢&amp;quot;是少有的大鱼，寻乌城去年曾卖过一个四十斤的，别的地方有七八十斤的，由惠州一带循河上来，个把人淹死在水里，正好做了它的食品。&lt;/p&gt;

&lt;p&gt;　　第九糖。粉、糍粑、那子(粉皮)、板子(软板子、铁练板、铁勺板、豆子板、油果、糖板子、鱼子板、苎叶板、番薯板、印子板各种)。圩期到了，他们就来了，特别是&amp;quot;会景&amp;quot;的时候(迎故事或打醮的时候)来的更多。一两块钱本钱。&lt;/p&gt;

&lt;p&gt;　　第十水果。李子最多，荸荠次之。此外，批杷、柚子、杨梅、柿子、桃子、桔子、柑子各有一些。水果不是很小的生意。&lt;/p&gt;

&lt;h1 id=&#34;23-娼妓&#34;&gt;　　(23)娼妓&lt;/h1&gt;

&lt;p&gt;　　二千七百人的小城市里，&amp;quot;老货&amp;quot;、&amp;quot;嫩货&amp;quot;有三四十家，什么昌娇呀，月娥呀，钟四妹呀，谢三妹呀，黄昭坤呀，戊秀呀，润凤呀，大观兰呀，小观兰呀，昭娥呀，来昭呀，玉淑呀，五凤呀，亦娥呀，都是这个苦群众里的著名人物。除大观兰、亦娥两个外，都是人们所谓&amp;quot;嫩货&amp;quot;，润凤、戊秀、月娥、五凤、昭坤五个更加著名。&lt;/p&gt;

&lt;p&gt;　　科举未废、文武两考盛行的时候，也有现时这样多的娼妓。科举既废，逐渐减少，光绪三十年左右只有十几名了。往后又渐加多，到现在又恢复科举时代的盛况。南半县革命向北发展，同时红军开抵澄江，娼妓们许多跑下乡去了。她们中间传说，&amp;quot;红军见草不留，扫把都要过斩&amp;quot;，所以她们吓得跑了。&lt;/p&gt;

&lt;p&gt;　　本城娼妓三标人多。寻乌人有句俗话，&amp;quot;三标的货，项山的糯&amp;quot;，就是说的三标女子美丽的意思。&lt;/p&gt;

&lt;p&gt;　　十年之前商业兴盛的时代，商人嫖娼的多，豪绅次之，豪绅子弟(所谓少爷)很少插足。十年以来换了一个地位：豪绅嫖娼的最多，少爷次之，商人嫖的最少了。商人为什么嫖的少了?因为他们的生意不行时了。豪绅为什么嫖的多?他们包了官司打，就以妓家为歇店，长年长月住在妓家，过年过节才回家一转。他们的嫖钱哪里来的?打官司，乡下人拿出一百元，他给乡下人使用二十元，八十元揣在自己的荷包里，这样子得到供给娼妓的费用。少爷们为什么从前没有到城里嫖的，近来有很多嫖的了?&amp;quot;毕业公司&amp;quot;等类的学校兴起来了，少爷们脱离那温暖的家庭走到城里来读书，觉得好生寂寞，娼妓家中少爷们的足迹就多起来了。&lt;/p&gt;

&lt;p&gt;　　(24)同善社[22]&lt;/p&gt;

&lt;p&gt;　　约当光绪二十七八年时，赣州一个绸缎店恒孚号的熊老板(南昌人)到寻乌来开办同善社，他就是所谓天恩先生。那时的善长古鹤甫是个秀才，住在城里，家务也不很好。后来善长改了潘明典，是个拔贡，有千元上下家资，现做九江地方法院书记。郭友梅是光绪二十七八年进的同善社，那时候有社员百把八九十个，以后还进了好多，最盛时本城同善社大概有二百多人。同善社的发源在四川，由那个四川的同善社发出公事到各省开办同善社，各省的政府准许后再向各县开同善社。赣州府的天恩先生是得了南昌省的公事的。他来到寻乌，首先拜会县知事，知事赞成了，出了保护告示，同善社就可以大大地开起来。入社是要经过神明的批准的，一个筒子放些纸坨子，有的写个&amp;quot;准&amp;quot;字，有的就是白纸。同善社的神明叫做达摩祖师，介绍人引导要进同善社的，走到神明面前磕头祈祷之后，伸只手到筒子里拈那纸坨，拈个&amp;quot;准&amp;quot;，便进同善社，拈个白，不能进去。有个屠夫三次都是拈个白的，有个土豪四次都拈个白的，&amp;quot;莫说无神也有神哪&amp;quot;。林虎[23]到过寻乌城，好大一个头，二十八九岁，威武得很。许崇智[24]也曾到过这里。林虎部下营连长有七八个进了同善社，在这里扎了一个多月。进同善社要入社费一元，以后随时捐钱，也不勉强。南昌同善社、四川同善社都有公事来要捐钱，公事上说：&amp;quot;捐了钱，二天到那里去了，簿子上有名字，就可吃得饭哪。&amp;quot;郭友梅捐过南昌三元，四川五元。寻乌社二百多人中有三四十个是女子。他们的成分商人百分之五十，地主百分之二十，农民百分之三十。但所谓农民没有贫农，都是&amp;quot;有碗饭吃的&amp;quot;，&amp;quot;不求人的&amp;quot;。民国七八年省政府来公事要停办同善社，停了一两年。随后唐生智[25]有公事来，说&amp;quot;善菩萨，可以信得，不要取消它&amp;quot;，又办起来。民国十二三年政府又来公事要停，才停止到今。&lt;/p&gt;

&lt;p&gt;　　每天早中晚三次静坐，叫作&amp;quot;做工夫&amp;quot;。做工夫的，两天内不能和女人睡觉，睡了就不灵验。同善社有秘密，做到五层工夫，天恩先生才有秘密讲，郭友梅还只两层工夫，未曾听得什么秘密。四川有个九层工夫的天恩先生到过赣州府，那里同善社每人出两块钱接天恩先生的风。方本仁[26]也到了。同善社每年做两次&amp;quot;龙华会&amp;quot;，社员都到，见人出两毛钱，向祖师磕头，奏鼓乐，吃斋菜。&lt;/p&gt;

&lt;p&gt;　　进了同善社，得些朋友，可以做官。&lt;/p&gt;

&lt;p&gt;　　寻乌县长曾有三个进了同善社，他们和社员们一样到同善社磕头。&lt;/p&gt;

&lt;h1 id=&#34;25-人口成分和他们在政治上的地位&#34;&gt;　　(25)人口成分和他们在政治上的地位&lt;/h1&gt;

&lt;p&gt;　　寻乌这个城，把它的人口成分剖解起来，才知它还完全是一个农业手工业城市。全城近二千七百人的各业比例如下：&lt;/p&gt;

&lt;p&gt;　　职业　　　　　人口数　　　百分比&lt;/p&gt;

&lt;p&gt;　　农民　　　一，六二○　　　　六○&lt;/p&gt;

&lt;p&gt;　　手工业者　　　二九七　　　　一一&lt;/p&gt;

&lt;p&gt;　　游民　　　　　二七○　　　　一○&lt;/p&gt;

&lt;p&gt;　　娼妓　　　　　一六二　　　　　六&lt;/p&gt;

&lt;p&gt;　　商人　　　　　一三五　　　　　五&lt;/p&gt;

&lt;p&gt;　　政府机关　　　一○○　　　　　四&lt;/p&gt;

&lt;p&gt;　　地主　　　　　　七八　　　　　三&lt;/p&gt;

&lt;p&gt;　　宗教徒　　　　　二二　　　　一弱&lt;/p&gt;

&lt;p&gt;　　共计　　　二，六八四　　　一○○&lt;/p&gt;

&lt;p&gt;　　看这个表，农民和小手工业者共占百分之七十一，便知这个城市还是以农业手工业为主体，向附城一带耕田的和开小作坊做手工的占着住民的最大多数。所谓手工业者，包括各业手工工人和手工业主，商店的店员也算在内。所谓手工业，就是缝纫店、黄烟店、酒店、伞店、爆竹店、理发店、木器店、豆腐店、首饰店、洋铁店、修钟表店、屠坊店这一些。所谓宗教徒是耶稣教十人，天主教三人，斋公六人，和尚三人，共二十二人。本城纯粹地主十二家，共约七十八人。商人兼地主五家，算在商人里面。商人是指盐行、杂货布匹店、油行、豆行、水货店、药材店、火店等，共计一百三十五人。娼妓是三十余家，三十几个妓女，却养活一百六十二人。不工不农不商，专门靠赌博敲诈、为统治者当走狗吃饭的流氓，他们的人数竟超过商人一倍，和手工业者几乎同等。若把游民和娼妓合计，便等于商人和手工业者的合计，这表示失业群众之多是怎样的可惊。所谓政府机关一百人，是指新的县苏维埃、城区苏维埃两个机关(四十人)，加上县苏赤卫队(六十人)，不是指的旧政府。但是旧政府机关人数也是与新政府人数差不多的。说到这个群众中的领袖部分，即那旧社会的指导阶级，自然不是那总数占百分之八十七的农民、工人、游民和娼妓，他们是被统治者，统治者是那仅仅占人口百分之十三的地主、商人和耶稣教天主教传教士等。商人的商会虽没有多大权力，商人群众中却有几个人参加那统治全县的县政府。不过那几个人也不是完全代表商业资产阶级说话，他们是接受地主的领导，帮着做些事。这也是因为寻乌城商业不但是很小而且是逐年衰落的原故。&lt;/p&gt;

&lt;p&gt;　　商人而能向政界话事的：第一个算何子贞，豆行老板，用个假名出张帖子拿给别人去开。他自己一面教书，一面当公安局长，又当警察队长，又当国民党委员。他父亲承包牛岗税，剥削牛商。他初回寻乌表现的是资产阶级意识，颇有新派之称，后来便与地主妥协了。现逃。第二个是黄光甫，水货店宝华祥的老板，商会的文牍，能到衙门话事。现逃，店没收。第三是火店老板陈登棋，初当法警，升靖卫队长，跑衙门。现逃。第四是杂货店主陈志成，虽没做官，却事事与反动派同谋，有会必与。现逃，店没收。&lt;/p&gt;

&lt;p&gt;　　十二家收租的地主，列举如下：&lt;/p&gt;

&lt;p&gt;　　何德新　从前收租五六百石，现收百石，七八个人，仅够开销。乡人和衙门有交涉时要请他话事。他儿子何挺拔，平远中学毕业，新寻派中坚分子。&lt;/p&gt;

&lt;p&gt;　　何成治　收三百多石，人少，有三百石出卖，是城内第一个大地主。何成治死，寡妇当家，买个儿子不能话事。&lt;/p&gt;

&lt;p&gt;　　刘佛荣　收二百多石，人少，有谷出卖，寻乌城第二个大地主。&amp;quot;水浸牛皮——很吝&amp;quot;，不与外事。&lt;/p&gt;

&lt;p&gt;　　刘段轩　只收几石谷。中山派，与何子贞打官司打穷了。他的儿子还在赣州班房里。他的儿子是赣州第四中学毕业，新的城东小学校长。&lt;/p&gt;

&lt;p&gt;　　范老八　百多石，有多余。他哥哥开顺昌老店，他在家收租，不走衙门。此次派款三百元。农民没收了他。&lt;/p&gt;

&lt;p&gt;　　范家声　百多石，有多，十五六岁，中山学生，被何子贞罚款。此次又被苏维埃派款一千元。&lt;/p&gt;

&lt;p&gt;　　张三玉　百多石，有多，寡妇管家，不出面。&lt;/p&gt;

&lt;p&gt;　　邝四嫂　几十石，有多，一个儿子，一个孙子，不反动。&lt;/p&gt;

&lt;p&gt;　　吴老四　已死，留个寡妇，一个儿子，一个孙子，百多石租，有多，不话事。吴老四光绪年间坐县署征收柜，全县钱粮由他过手。死了四年。&lt;/p&gt;

&lt;p&gt;　　范明才　先前开杂货店，歇了十多年了，收八十石，稍有多。民国初年当保卫团总，是劣绅，好嫖，好赌，现跑了。&lt;/p&gt;

&lt;p&gt;　　何祥盛　摆摊子出身，做水货生意发财，三二五暴动被罚款，生意关门。他儿子何家常，买来的，梅县东山中学毕业，三二五暴动领袖之一，共产党员，过番去了(往南洋叫&amp;quot;过番&amp;quot;)，现到福建。&lt;/p&gt;

&lt;p&gt;　　何学才　何子贞之父，县衙刑房科写口供，后做堪舆，承包牛岗税，买了几十石谷田，是个大劣绅。&lt;/p&gt;

&lt;p&gt;　　以上十二家是纯粹地主(两家中地主，十家小地主)。其中何德新、范明才、何学才三人是积极反动分子，刘段轩、范家声两人是同情革命的，何祥盛的儿子何家常是共产党员，其余六家是所谓&amp;quot;只顾发财不管闲事&amp;quot;的。&lt;/p&gt;

&lt;p&gt;　　下面五家是商人而兼地主：&lt;/p&gt;

&lt;p&gt;　　钟汇通　寻城第一家盐行，二百二十石租，有百石余剩，跑衙门，话事情。&lt;/p&gt;

&lt;p&gt;　　骆晋丰　分成四家，共六七千元。老二最富，有二百五六十石租，老实，不话事。老大死了，十多石租，糊口不够。老三有三四十石，糊口而已。老四(前商会会长，同善社主任教员)也只几十石，仅糊口。&lt;/p&gt;

&lt;p&gt;　　荣春祥　几十石租，全部储蓄着，做生意吃饭，不话事。&lt;/p&gt;

&lt;p&gt;　　温荣记　八十石，全存着，做生意吃饭。第三个儿子温锡纯与新寻派勾结。&lt;/p&gt;

&lt;p&gt;　　林笔利　水货生意，百多石，稍有多，不管闲事。&lt;/p&gt;

&lt;p&gt;　　以上五家均商人而兼地主。其中钟汇通与温荣记是反动派，余都是所谓&amp;quot;不话事&amp;quot;的。五家中钟汇通、骆晋丰两家是中地主，余三家是小地主。&lt;/p&gt;

&lt;h2 id=&#34;第四章寻乌的旧有土地关系&#34;&gt;第四章寻乌的旧有土地关系&lt;/h2&gt;

&lt;p&gt;　　本章目录&lt;/p&gt;

&lt;p&gt;　　(一)农村人口成分&lt;/p&gt;

&lt;p&gt;　　(二)旧有田地分配&lt;/p&gt;

&lt;p&gt;　　(三)公共地主&lt;/p&gt;

&lt;p&gt;　　A.祖宗地主&lt;/p&gt;

&lt;p&gt;　　B.神道地主&lt;/p&gt;

&lt;p&gt;　　C.政治地主&lt;/p&gt;

&lt;p&gt;　　(四)个人地主&lt;/p&gt;

&lt;p&gt;　　A.大地主&lt;/p&gt;

&lt;p&gt;　　B.中地主&lt;/p&gt;

&lt;p&gt;　　C.大中地主对于生产的态度&lt;/p&gt;

&lt;p&gt;　　D.大中地主的政治思想&lt;/p&gt;

&lt;p&gt;　　E.小地主&lt;/p&gt;

&lt;p&gt;　　(五)富农&lt;/p&gt;

&lt;p&gt;　　(六)贫农&lt;/p&gt;

&lt;p&gt;　　(七)山林制度&lt;/p&gt;

&lt;p&gt;　　(八)剥削状况&lt;/p&gt;

&lt;p&gt;　　A.地租剥削&lt;/p&gt;

&lt;p&gt;　　1.见面分割制&lt;/p&gt;

&lt;p&gt;　　2.量租制&lt;/p&gt;

&lt;p&gt;　　3.&amp;quot;禾头根下毛饭吃&amp;quot;&lt;/p&gt;

&lt;p&gt;　　4.批田&lt;/p&gt;

&lt;p&gt;　　5.批头、田信、田东饭&lt;/p&gt;

&lt;p&gt;　　6.谷纳、钱纳&lt;/p&gt;

&lt;p&gt;　　7.铁租、非铁租&lt;/p&gt;

&lt;p&gt;　　8.&amp;quot;要衫裤着去捞&amp;quot;&lt;/p&gt;

&lt;p&gt;　　9.劳役&lt;/p&gt;

&lt;p&gt;　　10.土地买卖&lt;/p&gt;

&lt;p&gt;　　B.高利剥削&lt;/p&gt;

&lt;p&gt;　　1.钱利&lt;/p&gt;

&lt;p&gt;　　2.谷利&lt;/p&gt;

&lt;p&gt;　　3.油利&lt;/p&gt;

&lt;p&gt;　　4.卖奶子&lt;/p&gt;

&lt;p&gt;　　5.打会&lt;/p&gt;

&lt;p&gt;　　C.税捐剥削&lt;/p&gt;

&lt;p&gt;　　1.钱粮&lt;/p&gt;

&lt;p&gt;　　2.烟酒印花税&lt;/p&gt;

&lt;p&gt;　　3.屠宰税&lt;/p&gt;

&lt;p&gt;　　4.护商捐&lt;/p&gt;

&lt;p&gt;　　5.牛捐&lt;/p&gt;

&lt;p&gt;　　6.赌博捐&lt;/p&gt;

&lt;p&gt;　　7.财政局总收入&lt;/p&gt;

&lt;p&gt;　　8.派款借款&lt;/p&gt;

&lt;p&gt;　　(九)寻乌的文化&lt;/p&gt;

&lt;p&gt;　　(一)农村人口成分&lt;/p&gt;

&lt;p&gt;　　大地主(收租五百石以上的)　　　　　　　　百分之零点零四五&lt;/p&gt;

&lt;p&gt;　　中地主(收租五百石以下二百石以上的)　　　百分之零点四&lt;/p&gt;

&lt;p&gt;　　小地主(收租二百石以下的)　　　　　　　　百分之三&lt;/p&gt;

&lt;p&gt;　　破落户　　　　　　　　　　　　　　　　　　百分之一&lt;/p&gt;

&lt;p&gt;　　新发户　　　　　　　　　　　　　　　　　　百分之二&lt;/p&gt;

&lt;p&gt;　　富农(有余钱剩米放债的)　　　　　　　　　百分之四&lt;/p&gt;

&lt;p&gt;　　中农(够食不欠债的)　　　　　　　　　　　百分之一十八点二五五&lt;/p&gt;

&lt;p&gt;　　贫农(不够食欠债的)　　　　　　　　　　　百分之七十&lt;/p&gt;

&lt;p&gt;　　手工工人(各种工匠，船夫，&lt;/p&gt;

&lt;p&gt;　　专门脚夫)　　　　　　　　　　　　　　　　百分之三&lt;/p&gt;

&lt;p&gt;　　游民(无业的)　　　　　　　　　　　　　　百分之一&lt;/p&gt;

&lt;p&gt;　　雇农(长工及专门做零工的)百分之零点三&lt;/p&gt;

&lt;p&gt;　　(二)旧有田地分配&lt;/p&gt;

&lt;p&gt;　　公田　　　　　　　　　　　　　　　　　　　百分之四十&lt;/p&gt;

&lt;p&gt;　　地主　　　　　　　　　　　　　　　　　　　百分之三十&lt;/p&gt;

&lt;p&gt;　　农民　　　　　　　　　　　　　　　　　　　百分之三十&lt;/p&gt;

&lt;p&gt;　　(三)公共地主&lt;/p&gt;

&lt;p&gt;　　A.祖宗地主&lt;/p&gt;

&lt;p&gt;　　寻乌公田多，成了各区普遍现象。各种公会多得很，祠堂里的公会如什么&amp;quot;公&amp;quot;什么&amp;quot;公&amp;quot;，差不多凡属死人，只要是有&amp;quot;后&amp;quot;的，而他的后又是有钱的，他的所谓后者必定从他们的家产中各家抽出一份替他立个公。这种凑份子立公的办法是什么姓都普遍采用的。凑成的份子一概是田地，不用现钱。再则那什么公还在时，他自己就留出田产立起公来，这一种比前一种更多。公田一经成立，就年年收租。租除祭祖用费外，大概总是有多余的，便把它积蓄起来。积蓄的方式不是拿谷积蓄，而是拿钱积蓄，就是每年把多余的谷子粜给贫民，把钱积起来。积得若干年成一笔大款，便购买田地。如此下去，这一公的田地就渐渐地增多起来。但这积蓄增多的在全部款子中只占去一部分，还有一部分是由他的子孙均分了去。多半是子孙穷苦的多才主张分的，子孙富足的多呢，那便不主张分了。分是在什么时候呢?又是怎样一种分法呢?就是当那过年过节时候从祠堂里分谷分肉。男子都有分，女子没有分(有些族上寡妇有分)，每人分得几斗谷、几斤肉。这种谷叫&amp;quot;红丁谷&amp;quot;。肉有四个项目：一是&amp;quot;胙肉&amp;quot;，从前是秀才、举人有功名的人分的，后头加上&amp;quot;毕业生&amp;quot;。二是&amp;quot;房股肉&amp;quot;，每房一份。三是&amp;quot;老人肉&amp;quot;，七十以上的人每人一份。四是&amp;quot;丁肉&amp;quot;，每个男子一份。分的次序：先分胙肉，次老人肉，因为这两种人是可贵重的，每人大概分一斤。次房股肉，每股十斤八斤的有，十多二十斤的也有，整的分出去，再零分与房众。为什么要分房股肉呢?这是一种斗争，房下人少的要分房股肉，房下人多的反对分房股肉，主张分丁肉。但结果各地多半是照了人数少的房份的意见分了房股肉。为什么少数对多数胜利呢?因为这种公的产业，原是各房都有平均的权利的。次分丁肉，不是每个公都有分，多数公是没有丁肉分的，这是因为公款不多，或是人太多了的原故。有少数公堂谷肉不是平分而是轮分，名义叫做&amp;quot;轮收&amp;quot;，又叫&amp;quot;管头&amp;quot;，轮流替祖宗收租的意思。租收了，每年开支一小部分在祖宗的祭祀上，大部分落在管头的荷包里，这并不算&amp;quot;吃油饼&amp;quot;，因为这样做正是公堂经济存在的根本原因。为什么呢?当他那个祖宗还没有死，把家产分拆给儿子们的时候，为了怕他的子孙日后把分得的一点田产变卖了弄得没有饭吃，就从田产中挖出一部分不分，作为公田，永不变卖。一面有了他死后的祭费，一面呢，他的穷困的子孙便得了周济了，这叫做&amp;quot;留出后路&amp;quot;。他的子孙也很赞成这种办法，因为这就是为自己留出后路。凡那祖宗生前没有立起会的，祖宗死后，子孙们只要稍为富裕也必定为他立会，出名叫做祀祖，其实是为了自己。所以轮流收租名则是轮流替祖宗收租，实则是轮流替自己收租。在这个意义之下，那些贫苦子孙往往闹着要分公田，同时富裕部分的子孙却反对分公田，成为一种氏族内部的阶级斗争。那些穷苦人闹着要分公田也不是要分了田去耕种，他们是要分了田去变卖，得钱还高利债或买明天的早饭米。在这种情形上面，看得出贫农群众因为他们苦得没有米煮，便把什么&amp;quot;祭扫&amp;quot;呀、&amp;quot;慎终追远&amp;quot;呀等等封建思想逐渐地不要了，他们的生活迫着他们要不了这些宝贝了。&lt;/p&gt;

&lt;p&gt;　　总计祖宗方面的土地，占全部土地的百分之二十四，占全部公田的百分之六十。&lt;/p&gt;

&lt;h1 id=&#34;b-神道地主&#34;&gt;　　B.神道地主&lt;/h1&gt;

&lt;p&gt;　　神道地主即神、坛、社、庙、寺、观六种。&amp;quot;神&amp;quot;是指的各种各色的神，许多都有会，如赵公会、观音会、关爷会、大神会、真君会、婆太会、赖爷会、公王会、伯公会、文昌会等等，都是没有庙的。还有一种醮会，祈神之用，也属这一类。在上述的各种神内有一部分是立了&amp;quot;坛&amp;quot;的。坛是立起一块石头，有的几块石头垒成一个小屋，那里面藏着好灵验的神呀，因此叫做坛。不论神、坛，凡有会都有公田，出钱弄这种神会的通通是富农地主。神会的产业百分之九十五是田地，百分之五是谷子和钱。这种田、谷、钱，叫做&amp;quot;会底&amp;quot;。目的：一是为神，因为神能保佑他们人畜清泰，财丁兴旺；二是吃东西，神诞那一天吃一顿，过年过节还有肉分，但要斗了份子的才有吃有分。斗过份子后来穷了的，有顶退份子的办法，譬如每份是五块钱会底，人家就出五块钱给他&amp;quot;顶&amp;quot;了去，他就算是&amp;quot;退&amp;quot;出了会。&amp;quot;社&amp;quot;是与&amp;quot;神坛&amp;quot;有别的一种&amp;quot;社坛&amp;quot;，每个村子有一个，即使那个村子只有三家人，也有个社坛。为什么要社坛?保佑禾苗没有虫子食、牛猪六畜不至于遭瘟，保佑人们得到康健。每个社都有会，二月起，十月止，每月都开会，会期普通是初二，有些地方是十六。开会那天，同社的人每家来一个，不分贫富，一概有份，杀猪买酒，大吃一顿。吃过之后，开堂议事，作陂开圳呀，禁六畜伤害禾苗呀，禁胡乱砍伐山林竹木呀，条规不一，议论纷纷，也没有什么主席，也不要什么记录。虽然乱讲一顿，却有一种自然的秩序。就是当那所谓&amp;quot;老前辈&amp;quot;或所谓&amp;quot;更懂事的&amp;quot;讲得&amp;quot;更公道&amp;quot;的时候，大家都说他的话&amp;quot;讲得好&amp;quot;，就是这样子成了决议。这种社是群众的，虽然也信神，却与地主富农的神坛完全两样。这种社的会议是农民作主，不是豪绅作主，也不完全是富农作主，是大家来而&amp;quot;更公道&amp;quot;的人的话为大家所信仰，这个人就作了无形的主席。社坛有公堂的最少，大多数是每月初二开会(要敬神)时候大家斗钱，每人每次二毛、三毛至四毛，不来吃的不出。再讲到&amp;quot;庙&amp;quot;。庙是有屋子，而屋子里面有菩萨的。庙有个庙祝，土名叫做&amp;quot;庙老&amp;quot;，是个老头子，服侍菩萨，招扶香灯。庙多少有庙田，也有无田的庙。有庙田的，庙老吃庙田的租，无庙田的，庙老伙食从群众中捐钱谷。庙有城隍庙、关帝庙、三官庙、三圣宫、赖老庙、龙王庙、关岳庙、杨公庙、东岳庙、江东庙等等。庙的性质，是所谓&amp;quot;有功德于民则祀之&amp;quot;的意思。神坛是地主需要的，社坛是农民需要的，庙是地主、农民共同需要的。庙的田产很少，租入不够香纸费及庙老用，所以不是严重剥削所在。&amp;quot;寺&amp;quot;则完全不同，它是和尚的巢穴，是剥削厉害的地方。寺产都是大地主&amp;quot;施&amp;quot;出的，施了田的大地主，叫做&amp;quot;施主&amp;quot;。大地主为什么施田地给和尚呢?因为佛教是大地主阶级利用的宗教，大地主为了&amp;quot;修子修孙修自己&amp;quot;，所以施田给和尚。五福庵、回龙寺、正觉寺、观音阁、东笔山、大悲阁、鹅湖庵、西竹山、天台山、狮子岩、三角岽、角公岩、法华庵、西华山、南阳山、梵慧寺、甘露寺、九龙山，都是城区附近的和尚寺。道士斋公的叫做&amp;quot;观&amp;quot;，则有云盖岽、大山里、川塘坑等等。观的田产的来源和剥削的状况，与寺无二样。&lt;/p&gt;

&lt;p&gt;　　总计神道方面(神、坛、社、庙、寺、观)的土地，占全部土地的百分之八，占全部公田的百分之二十。&lt;/p&gt;

&lt;h1 id=&#34;c-政治地主&#34;&gt;　　C.政治地主&lt;/h1&gt;

&lt;p&gt;　　又分二类，一是考棚、宾兴、孔庙、学租一类属于教育性质的，一是桥会、路会、粮会一类属于社会公益性质的。&lt;/p&gt;

&lt;p&gt;　　县城的考棚田收得六百五十石租，经手的豪绅&amp;quot;吃油饼&amp;quot;吃去一百八十石，交出四百七十石与考棚。考棚田的来历是前清时候修建考棚，大地主捐了许多谷子，建筑余款，置买田地，作为考棚年修经费。起个&amp;quot;尚义祠&amp;quot;，把那捐款大地主的姓名写在木主上，捐多的主高，捐少的主矮。&lt;/p&gt;

&lt;p&gt;　　宾兴田的来历也是地主捐起的，田散在全县各堡，多数仍由原主管理，年交收获之五成与县城宾兴祠。宾兴祠在各堡设有分局掌管田产。田产的用途是作为乡试、会试的路费及中了举人、进士的奖赏(主要还是作为乡试路费和乡试奖赏)，奖赏的别名叫做&amp;quot;花红&amp;quot;。县宾兴祠年可收千五六百石谷租。乡试(省考)每三年一次，逢&amp;quot;子&amp;quot;、&amp;quot;午&amp;quot;、&amp;quot;卯&amp;quot;、&amp;quot;酉&amp;quot;举行。每届寻乌试考的一百多人，每人路费二十四元，中了举的有花红百多元。宾兴祠内有百几十块木主，写的都是出捐的豪绅们的名字。科举废后，凡在赣州第二师范毕业的，每人发参观费三十元，使他们好往江浙一带参观。此外，往外国留学的也曾津贴过一回，一个留学日本的给了三百六十元。县城办简易师范及高等小学，即是用的宾兴祠的经费。&lt;/p&gt;

&lt;p&gt;　　建筑学宫也是地主捐钱，因此也如尚义祠、宾兴祠一样，起了一个&amp;quot;好义祠&amp;quot;，纪念那般捐主。后头祀孔经费又捐了千多元，是款子不是田地。&lt;/p&gt;

&lt;p&gt;　　学租是各姓地主捐集，为奖励本姓考功名的子弟的，姓姓都有。如篁乡古姓有学租一百石，车头邝姓有二百多石，至少的也有几十石。此外城区有&amp;quot;薪水会&amp;quot;，各区也有。各区普遍地有&amp;quot;文会&amp;quot;，性质同是奖励取功名，但系一种地方形式，由几姓或一区集合起来的。还有篁乡古姓某地主(古柏的祖父)捐出一百石租起个&amp;quot;尊育堂&amp;quot;，却是奖励全县读书人的，算是一个特别形式。&lt;/p&gt;

&lt;p&gt;　　总计教育方面的土地，占全部土地的百分之四，占全部公田的百分之十。&lt;/p&gt;

&lt;p&gt;　　至于公益性质的桥会、路会、粮会的土地，数亦不少。不但大桥、长桥有会，村落小桥也往往有会。有会就有田，都是地主、商人捐起的，目的是修理桥梁。起始钱少，逐年放债堆积起来成了大数，置买田地。每年十二月算数、敬桥神，名之曰&amp;quot;做桥会&amp;quot;，捐主都来吃一餐，吃了之后还分猪肉，所以桥会实在是个剥削机关。桥会大的有八千元，田产每年收租五百石，那就是留车的浮桥。小的有二三石租的，乃是很小的小桥。&lt;/p&gt;

&lt;p&gt;　　路会不多，会田也少，全县不过十大几个(十五个以上叫十大几个)路会，每个路会不过收七八石谷。为什么桥会发达路会零落呢?因为路烂了修补易，不修补也不至于完全不能走人，桥则不然。&lt;/p&gt;

&lt;p&gt;　　粮会也少，全县不过几个，如篁乡的严姓，大田的梅姓，车头的邝姓，吉潭圳下的刘姓，各有一个，各有些田地。多的如车头邝姓粮会有五百石租的田，原是&amp;quot;军田&amp;quot;，现充粮会。粮会的作用是代替一族人完粮，抵制政府向族内各家迫粮。各方敲榨，各人不利，故斗钱成立粮会，或由各小公出钱斗成。有了粮会，法警只找粮会一处，免得各家受害。没有粮会呢?法警来了，脚钱多过粮钱，逾限不完要算利息，利又非常之重，因此起个粮会。粮会起始钱也不多，也是逐年放利积起来的。&lt;/p&gt;

&lt;p&gt;　　总计公益方面的土地，占全部土地的百分之四，占全部公田的百分之十。&lt;/p&gt;

&lt;p&gt;　　(四)个人地主&lt;/p&gt;

&lt;p&gt;　　A.大地主&lt;/p&gt;

&lt;p&gt;　　以上说了公共地主部分的土地，再说个人地主部分的土地。个人地主土地在全部土地中占百分之三十，比公共地主土地要少。个人地主土地中又以小地主(收租不满二百石的)土地占大多数，中地主(收租二百石以上但不满五百石的)土地次之，大地主(收租五百石以上的)土地最少。&lt;/p&gt;

&lt;p&gt;　　全县共有八个头等大地主，如城区的刘土垣，篁乡区的罗含章，南八区的谢杰、邝文荣，双桥区的梅洪馨，兼三区的潘明征(绰号&amp;quot;屎缸伯公&amp;quot;)，澄江区的林朝官、王菊圆，收租都在于石以上。其中最大的算&amp;quot;屎缸伯公&amp;quot;，他是兼三区的项山堡人，连田地、房屋、山林、牲畜及他在吉潭圩上开的药店、杂货店，共计价值三十万元，田地收租一万石左右。他是全县豪绅的领袖。民国初年他的第三个儿子潘梦春(是个文理不通的脚色，没有考过科举，也没有进过学堂)做过县财政课长(国家财政)。民国六七年他的大儿子潘奕仁(是个秀才，粗通文理)做过三年县财政局长(地方财政，管理考棚、宾兴、牛捐、赌捐、护商捐等款)。民国十三四年潘梦春又做全县保卫团总公所长，统辖七区保卫团，全县实权都在他手里。他在总保卫团任内为了要钱用，同时北洋军阀邓如琢[27]部队到县要军饷，发了许多纸票，使用了几个月，被一个中地主叫赖翱虚的在省城一状告了他，才停止了。民国十五年国民党势力来，他就失势，但他立即和原来带资产阶级色彩的、这时已经和地主妥协了的新寻派结合，当上了国民党县党部委员。今年三月豪绅们把县长胡泽凡推倒，他就上台做县长，红军到来他才跑往武平。他有七十多支枪，被武平钟少奎收编去了。刘土垣算第二个大土豪，但不活动，是个中学毕业生，在县里没有权。谢杰，江西陆军学校毕业，做过赖世璜的师长。现在上海组织什么赣南钨矿会，争钨矿自办加入改组派[28]，组织&amp;quot;江西自救会&amp;quot;，出版《自救日报》，反对蒋介石。对于&amp;quot;剿共&amp;quot;，呼号甚力。王菊圆，赣州第四中学毕业生，澄江方面很有势力，和流氓很要好。他在澄江圩开三个店，做水货、杂货及鸦片烟贩卖生意，店的后楼开个鸦片烟馆，让流氓们去吃不要钱，因此取得一班流氓对他的拥护。他嫖人家的老婆，别人若不识高低也去嫖时，流氓们就要给那个人以厉害的打击，有受这种打击弄得倾家荡产的。&lt;/p&gt;

&lt;p&gt;　　寻乌千石以下五百石以上的大地主有十二个。曹善成(西厢田背)，收租五百石，祖父发的财，是个&amp;quot;老税户&amp;quot;[29]。丘树烈(西厢图合)，收五百石，无大用。他的儿子是个工程师，南洋大学毕业，到英国打过一转，现在天津什么锅炉公司当工程师。曹愿森(东厢)，收五百石，本城高小毕业，四十岁了，在东厢有权。黄甲宾(北厢长举)，收七百石租，国民党员。何子贞想利用他，他不出来。现在投机，向农民表示好意，要枪交枪，要钱出钱。他说：&amp;quot;国民党没有用，出了钱不能保命，出到苏维埃还可保命。&amp;quot;谢善德(三标鸭子墓)，五百石，读老书的，是个&amp;quot;山老鼠&amp;quot;[30]。王佛盛(水源垇背)，五百石。儿子王维藩，北京朝阳大学毕业，国民党员，在外未归。蓝绍宗(澄江)，五百石，蓝死了，寡妇当家。曹国栋(吉潭)，六百石，从前称万户，造房子用掉一些，高小毕业，&amp;quot;屎缸伯公&amp;quot;之戚，与潘梦春合作。易展良(双桥区桂石下)，五百石以上，开头反动，田快被分掉，又罚去千多元，穷了，不反动了。赖鹏池(双桥区丹溪)，称万户，五百石以上，前清附生，老实得很，辫子还留着，但不反动。邝明经(南八区鸡子叫)，六百石，他的第四个老弟当白军营长，反动，全家走尽。陈万保(廷岭)，六百石，做猪贩，做烟土贩，开杂货店。他自己不反动，他的老弟是新寻派，和他共家，很反动。以上头等大地主八个，二等大地主十二个，共二十个，江西人所谓&amp;quot;万户&amp;quot;就是指的他们。为什么要把他们逐一列出来?为的要研究这个阶级的政治作用，不列出来便没有充实的例证。&lt;/p&gt;

&lt;p&gt;　　为的这个理由，我们还要把中地主列出来，只是小地主为数太多不便列举。地主阶级中为什么要分出中地主，因为中地主的政治作用不但和小地主大有分别，和大地主亦显然有分别。&lt;/p&gt;

&lt;h1 id=&#34;b-中地主&#34;&gt;　　B.中地主&lt;/h1&gt;

&lt;p&gt;　　首先举城区。丘伟伍(西厢图合)，收四百石，日本帝国大学皮革科毕业，在赣州贫民工厂做工程师半年，民国十一年回寻乌做教育局长，进国民党，新寻派领袖之一，为新寻派计划，是个厉害的东西，红军到寻乌，同谢嘉猷一路跑了。黄甲奎(北厢长举)，收三百多石，平远中学毕业，寻乌国民党指导委员，新寻派分子(新寻学校教员)，积极反动。骆松盛(北厢长举)，收三百石，城内开骆晋丰杂货店，不积极反动。有个侄子是国民党员，高小毕业，说共产党的坏话。何挺拔(北门城外)，收三百多石，平远中学毕业，国民党干事，新寻派主要人物，努力于反革命。刘佛荣(小东门外)，收三百石，不反动，做医生。&lt;/p&gt;

&lt;p&gt;　　三水区：雷昌响(三标长排)，三百石，是个&amp;quot;山老鼠&amp;quot;，无用。胡恩荣(三标圩)，三百石，是个斋公，不问世事，专门要两个铜钱，在家里困觉。胡镜如(三标圩)，二百石，赣州第四中学毕业，二十多岁，三标有名的土霸，参加县政权。凌鲁石(三标径石)，三百多石，老秀才，做过多年财政局长，又做什么课长，又做考棚首士，一连干了十多年，赚了钱，在三标起了新房子，五十多岁。袁德和(水源袁屋，最反动地方)，二百石左右，中学毕业，国民党员，反革命。此外，三水区还有中地主多人，记不清楚。&lt;/p&gt;

&lt;p&gt;　　澄江区：蓝子乾，四百石，省立中学毕业，在澄江圩开蓝协泰杂货布匹店，反革命。谢嘉猷，三百石，高小毕业，四十多岁，做过十四军谢杰部下团长，寻乌团防总队长，改组派，把红军五十团第一营消灭的就是他，江西陆军学校毕业。凌希贤，三百石，中学毕业，新寻派，国民党员，澄江新圩开个店。&lt;/p&gt;

&lt;p&gt;　　兼三区：陈玉横(吉潭)，三百石，平远中学毕业，吉潭的土霸，新寻派主要人物，&amp;quot;屎缸伯公&amp;quot;的孙婿，很活动。刘太宗(吉潭圳下)，四百石，赌博头子，流氓出身，赌博发财，民国五年还是&amp;quot;当乌&amp;quot;(做贼挖壁，夜间出门，叫做&amp;quot;当乌&amp;quot;)。潘金棣(项山)，二百多石，梅县师范毕业，新寻派，国民党积极分子，吉潭靖卫团总。潘明瑞(项山)，四百石，&amp;quot;屎缸伯公&amp;quot;亲属，吉潭圩上开了两间杂货水货店，项山反动首领。潘观澜，虽是个百多石租的小地主，却是反动首领，潘丽死于他手。赣州高小毕业，做小学教员五六年，那时并不反动，三二五暴动前后就腐化反革命了。他的父亲是个赌博头子，以此发财。潘明典(项山坪地)，百多石，前清拔贡，民国法政毕业，做过陆丰、会昌两县知事，又做本县教育局长数年，还担任许多别的事，有&amp;quot;身兼九长&amp;quot;之称。本是个中等地主，运动省议员用掉四千多元，还是落选。去年做南昌高等法院管狱所长，今年在九江做高等法院书记官，是个官僚主义者。说话很漂亮，字也写得好，样子也好看，又很规矩，像个孔夫子。潘景文(项山大坜)，三百多石，前清秀才，老先生。潘国才(项山村)，三百石，也是个老秀才。潘国卿(项山村)，只有五六十石租，高小毕业，叶子輋土匪的秘书，反革命。刘翰元(剑溪)，二百多石，不中用。&lt;/p&gt;

&lt;p&gt;　　篁乡区：李其琅(篁乡圩)，三百石，赌博出身，儿子李含辉高小毕业，反动派重要分子。刘玉接(篁乡圩)，二百多石。儿子刘金燕，南昌心远中学读书，又进了沪江大学、上海大学各读过一下，过去接近合作社派。刘玉麟，刘玉接的弟，四百石，是个哑巴，四五个儿子均小学毕业；小儿子读过中学，参加三二五暴动，现反革命。赖寿成(红头岭)，四百石，儿子赖世芳梅县东山中学读过书，反革命。赖翱虚(红头岭)，四百石，秀才，上海理化专修科毕业，做过县立高小校长一年、教员五六年，运动省议员失败。两个儿子中学读书，其中一个又在北京师范毕业，接近合作社派，三二五暴动时新寻派向他进攻，现在两个均反革命。汪子渊(山子下)，二百石，篁乡的反动首领，是个大劣绅，做过保卫团总，宾兴分局长。刘经曦(司城村)，三百多石，梅县中学毕业，父亲在胡谦那里干事，被土匪打死了，不反动。刘荃兰(司城)，二百石左右，高利贷起家，现在也不反动，儿子加入农协，因误会被农民乱枪打死。罗成添(溪尾)，四百石，买半毫子黄烟都要同人讲价钱，是个守财奴，要钱不要命，他那村子整个的反革命。罗福寿(溪尾)，前有三百石，分开了，反革命。罗佩慈(溪尾)，二百石，做过于都县长，是个诡计多端的人。三二五暴动前大家还在秘密准备，他看出来了，在农村中散布改良欺骗主张说：&amp;quot;家里的谷子要赶快平价，不要钱，发与本姓的贫民，不然不得了。&amp;quot;是个反动首领，豪绅中很厉害的。罗禄寿(溪尾)，二百石，儿子是新寻派，喜出风头。古乐三(塘背)，两兄弟合计三百石。他哥子是个秀才，做过两任省议员。他自己在胡谦那里做过军需，陈炯明时代做过五华县的一个区长，全县反动首领之一，带三四十支枪，跟谢嘉猷跑了。古光瑞(塘背)，二百多石，高小毕业，反动。古化南(塘背)，二百石，是个老实人。古光禄(塘背)，四百石，守财奴，顶好便宜，买小菜都要讲价。他儿子在梅县东山中学毕业，是个莫名其妙的家伙。(以上塘背各古，均古柏同屋人。)古有余(塘背)，五百石，开纸行，又卖烟土，又开花会，纵赌。他是个守财奴，不问世事，专门要钱。因他是强房中的弱股，他的亲支大家欺负他，向他要五十就五十，要一百就一百。严锦绣(高头)，过去唤万户，做屋做穷了，剩三四百石谷，开了间铺子在公平圩，子孙十几个，不问世事，发财为主，算得个&amp;quot;山老鼠&amp;quot;。严国兴(高头)，百多石租的小地主，以做生意为主，公平圩开杂货店，同时贩纸，商家来往扯得通。贝岭、岩下的商人借钱给他，连同他自己的钱，共用掉六七千元，运动省议员，失败，现负债。篁乡区的反动首领之一。严锡柏(高头)，二百多石，开了间杂货店在公平圩，不甚反动。(以上兼说了几个小地主，因为他们是著名脚色。)&lt;/p&gt;

&lt;p&gt;　　双桥区：黄庆云(黄田)，二百石，不反动。罗守汉(黄沙)，二百石，不反动。赵尚钦(腴田)，三百石，平远中学毕业，反动。谢友丰(腴田)，二百石，不反动。陈德全(留车)，二百石，在留车开盐行，反动，二十一纵队把他枪毙了。陈镜日(留车)，二百石，不反动。儿子陈继光参加三二五暴动，梅县中学毕业，三二五暴动失败，跑往南洋。陈山牛(留车)，赌博鬼，二百石谷，不反动。陈标记(留车族坑)，过去是万户，分开三四家。陈标记死了，他的儿子&amp;quot;不子六&amp;quot;有三百石，在留车开水货店，反动首领。陈国才(留车族坑)，二百石，梅县中学毕业，反动派。陈吐凤(留车族坑)，二百多石，大劣绅，寻乌五虎将之一。&amp;quot;潘(明典)谢(虚左)陈(吐凤)彭(子经)邝(太澜)，寻乌五虎将。&amp;quot;&amp;quot;新寻&amp;quot;、&amp;quot;合作&amp;quot;两个新派起来后，老的五虎将就倒台了。陈及潘、彭、邝都是秀才，只谢是毕业生(寻乌简易师范)。廖洪贵(石碣)，二百石，开个水货杂货糕饼店在枫山圩，不反动。刘俊福(坵坊)，过去称万户，分开了，现有四百石。儿子刘鸿翔，赣南中学毕业，又在北京文化大学读过书，狗屁不通，却十分反动，双桥区反革命首领之一，现还在死守炮楼。刘石福，刘俊福的兄弟，二百多石，过去拿钱办过小学，现亦在炮楼中。刘元瑛(坵坊)，二百多石，在炮楼中。刘作瑞(坵坊)，四百石，三二十个人的大家庭，参加革命，把田分掉了。原因是早前和刘俊福争田买，又为了一个奸情案起衅，三二五暴动他家有人参加，失败，刘俊福诬告他，并勾结叶子輋土匪把他家烧掉了。现在他侄子刘国香做区苏维埃委员，刘日升做乡苏维埃委员，他自己在家不问事。他是梅县第五中学毕业生，老实得很，二十三四岁，比他侄子还年小，官司是他侄子的父亲即他的哥子主持着打的。刘宝华(石贝)，三百石，儿子在县中山中学毕业，参加革命，做共产党区委书记。刘开香(石贝)，二百石，高小毕业，不反动。汤思贤(下磜)，三百石，梅县中学毕业，新寻派中坚分子，十分反动。汤立贤(下磜)，二百石，黄埔生，做过靖卫队长，新寻派。汤佛淑(下磜)，二百石，是个劣绅，人称土霸，小学教员讲习所毕业，新寻派走狗。曾超群(上磜)，百多石[31]，梅县中学毕业，不反动。曾锡麟(芳田)，三百石，读老书的，放高利贷放得很厉害，他和他的侄子曾光华(小学毕业)反动到十二分，均在坵坊炮楼里被农民围困着。曾菊香(芳田)，二百石，侄子曾产丰，高小毕业，是个共产党员，房子被叶子輋土匪烧掉了。曾海澜(伯公垇)，过去是万户，最近分拆，他得二百石。参加三二五暴动，被曾锡麟告状用去千余元，叶匪又罚他，老弟被叶匪捉去罚款六百多元。现不反动。易颂周(桂石下)，二百石，前清秀才，是个劣绅，与叶匪有勾结，现跑走了。何子文(丹溪)，过去是万户，分开了，现在二百多石，反动不厉害。钟寡妇(丹溪)，二百多石，反动派，跑了。赖荣俊(岑峰)，二百多石，过去是小劣绅，现不反动。梅仁华(岑峰)，二百石，不反动。梅调先(大田)，秀才，三百石，反动派，逃走。赖文莲(大同)，三百石，红军二十一纵队捉着罚了二千元，田分掉，现不反动。邝春龙(雁洋坪)，二百石，高利贷起家，没收了，现不反动。邝世仰(雁洋坪)，二百石，梅县师范毕业，国民党员，死反动。邝应绍(黄羌坪)，二百石，不反动。邝兰春(黄羌坪)，二百石，不反动。陈陶香古(族坑)，三百石，寡妇管事，赌博起家，反革命。&lt;/p&gt;

&lt;p&gt;　　南八区：刘篁先(龙图)，三百石，反革命，枪决了。刘添运(龙图)，三百石，反革命，杀了他一个儿子，屈服了。刘焕通(龙图)，三百石，被红军罚款千余串，现不反动。刘世滴(龙图)，二百石，前清秀才，反动派，全家逃走。刘振广(河角圩)，二百石，第三个儿子反动，跑了，其他不反动。刘梅荣(河角圩)，二百石，不反动。曾月辉(河角圩)，二百石，不反动，寡妇管事。曾路福星(河角圩)，二百石，有余钱，勾结叶匪，全家反动，跑了。陈二赖禾(鸡子叫)，二百石，他自己和他的儿子、侄子被红军枪决，很反动。赵芷香(车头)，二百石，老先生，过去有点子&amp;quot;劣&amp;quot;，不反动。赵赞杨二(车头)，二百石，全家反动，跑到坵坊炮楼里去了。他是赌博鬼，祖父发的财。赵奀二(车头)，二百石，老实，兼做生意，在车头开华兴店，今年第三次四县会攻时店被烧了，他的父亲被杀，不反动。赵应华(车头)，二百石，过去是万户，分了一半给他四个儿子，余一半归他两公婆，&amp;quot;坐灶子&amp;quot;(把家分拆，自己留一份，叫&amp;quot;坐灶子&amp;quot;)，不反动。他的余积是临时分给他子女比较多的儿子。温赞标(青龙)，二百多石，高小毕业，不反动。钟文发(珠村)，四百石，兼做盐米生意，祖父遗财，不反动。钟斑三(珠村)，三百石，祖父遗业，他过去曾赌博，有时会做和事佬，不反动。钟继善(珠村)，二百石，梅县中学读书，参加革命，在红军十一军五纵队工作。钟大面六(珠村圩)，三百石，老税户，赌博，反动，全家走尽。钟咏柳(珠村圩)，二百石，东洋留学生，做过武穴警察局长，在本县做过一等课员、承审员、实业局长，在谢杰部下亦干过事，南八区反动首领之一，逃到平远去了。彭子经(古坑岗)，三百石，前清秀才，本县五虎将之一，清末做过湖南凤凰厅巡检，民国时代又在本县做过财政局事务员，收过赌款，最近在团防队做军需股，每次清乡都参加。一个儿子彭秉彝，梅县中学毕业，新寻派，国民党员，做过知耻小学校长。全家反动极了。黎祖德(古坑岗)，过去是万户，做生意，做蚀了本，剩下三百石，全家反动，走了。彭宏云(下廖)，二百石，不大反动，开个杂货店在下廖村。彭宏权，彭宏云老弟，二百石，反动，跑往平远。彭锦汉(下廖)，二百石，兼做生意，开药材和杂货铺，死爱钱，不反动。韩佛仙(满坑)，二百石，兼做生意，又耕田，老实人，但亦逃到平远去了。钟奕材(林田坝)，三百石，高小毕业，祖父手里是万户，两家人分，过去不赞成革命，逃走，现自愿罚款，要求回家。钟丁四(林田坝)，二百石，祖父遗业，子弟也有耕田的，不反动，&amp;quot;怕共产&amp;quot;。钟树芬(林田坝)，二百石，他自己死了，老婆当家，罚款二百元，不反动。谢瑞琳(牛斗光)，三百石，医生，不承认罚款，逃走。谢肇凡(牛斗光)，二百石，新寻派，赣南中学毕业，做过保卫团总，最近做过靖卫团总，南八区革命胜利后，在反动县政府当秘书，是南八区反动首领之一。陈春荣(廷岭)，二百石，本人老实，儿子高小毕业，当白军连长，反动，全家走平远。陈六记(牛斗光)，三百石，在留车和牛斗光各开一个油盐米豆行，勾结叶匪，很反动，全家走了。陈忠俊(廷岭)，二百石，本人老实，他的儿子过去做过保卫团总，不反动。谢佩钦(牛斗光之枫树岗)，四百石，是个高利盘剥者，很多赌贩向他借钱，他的儿子在新寻学校读书，反动，逃走了。陈安如(廷岭)，三百石，兼做猪牛贩，开火铺，罚了他的款，现在不见得反动。曾人升(莲坪)，三百多石，自己会耕田，赌博发财，不交罚款，逃走。钟星奎(珠村龙虎坑)，二百石，平远中学毕业，国民党做干事，南昌训政人员养成所毕业，新寻派的中坚分子，反动之极。&lt;/p&gt;

&lt;p&gt;　　以上全县七区，共有中地主一百一十三个。&lt;/p&gt;

&lt;p&gt;　　C.大中地主对于生产的态度&lt;/p&gt;

&lt;p&gt;　　收租二百石以上的中等地主，收租五百石以上的大地主，他们对于生产的态度是完全坐视不理。他们既不亲自劳动，又不组织生产，完全以收租坐视为目的。固然每个大中地主家里都多少耕了一点田，但他们的目的不在生产方法的改良和生产力的增进，不是靠此发财，而是为了人畜粪草堆积起来了弃之可惜，再则使雇工不致闲起，便择了自己土地中的最肥沃者耕上十多二十石谷，耕四五十石谷的可以说没有。这种地主家中普通都是请一个工人，只有&amp;quot;万户&amp;quot;以上的大地主而又人丁单薄的方才请两个工人。为使工人不致&amp;quot;闲嬲&amp;quot;(&amp;quot;嬲&amp;quot;，当地读廖，&amp;quot;东走西走&amp;quot;或&amp;quot;玩下子&amp;quot;的意思)，除开做杂事外，便要他耕点田。&lt;/p&gt;

&lt;h1 id=&#34;d-大中地主的政治思想&#34;&gt;　　D.大中地主的政治思想&lt;/h1&gt;

&lt;p&gt;　　大中地主的生活，依寻乌状况分为三种情形：第一种是新的，即接受资本主义影响多的。他们的生活比较奢华。他们看钱看得松，他们什么洋货也要买，衣服穿的是破胸装，头也要挥一个洋装。派遣子弟进学校也颇热心，或者自己就是中学等类学校毕业的。这种人在地主阶级中比较少，而且是在接近河流、接近市场的地点才有的，多半他本身就兼商人，澄江的王菊圆就是好例。第二种是半新不旧的。他们赞成一点&amp;quot;新&amp;quot;，但随即就批评&amp;quot;新&amp;quot;的坏处。他们也办学校，也做教育局长，但他们办的学校是专制腐败的。做教育局长是为了拿到一种权，可得到一些钱，而不是为了什么&amp;quot;开通民智，振兴教育&amp;quot;。但历来的教育局长多半是他们做，第一种人太新了是做不到手的。他们的生活介在节俭与奢华之间。他们人数在大中地主中占着大多数。守旧是地主的本性，这第二种人为什么也要半新不旧地随和时势一下子呢?完全为了争领导权。因为不如此则领导权就会完全被民权主义派即所谓&amp;quot;新学派&amp;quot;的人争取了去，所以他们有摇身一变的必要。却因他们的经济关系还是在一种封建剥削的状况中，所以他们仍充分表现地主性，那种革新只是表面的。城区的丘伟伍，兼三区的潘奕仁，澄江区的谢嘉猷，就是这个阶层的适例。第三种是完全封建思想封建生活的，他们的住地是在与河流及市场隔窎的山僻地方。他们始终希望恢复科举。他们完全是帝制派，他们欲以帝制主义来打倒民权主义，恢复他们的政治领导，挽回那江河日下的封建经济的崩溃形势。他们的生活很节制。他们至多挥个光头，有些仍是薙去额发一二寸。这种人在大中地主中依寻乌说是占着少数，双桥区(大田)的梅洪馨就是适例。大中地主阶级中新的占百分之十，半新的占百分之七十，全旧的占百分之二十。但所谓新的，是说他们走向资本主义化，不是说他们革命。大中地主阶级的全部都是反革命。还有一种情况要说明的，就是大中地主阶级的新旧，不仅是以地域的原因(河流与山地，近市与远市)而形成，还有以年龄的原因而形成的。一家之中，老年人多半守旧，少年人多半维新，中年人就多半半新不旧。这种年龄的原因即是时代的原因。老年人受旧制度熏染最深，同时他已行将就木，也无能力讲新，所以只得守旧。少年人受旧制度熏染浅，同时不维新没有出路，所以他们比较不顽固些。中年人则介在二者之间。举一个例，大地主&amp;quot;屎缸伯公&amp;quot;是很顽固的。他的儿子便主张办学堂，但办出来的学堂却是半新不旧。他的孙子则往广州，往上海，往北京，往英国，有六七个出外读书，研究所谓&amp;quot;新学&amp;quot;的。不过无论怎样研究新学，依然是彻底的反革命。&amp;quot;屎缸伯公&amp;quot;的孙子潘作琴在英国医科毕业回来，现在汕头行医，称汕头西医第二个好手，每天收入四五十元，每月能收千多元。他初回国时，寻乌教会医院出千二百元一年请他，不肯就，因为他在汕头的收入更要大。&lt;/p&gt;

&lt;h1 id=&#34;e-小地主&#34;&gt;　　E.小地主&lt;/h1&gt;

&lt;p&gt;　　小地主(二百石租不满的)数目更多，以地主全数为一百，则大地主(租五百石以上)占百分之一，中地主(租二百石以上的)占百分之十九，小地主占百分之八十。大地主人数很少，在全县不显特别作用。中地主是全县权力的中心，他们的子弟许多是进中学校的，县政权如财政局、教育局、保卫团等也是他们抓到的多，特别是祠堂蒸尝费用[32]几乎全部在他们掌握之中，小地主及富农是很难过问的。但是小地主在地主阶级中是占着绝对大多数，而且显出下面的特点，即：(一)做小生意的多。他们开小杂货店，收买廉价农产物候价贵时卖出去，大概百个小地主中有十个是兼做这种小买卖的。中地主虽也有做生意的，而且他们一做生意就比小地主做得大，但他们做生意的成分比较很少，即中地主多半还在一种封建经济的领域中过生活，不如小地主商业化得厉害。(二)特别表现小地主商业化的，还有他们派遣子弟进学堂一事。小地主子弟进初等小学是全部，进高等小学也几乎是全部，至少十家有八家，进中学的亦十家有三家。这个阶级接受新文化的形势是比哪一个阶级要快要普及。他们在全般政治生活中是受中地主阶级统治的，即是说他们是没有权的。他们革命的要求在初期革命运动中却表现很迫切，革命的活动亦很猛进，寻乌的合作社派(即中山中学派)的运动，就是代表这个阶级的运动，而和他们对抗的新寻派(即青年革命同志会派)的运动，却是代表中地主阶级的反革命运动。为什么小地主阶级接受资本主义文化即民权主义的革命文化如此之迅速普遍，他们的革命要求与活动如此迫切与猛进呢?则完全是因为他们这阶级的大多数在经济上受资本主义侵蚀和政府机关(大中地主的)压榨(派款)，破产得非常厉害的原故。由这两个阶层(小地主与大中地主)的斗争，引导到农民阶级与地主阶级的斗争，即代表中等地主而多少带了资本主义倾向的新寻派，日益与大地主妥协结成反革命战线，而代表小地主带着革命民权主义倾向的合作社派，日益接受无产阶级意识的指导，与贫民阶级结合起来，形成近来的土地革命斗争。&lt;/p&gt;

&lt;p&gt;　　上面所说的小地主，不是说小地主的全部，只是说他们的一部分。普通所讲的小地主包含两个部分。一个部分是从所谓老税户传下来的，这一部分的来源多半是由大中地主的家产分拆，所谓&amp;quot;大份分小份&amp;quot;，即由大中地主分成许多小地主。这部分的人数在整个地主阶级中占百分之三十二。依他们的经济地位又有三种分别：一是年有多余的，人数占地主阶级总数百分之零点九六，他们在斗争中是反革命的。平民合作社派中的刘鸿翔、赖世芳、刘瑞标就属于这个阶层。他们都是合作社社员，三二五暴动中以及失败后，就陆续表现反革命了。二是一年差过一年，须陆续变卖田地才能维持生活，时常显示着悲惨的前途的。这一部分人数很多，占地主阶级全数百分之二十二点四。他们很有革命的热情，寻乌平民合作社派人物的大部分都是属于这个阶层。如死去了的斗争领导者潘丽(共产党县委书记)、刘维炉(三二五暴动时革委会主席)、刘维锷(共产党区委委员)等，现在的斗争领导者古柏(共产党县委书记)、钟锡璆(红军营长)、黄余贵(共产党区委书记)等等，以及没有参加合作社后头参加革命的，如梅汝黄(红军大队政治委员)等，都是这个阶层里头的人。三是破产更厉害靠借债维持生活的。这一部分占地主全部百分之八点六四，他们也是革命的，有很多人参加现在寻乌的实际斗争。以上说所谓老税户破落下来的小地主，它的第二、第三部分一般说都是参加革命的。以合作社社员来说，有三十个中学生，一百个高小学生或小学教员，都是过去或现在参加革命的，都属于这两部分破落的小地主阶层，尤以第二部分为特别多。&lt;/p&gt;

&lt;p&gt;　　普通所讲小地主，除上述老税户部分外，另有一个占地主全数百分之四十八的不小的阶层，那就是所谓&amp;quot;新发户子&amp;quot;。这一个阶层的来历，与从老税户破落下来的阶层恰好相反，是由农民力作致富升上来的，或由小商业致富来的。这个阶层是在一种&amp;quot;方新之气&amp;quot;的活动中。他们的经济情形是一面自己耕种(雇长工帮助的很少，雇零工帮助的很多)，一面又把那窎远的瘦瘠的土地租与别人种而自己收取租谷。他们看钱看得很大，吝啬是他们的特性，发财是他们的中心思想，终日劳动是他们的工作。他们的粮食年有剩余，并且有许多不是把谷子出卖，而是把谷子加工做成米子，自己挑了去大圩市，甚至去平远的八尺等处发卖，以期多赚几个铜钱。他们又放很恶的高利贷，很多是&amp;quot;加五&amp;quot;(即百分之五十)的利息。放谷子出去，压迫贫民&amp;quot;上档量本，下档量利&amp;quot;(上档下档即夏收冬收)。他们又放&amp;quot;捡谷钱&amp;quot;和&amp;quot;捡油钱&amp;quot;。什么叫做捡谷钱?趁着青黄不接时候，以钱捡与农民，到了收获时候以谷还与债主，大概捡给两块钱，就要在收获时还一担谷，而那时谷价常常值得四块钱一担了，这是一种对倍利。捡油钱也是一样，多属对倍利。所有放高利贷，差不多全属这班新发户子。大地主、中地主放债也是放的加三利，加五利非常之少，捡谷钱、捡油钱可说没有。还有更凶的&amp;quot;月月加一&amp;quot;利，即见月还利百分之十，一年便对倍有过。这种借贷都要抵押品，并且要借一种&amp;quot;会&amp;quot;做面子，如&amp;quot;订同会&amp;quot;。还有&amp;quot;印子会&amp;quot;，是月月加一，利上起利，比订同会更厉害。这些都是大中地主所少做的。前清时候放恶利的比较少，民国以来放恶利的渐渐加多。&amp;quot;现在人心更贪了&amp;quot;，就是贫民对于高利贷者含有历史意义的评语。&amp;quot;今个人，人心较贪了咧&amp;quot;这个话，在寻乌贫民群众中到处都听见。这班新发户子看钱既看得大，更不肯花费钱米抛弃劳动送他们子弟去进学堂。所以他们中间很少有中学生，高小学生虽有一些，但比破落户阶层却少很多。至于破落户阶层为什么进学堂的多，就是因为他们看钱看得破些(因不是他经手赚来的)，而且除了靠读书操本事一条路外，更没有别的路子可以振起家业，所以毕业生就多从这个阶层中涌了出来。上面所说那种所谓新发户子的小地主，在有些人的说法却不叫小地主，而叫它作富农，即所谓&amp;quot;半地主性的富农&amp;quot;。这种半地主性的富农，是农村中最恶劣的敌人阶级，在贫农眼中是没有什么理由不把它打倒的。&lt;/p&gt;

&lt;h1 id=&#34;五-富农&#34;&gt;　　(五)富农&lt;/h1&gt;

&lt;p&gt;　　另有一种比较富裕的农民，在普通说法叫他们作自耕农或中农的，实际仍是一种富农。前边所谓&amp;quot;半地主性的富农&amp;quot;，则不叫作富农而叫他们作小地主。贫农群众便是作这样看法的。这种所谓比较富裕的自耕农或中农，许多人不主张在斗争中打击他们，理由是他们没有半地主性，他们的全部出产都是亲自劳动不是剥削他人来的。其实在贫农眼中，他们仍是一种特殊阶级。他们除不租田给人耕种外，一样是高利盘剥者，因为他们有钱余剩，他们有多余的土地。他们在自己农产物上面加工，如使谷子变成米子，自己挑了出卖。他们还做些小的囤买囤卖生意。他们供着猪子、猪条子或大肉猪。以上这些都是与半地主性的富农一致，而与自足的中农不相同的。因此，土地斗争一发展到群众的行动，便有大批的贫农唤着&amp;quot;平田&amp;quot;和&amp;quot;彻底废债&amp;quot;的口号，就是对付这种富农的。共产党如要阻止贫农的行动，那末贫农就非恨共产党不可了。因此可知，不但打倒半地主性的富农是没有疑义的，而且平富裕自耕农的田，废富裕自耕农的债，分富裕自耕农的谷，也是没有疑义的。必须这样才能争取广大的贫农群众。这是农村斗争的重要策略之一。只有富农路线的机会主义者，才会站在这个策略的反对方面。&lt;/p&gt;

&lt;h1 id=&#34;六-贫农&#34;&gt;　　(六)贫农&lt;/h1&gt;

&lt;p&gt;　　——贫农中的四个阶层——&lt;/p&gt;

&lt;p&gt;　　什么叫做贫农?我们简单回答道：不够食的叫做贫农(不够食的原因是受剥削，那不待说)。但这是一个普通的说法。若从贫农里头再加剖解，便知贫农并不是一个经济地位完全相同的整一的阶级，他里头有四个不同的阶层。第一个是半自耕农。他们是不够食的，因为他们的土地不够使用。他们须从地主那里租来一部分土地，完了租去，自己又不够食了。但他们在贫农群众中则是最好的，因为他们不但有牛，有犁耙，多少有些活动本钱，而且有一个表现他们的特点的，就是他们自己有一部分土地。这个阶层占农村全人口百分之十点五，在贫农全数中则占百分之十五。第二个是佃农中之较好的。他们有牛，有犁耙，也多少有些活动本钱，但没有一点土地。他们的特点在于有牛，大多数有一条牛，极少数也有两条、三条牛的。他们比半自耕农穷，即比半自耕农更不够食，但比别部分贫农却要好些。这个阶层占农村全人口百分之四十二，占贫农人口百分之六十，是农村中一个最大的群众。第三个是佃农中之更穷困的。他们同样无土地，他们虽有犁耙，但多窳败，虽也有几个本钱，但是很少。他们还有一个主要的特点，就是他们不是每家有牛的，他们是几家共一条牛，或有一条牛，却不是他自己的，而是地主为了节省饲养费交给他饲养的，他只能在一定条件下使用一下子这条牛的劳力，寻乌所谓&amp;quot;只能定得一爪子&amp;quot;的就是指这种牛。这一个阶层之不够食的程度比上举两个阶层都厉害。他们占农村全人口百分之十点五，占贫农全人口百分之十五，是一个与半自耕农相等数量的群众。第四个是佃农中之最穷的。他们除没有土地之外，还没有一点本钱，借米借盐是常事。他们又没有一点牛力，农忙时节，候别人把田耕过了，然后同别人(那些亲戚家族们)借了牛来，或租了牛来，耕那数亩用重租租来的瘦田。他们虽然有犁，但没有耙，因为打一架铁耙要好些钱，他们力量不足办此。这一个阶层占农村全人口百分之七，占贫农全人口百分之十，是一个并不很小的群众。他们衫很烂，要讨来着。三餐饭两餐食杂粮(粟板呀，番薯片呀)。做米果卖，砍柴火卖，挑脚，就是他们添补生活的办法。&lt;/p&gt;

&lt;h1 id=&#34;七-山林制度&#34;&gt;　　(七)山林制度&lt;/h1&gt;

&lt;p&gt;　　寻乌的山地，多落在首先落脚的氏族手里，后到的氏族便没有山或少有山。因为先到的占领，所以也有小姓先占了山，大姓后到仍没有山。田与山的情形不同，田地转移很快，小地主和农民的田地，用典当的方法一年转移两次的都有，一年转移一次的就更多了。至于卖绝，也是常有的。山地则因其生产力小，通常一姓的山(一姓住在一村)，都管在公堂之手，周围五六里以内，用的公禁公采制度。所谓&amp;quot;公禁&amp;quot;者，不但禁止买卖，而且绝对地禁止自由采伐。除非死了人，&amp;quot;倒条把子树，搭墓棚&amp;quot;，才得许可。为公共利益使用，如作陂，开圳，修桥梁，那是可以的。除此以外，只有定期开山，蕗基三年两开，树木两年一开。由&amp;quot;禁长&amp;quot;召集本村同姓人等到场议定开山日期。到期，每家出一工，到山采伐，所得蕗基或树卡(开树木山又叫落卡，即砍树枝)共同分配。也有按山林生产情况分成若干小块，召集公众到场拈阄，然后按所分地段各自去采的。以上是家族主义的山林&amp;quot;共产&amp;quot;制度。还有地方主义的山林&amp;quot;共产&amp;quot;制度。多半以村为单位，由村内各姓人等公举禁长。严禁私采，定期开山等等，都与家族&amp;quot;共产&amp;quot;的山林一样。禁长三个起码，多的到十多个，依村落大小山林广狭而定，以五六个为最普通。禁长均由选举，任期不定，有一年换两回的，有四五年不换的，全看他尽职不尽职。凡做禁长的都要铁面无私，公公道道。&amp;quot;不管你天皇老爷的奶子，捉到了你偷树子，偷蕗基，均要罚的。&amp;quot;南八区龙图乡有个禁长，捉到了一个偷树子的女子，那个女子对他说：&amp;quot;我倒条子树子搭下子亭子，不要罚我，我同你龙图人都是亲亲戚戚，为什么你就这样没有情呢?&amp;quot;那个禁长回答她道：&amp;quot;不要说你这个卖板子(米果)的昭凤妈，今天就是我的舅婆也要罚，要晓得我刘世烈狂是铁面无私的。&amp;quot;若是禁长不能维持，大家又乱砍乱伐不顾公益的时候，就要&amp;quot;暖禁&amp;quot;(唤起大家注意，恢复从前规矩，叫做&amp;quot;暖禁&amp;quot;。疏忽神明，重新致敬，叫做&amp;quot;暖神&amp;quot;或曰&amp;quot;暖福&amp;quot;)。禁长们每年召开禁山会议一次，一切关于禁山的规矩都是由这种会定出来的。禁山会临时召集的多，也有&amp;quot;有底子&amp;quot;的。开禁山会的那天，不但禁长们到，而且那个范围内每家都到一人，每人自带酒饭，另外出一毛子或半毛子买菜，并买敬&amp;quot;伯公&amp;quot;(&amp;quot;伯公&amp;quot;就是杨大伯公，什么地方都有，每个树头下，田塅下，山垇上，什么地方都有他)的香纸。以上两种这是说的&amp;quot;共产主义&amp;quot;的公山。还有&amp;quot;资本主义&amp;quot;的私山，乃是香菇山、茶子山、茶叶山、竹山、杉山等，生产品能变卖，出息较大的。这些山原来也都是公山，渐次落在有钱人手里，大概是大地主占一半，小地主(新发户子)及富农占一半。因为开这种山不是有资本的不能开，特别是开香菇山、茶叶山，要大地主，其余则多是资本主义化的小地主及富农。寻乌的山地约作如下的分配：一姓公山占百分之十五，一乡公山占百分之五，私山占百分之十，离人家远开发不到任其荒废的所谓&amp;quot;荒山&amp;quot;，则占了百分之七十。成为荒山的原因，有些是人少山多用不着它，有些则是姓界限制，虽有他姓欲利用的，亦被山主拒绝，只好让其荒废。这种被姓界限制欲开发而无从的情形，到处都有。土地革命之后，这种姓界便消灭了。&lt;/p&gt;

&lt;p&gt;　　(八)剥削状况&lt;/p&gt;

&lt;p&gt;　　A.地租剥削&lt;/p&gt;

&lt;p&gt;　　1.见面分割制&lt;/p&gt;

&lt;p&gt;　　见面分割与量租，两种同是寻乌县的收租制度。见面分割是禾熟时地主与农民同往禾田，农民把谷子打下和地主对分，双方各半，地主部分要农民送到他家里。有些地方分割之先，由地主先取一担，这一担不在对分数内，这种多半是肥田。地主的理由是：此田我买来时多费了田价，你佃户耕了省了粪草，若不先取一担，你占便宜太多。但这种办法是很少的，百家之中不过一家。另有一种，是农民先取出些谷子，叫做&amp;quot;撮谷种&amp;quot;，数量是在全数租谷中撮出一撮箕。理由是：秧子打在别人田内，不在你这个地主的田内，打了秧子的那块田，早子[33]没有收，别家地主要受损失，为了补偿佃户亦即补偿别家地主的损失，所以要先撮出一撮箕。当地主自己或派人到场监视分割时，要吃有猪肉有鱼(有些还有鸭子)的午餐。午餐过了，禾分割好了，农民挑了租谷伴同地主或其雇工送去地主家中时，还要加上两个鸡蛋，放在谷子上面一同挑了去，每天都是如此。农民和地主感情好的，送上七八个蛋的也有。&lt;/p&gt;

&lt;h1 id=&#34;2-量租制&#34;&gt;　　2.量租制&lt;/h1&gt;

&lt;p&gt;　　量租制是&amp;quot;早六番四&amp;quot;。平远是对分。为什么要&amp;quot;早六番四&amp;quot;呢?因为早子价较贵，收获量也更多，交租六成才不便宜了佃农；番子[34]价较贱，收获也较少，故交四成。表面上看，早六番四两档扯平，还是五成，实则不然。地主常得五成六，农民只得四成四。因为早子收获量虽多，每十担中地主现已得去六担，农民只剩了四担了。番子则收获量每十担中往往要比早子少二担，只有八担，交去四担租，自己只得四担，合起早子的四担共得八担。地主却共得十担。成为四点四成与五点六成之比。&lt;/p&gt;

&lt;p&gt;　　大暑(旧历六月)割禾，立秋(旧历七月)量租，地主通知农民把租送来。不见送来时，地主自己打个洋遮子，亲自跑到农民家里去催。再不送来，就派工去取。取又取不着，就调了他的田。有些恶地主呢，就告农民的状，捉了农民去坐班房，不过这种恶地主不多就是。原来见面分割占全县百分之四十，量租占百分之六十。近来见面分割的加多，量租的减少，各占百分之五十左右。为什么见面分割的加多起来呢?因为佃户穷的日多，常常一割下禾就没有谷子，地主怕农民收后不量，所以见面分割加多起来。同时农民为怕调田与吃官司，也宁愿见面分割。&lt;/p&gt;

&lt;h1 id=&#34;3-quot-禾头根下毛饭吃-quot&#34;&gt;　　3.&amp;quot;禾头根下毛饭吃&amp;quot;&lt;/h1&gt;

&lt;p&gt;　　&amp;quot;禾头根下毛(没有)饭吃&amp;quot;，说的是刚打下禾交过租就没有饭吃了，这种情形寻乌简直占百分之四十。为什么禾头根下毛饭吃呢?譬如耕了二十担谷田的，量去了十一担多租，剩下八担多。去年过年和今年青黄不接毛饭吃时借过地主谷子两三担，加上加五利，又要还去三担多至四担多。打禾了，要买好东西招扶地主。禾打过了，买上一点油盐，舂上一点米子，立秋刚到，一切都完。这就叫做&amp;quot;禾头根下毛饭吃&amp;quot;，又叫做&amp;quot;一年耕到又阿嗬&amp;quot;。南半县土地斗争中，农民、小孩子普遍地唱了一只歌，那歌唱道：&lt;/p&gt;

&lt;p&gt;　　月光光，&lt;/p&gt;

&lt;p&gt;　　光灼灼。&lt;/p&gt;

&lt;p&gt;　　埃跌苦，&lt;/p&gt;

&lt;p&gt;　　你快乐。&lt;/p&gt;

&lt;p&gt;　　食也毛好食，&lt;/p&gt;

&lt;p&gt;　　着也毛好着。&lt;/p&gt;

&lt;p&gt;　　年年项起做，&lt;/p&gt;

&lt;p&gt;　　总住烂屋壳。&lt;/p&gt;

&lt;p&gt;　　暗婧女子毛钱讨，&lt;/p&gt;

&lt;p&gt;　　害埃穷人样得老。&lt;/p&gt;

&lt;p&gt;　　暗好学堂埃毛份，&lt;/p&gt;

&lt;p&gt;　　有眼当个瞎眼棍。&lt;/p&gt;

&lt;p&gt;　　天呀天，&lt;/p&gt;

&lt;p&gt;　　越思越想越可怜。&lt;/p&gt;

&lt;p&gt;　　事业毛钱做，&lt;/p&gt;

&lt;p&gt;　　年年总耕田。&lt;/p&gt;

&lt;p&gt;　　六月割也就，&lt;/p&gt;

&lt;p&gt;　　田东做贼头。&lt;/p&gt;

&lt;p&gt;　　袋子一大捆，&lt;/p&gt;

&lt;p&gt;　　擎把过街溜。&lt;/p&gt;

&lt;p&gt;　　吗个都唔问，&lt;/p&gt;

&lt;p&gt;　　问谷曾晒就?&lt;/p&gt;

&lt;p&gt;　　穷人一话毛，&lt;/p&gt;

&lt;p&gt;　　放出下马头。&lt;/p&gt;

&lt;p&gt;　　句句讲恶话，&lt;/p&gt;

&lt;p&gt;　　俨然税户头。&lt;/p&gt;

&lt;p&gt;　　唔奈何，&lt;/p&gt;

&lt;p&gt;　　量了一箩又一箩，&lt;/p&gt;

&lt;p&gt;　　量了田租量利谷，&lt;/p&gt;

&lt;p&gt;　　一年耕到又阿嗬!&lt;/p&gt;

&lt;p&gt;　　又阿嗬，&lt;/p&gt;

&lt;p&gt;　　会伤心，&lt;/p&gt;

&lt;p&gt;　　穷兄穷弟爱同心，&lt;/p&gt;

&lt;p&gt;　　穷姊穷妹爱团结，&lt;/p&gt;

&lt;p&gt;　　团结起来当红军，&lt;/p&gt;

&lt;p&gt;　　当到红军杀敌人!&lt;/p&gt;

&lt;p&gt;　　注[35]：&amp;quot;埃&amp;quot;，我。&amp;quot;毛&amp;quot;，没有。&amp;quot;项起做&amp;quot;，继续做。&amp;quot;暗婧女子&amp;quot;，再漂亮女子。&amp;quot;样得老&amp;quot;，怎样得老。&amp;quot;暗好学堂&amp;quot;，再好学堂。&amp;quot;割也就&amp;quot;，刚割完。&amp;quot;做贼头&amp;quot;，很恶之意，如贼头一样恶。&amp;quot;袋子一大捆&amp;quot;，用去收租的。&amp;quot;过街溜&amp;quot;，洋伞。&amp;quot;吗个都唔问&amp;quot;，什么都不问。&amp;quot;放出下马头&amp;quot;，打官腔。&amp;quot;税户头&amp;quot;，大地主。&amp;quot;阿嗬&amp;quot;，没有了之意。&amp;quot;爱同心&amp;quot;，要同心。&lt;/p&gt;

&lt;h1 id=&#34;4-批田&#34;&gt;　　4.批田&lt;/h1&gt;

&lt;p&gt;　　寻乌地主把田批与农民通通要写&amp;quot;赁字&amp;quot;，没有不写的。五年一小批，七年一大批，是全县普通的赁期。这是东佃间的&amp;quot;规矩&amp;quot;，也就是不成文的法律。只有那种恶地主才敢借故破坏这种法律，三四年或七八年调换佃户。赁字上面写明的是：(一)田眼，写明田的所在及界址。(二)租额，写明见面分割制还是量租制。(三)租的质量，写明要&amp;quot;过风精燥&amp;quot;，不得少欠升斗，如违转批别人。(四)田信，写明每年或每两年交一只鸡公。这种赁字，哪怕少到三担谷田都要写一张。因为若不写赁字，一则怕农民不照额交租，打起官司来无凭据，二则怕年深日久农民吞没地主的田地。赁字只农民写交地主，地主不写交农民。&lt;/p&gt;

&lt;p&gt;　　下面是赁字的一个例：&lt;/p&gt;

&lt;p&gt;　　&amp;quot;立赁耕字人邝世明，今来赁到凌贱贵兄手内禾田一处，土名铁寮坝，禾田一大丘，计租六桶。当日三面言定，每年合纳租谷六桶，限至秋冬二次，早六番四，送至家中，过风精燥，交量明白，不得缺少。如有缺少，任田主另批别佃，不敢生端异说。恐口无凭，立赁字为照。&lt;/p&gt;

&lt;p&gt;　　每年信鸡一只。&lt;/p&gt;

&lt;p&gt;　　见人　罗长盛&lt;/p&gt;

&lt;p&gt;　　代笔　谢雨霖民国十六年十一月二十四日立赁耕字人邝世明&amp;quot;&lt;/p&gt;

&lt;h1 id=&#34;5-批头-田信-田东饭&#34;&gt;　　5.批头、田信、田东饭&lt;/h1&gt;

&lt;p&gt;　　批头分&amp;quot;批头钱&amp;quot;、&amp;quot;批头鸡公&amp;quot;二者。批头钱，每石租普通单批(五年一批叫单批)一毛，双批(十年一批叫双批)二毛，也有三毛的如篁乡等处，均批田时交清。批头鸡公不论批田多少总是一只，也是批田时交。单批转到双批，即五年转到十年，批头钱、批头鸡公一样照交。南半县双批多，如篁乡、双桥两区完全没有单批，就是一份田耕几十年的现在也还有，只很少。地主将田批出去后不久卖了与别人时，退还批头钱一部分与农民。北半县单批多，地主卖田时不退批头钱。&lt;/p&gt;

&lt;p&gt;　　田信鸡每年一只，赁字上写明是&amp;quot;鸡公&amp;quot;，因为鸡公(阉鸡)比鸡婆较大，但农民还是送鸡婆的多。赁字上虽说了每年一只，但农民往往两年才送一只。送的时候在冬收后或过年时节。不见送来时，地主常常自己去催。&amp;quot;田信鸡公送了来啊!&amp;quot;&amp;quot;唔曾畜到。先生!等我后圩买到来。&amp;quot;或者说：&amp;quot;毛啊，先生!今年子总要免下子。&amp;quot;&lt;/p&gt;

&lt;p&gt;　　双桥区有田东饭，每年请地主吃一次。别区很少。&lt;/p&gt;

&lt;h1 id=&#34;6-谷纳-钱纳&#34;&gt;　　6.谷纳、钱纳&lt;/h1&gt;

&lt;p&gt;　　送租，全县说来百分之八十送谷子，百分之二十折钱。公堂、神会、庙宇、桥会的租，约有一半是交钱的，因为公堂、神会等佃农亦多半有份，因此佃农常常要照当时市价折钱送去，而把谷子留下备自己食用。这种人多半是兼做小生意的或有猪鸡出卖的，才能得到钱。那些豪绅把持的公堂、神会，为了有利他们的侵蚀(候谷价高时钱卖得多)，便强迫农民交谷上仓，农民亦无可奈何。同一理由，地主田租总是交谷而不准农民交钱，只有离田庄很远的地主才有准许折钱的。&lt;/p&gt;

&lt;h1 id=&#34;7-铁租-非铁租&#34;&gt;　　7.铁租、非铁租&lt;/h1&gt;

&lt;p&gt;　　非铁租占全县百分之八十，水旱天灾，面议减少，但每石租只减少一斗到二斗。遇大灾害收成大减时，请了地主来看过了，有谷(&amp;quot;有&amp;quot;，当地音胖，有谷，无米之谷)也要分一点去。铁租是在赁字上载明&amp;quot;半荒无减&amp;quot;，在全县占百分之二十。但实际上农民实行得少，仍然是请了地主看过，精有照分(精谷就是好谷)。&lt;/p&gt;

&lt;h1 id=&#34;8-quot-要衫裤着去捞-quot&#34;&gt;　　8.&amp;quot;要衫裤着去捞&amp;quot;&lt;/h1&gt;

&lt;p&gt;　　许多的农民把租交过，把债还清，就没有饭吃了。地主们收了那些租不肯出卖。过年了，农民急于得点谷子，地主把谷放出一部分，但不是卖而是借。因为借谷的利息是半年加五(早前的利率是&amp;quot;钱加三谷加四&amp;quot;，近来谷息加四的少了，大多数都是加五)，比卖的味道更多。地主卖谷是要到四五月间青黄不接时候，那时价钱抬得更高，但他还要三歪四摆。&lt;/p&gt;

&lt;p&gt;　　农民走到地主家里向地主道：&amp;quot;先生，食了朝?&amp;quot;&lt;/p&gt;

&lt;p&gt;　　地主：&amp;quot;唔，系哟!&amp;quot;&lt;/p&gt;

&lt;p&gt;　　农民然后慢慢地话到籴谷：&amp;quot;您的谷，埃来籴两斗子。&amp;quot;&lt;/p&gt;

&lt;p&gt;　　地主：&amp;quot;毛……啊!自己都唔够食。&amp;quot;&lt;/p&gt;

&lt;p&gt;　　农民：&amp;quot;好哩哪!您都毛谷，河坝里水都毛流!搭帮下子，让斗子给埃，等稳就要做到来食啊![36]&amp;quot;&lt;/p&gt;

&lt;p&gt;　　地主：&amp;quot;好，你十分话紧了，埃的口食谷都让点子把你，你肯不肯出这多价钱呢?&amp;quot;&lt;/p&gt;

&lt;p&gt;　　农民：&amp;quot;先生，莫这样贵，算减点子给埃!&amp;quot;&lt;/p&gt;

&lt;p&gt;　　价钱如了地主的意了，然后把谷子粜与农民。&lt;/p&gt;

&lt;p&gt;　　有个传遍全县的故事：篁乡地主刘福郎，是个著名刻薄的人，青黄不接时候，他把有谷掺进精谷里发粜。有一天，有个农民到他家里籴谷子，他叫他的媳妇和女儿道：&amp;quot;要衫裤子着就要去捞!&amp;quot;农民们把他这句话传了出去，就成了全县闻名的大笑话。为什么这句话会成笑话呢?因为寻乌习惯，女子偷人叫&amp;quot;捞&amp;quot;，把有谷掺进精谷去也叫做&amp;quot;捞&amp;quot;。他当着农民不好明说把有谷掺进精谷，一个不留心，对他的媳妇和女儿说出那句好笑的话来，就成了流传至今的典故。&lt;/p&gt;

&lt;h1 id=&#34;9-劳役&#34;&gt;　　9.劳役&lt;/h1&gt;

&lt;p&gt;　　劳役制度全县都没有了。地主有紧急事如婚丧等类，也常常求佃户替他做事。地主带耕一点田地，农忙时候，也常常求佃户替他做工。但通通是出工钱的。&lt;/p&gt;

&lt;h1 id=&#34;10-土地买卖&#34;&gt;　　10.土地买卖&lt;/h1&gt;

&lt;p&gt;　　据知事公署粮柜上当雇员的刘亮凡说，民国十四年全县把田出卖的有六百家(买田的不足六百家，因为有一家买几契田的)，以全县三万家计(十二万人，每四人为一家)，每五十家中有一家破产。至于典当，更多于卖绝，每百家有五家把田典出(典进的每百家有二家，因一家有典进几契田的)。即是寻乌近年每年有百分之二的人家破产，有百分之五的人家半破产。&lt;/p&gt;

&lt;p&gt;　　田价：坑田每石租十七元到二十元，塅田每石租三十元到四十元。普通坑田二十元，塅田三十元。典当坑田每石租典价普通十五元，塅田普通二十元到二十五元。&lt;/p&gt;

&lt;p&gt;　　典当分为&amp;quot;过手&amp;quot;、&amp;quot;不过手&amp;quot;。过手，是田主收了典主的典价之后，把田交了给典主，典主收了田或自己耕或佃给别人耕，都由他作主，田主不能过问。过手之后，典主也没有租送给田主了，田主除了保留收回权之外，简直和卖绝一样，因为主权的大半已在典主手里了。不过手，由典主将典价交与田主，而田仍由田主耕种，每年量租给典主，租率是照普通田租一样，每一石谷田交一石谷租(两档共)。譬如塅田典价每石租二十元，田主得了二十元，交出一石租，每石谷价普通四元，利率是年二分。为什么典田利率低于社会借钱利率呢(普通借钱年利三分起码)?因为一般富农(新发户子们)的心理，高利放债不如低利典田靠得住，&amp;quot;把钱放到泥里头&amp;quot;是很稳当的。富农们为什么不买田而去典田呢?因为农民和地主的破产是逐渐的不是突然的，&amp;quot;先典后买&amp;quot;，成了普遍现象。但&amp;quot;田就姓大，一典就卖&amp;quot;，也是普遍现象，故买田与典田仅仅相差一间。过手不过手二者，过手的占百分之九十，不过手的占百分之十。不过手的多半是包租(铁租)，但也有法律上过手，而由原主向典主书立赁字成为东佃关系仍耕着这份田地的。这是于债主(典主)债户(田主)关系之外，再加一层东佃关系。&lt;/p&gt;

&lt;p&gt;　　不过手典当的田，有些是偷典的。就是那些&amp;quot;嫖赌食着&amp;quot;的少爷们，当他们赌输了或者没有嫖钱了，欠了暗帐，不得开交的时候，便瞒了他的父亲把田秘密典给那些强房大姓的富农或地主之手，等到他的父亲死了，然后把田过手。为什么要典给强房大姓呢?因为只有强房大姓才不怕事，秘密发觉了，他就公开起来，也不怕他的父亲不依。&lt;/p&gt;

&lt;p&gt;　　典田不过手，也是典主对田主的一种重利盘剥的机会。因为田主每年交租交不清时，典主就对那未清部分行起息来，年年加多，最后非把这份田完全卖给典主不可。这种欠租利息是三分以上的高利贷，而不是二分的典价利息。&lt;/p&gt;

&lt;p&gt;　　B.高利剥削&lt;/p&gt;

&lt;p&gt;　　1.钱利&lt;/p&gt;

&lt;p&gt;　　钱利三分起码，也是普通利，占百分之七十，加四利占百分之十，加五利占百分之二十。通通要抵押，有田地的拿田地抵押，无田地的拿房屋、拿牛猪、拿木梓抵押，都要在&amp;quot;借字&amp;quot;上写明。大地主、中地主、公堂、新发户子(发财的小地主及富农)都有钱借。其中以借额论，中地主占百分之五十，新发户子占百分之三十，大地主及公堂占百分之二十。以起数论，新发户子最多，占百分之七十五，中地主占百分之二十，大地主及公堂占百分之五。以借债人论，加五利(年利五分，每百元利五十元)、加一利(月利一分，每百元年利百二十元)差不多通通是贫农借的。加三利(月利三厘，每百元年利三十六元)也有，但极少。以贫农借额作一百，加三利占百分之二十，加五利占百分之七十，加一利占百分之十。贫农的借主多半是新发户子，三元五元，十元八元，零零碎碎，利上起利。抵押品贫农无田可指，多半指房子，指牛猪。借主时时想吞并贫农的房屋牛猪，或他很小的一块田，或一个园子，察到贫农要钱用，就借给他，还不起，就没收抵押品。也有中等地主借这种吞蚀贫农的小份子债的，古柏的祖父古有尧就是一个例。他曾经用这种借贷法吞并贫农三个菜园子、两个房子。今天借一元，明天借两元，逐渐成一大注，便有资格吞并一个菜园子了。他常常处心积虑，用这种乘人之危、零碎借债的方法去谋人的财产。他于地方的事、公堂的事一切不管，因为这些事颇妨碍于他个人的发财。他算得个典型的重利盘剥者。&lt;/p&gt;

&lt;p&gt;　　加三利，多半是富农向富农借的，借债的用途是做米贩、做猪贩或者往市上开家小商店。为什么富农向富农借得到加三利，贫农只借得到加五、加一利呢?有两个原因：一是&amp;quot;趸&amp;quot;。普通总是二百元、三百元一借，还了来，作得用，不像贫农之三元五元一借，零碎得很，还了来，也不能作个什么用。二是靠得住。富农有田契作抵押，他的经营又是生利的、有希望的，不像贫农之财产很少，借钱多半是为消费或转还别人债务，很不可靠。&lt;/p&gt;

&lt;p&gt;　　中等地主的钱多半是借给那些小地主中之破落户及正在走向破产路上的农民，他的目的也是在于吞并土地。&lt;/p&gt;

&lt;p&gt;　　大地主及公堂的钱很少借给人家的，因为大地主的目的在享乐而不在增殖资本，做八十酒呀，起大房子呀，留了钱做这些用，送子弟读书也要用钱(这不是他的重要目的)。一小部分商业化的大地主，拿了钱去做生意。因此，也就无钱借与别人。那些有多钱余剩的，没有工商业可以大注地投资，零零碎碎借给小地主及农民，既借不得几多，又不甚可靠，他就宁可挖窖埋藏，不贪这点利息。加以军阀捐派频繁，看见多钱出借之家，就这也要捐，那也要派，闹得不得下地。陈炯明部下林虎、刘志陆[37]，在篁乡向大中地主、公堂、神会派了万多元，派过两三次，因此更发使他们把钱藏起来。&lt;/p&gt;

&lt;h1 id=&#34;2-谷利&#34;&gt;　　2.谷利&lt;/h1&gt;

&lt;p&gt;　　谷利比钱利重得多，乃富农及殷实中小地主剥削贫农的一种最毒辣的方法。十二月、三月两个期间借的最多。贫农为了过年，故十二月要借谷；为了莳田，故三月要借谷。不论十二月借，三月借，均六月早子收割时候要还他，利息均是加五，即借一石还一石半(三箩)。这种六个月乃至三个月算去百分之五十的利息的制度，乃是高利贷中很厉害的。&lt;/p&gt;

&lt;p&gt;　　贫农六月收下早子，还去租谷和借谷，吃到八月就没有谷子了，又要跟地主富农借谷。八月借谷一石，十月打番子时候还他，加二利，要还一石二斗。若贫农十月还不起，只得同债主说：&amp;quot;埃今年毛有还了，明年早子收了再还。&amp;quot;债主就说：&amp;quot;也可以的，本利加算起来才行。借给你的那一石本，算加五利是五斗，那利息二斗利上起利也要加五，就是一斗，你明年六月总共还我一石八斗。&amp;quot;(本一石，加利二斗，又加利五斗，又加利一斗，共一石八斗。)那末从今年六月到明年六月一个对年，共是加八利。假若他明年六月又还不起，那末从一石八斗再行加五起算。假如那个农民到了那年番子时又还不起，转到次年六月，再转到次年八月，如此转下去，一年转两回，转到十年就成了一个十分惊人的数目。&lt;/p&gt;

&lt;h1 id=&#34;3-油利&#34;&gt;　　3.油利&lt;/h1&gt;

&lt;p&gt;　　油利是所有借贷关系中的最恶劣者。所谓&amp;quot;对加油&amp;quot;，寻乌南半县有茶子山的地方都有的，北半县没有茶子山，所以没有对加油。什么叫做对加油呢?借一斤，还两斤，借两斤，还四斤，借四斤，还八斤，这样叫做对加油。什么期限呢?九月打油时候为标准，九月以前一年之内不论什么时候借的，一概对加利。&lt;/p&gt;

&lt;p&gt;　　油山[38]是地主或富农的，租给贫农耕种，地主富农收油租，二十斤油收十斤，六十斤油收三十斤，计收百分之五十。地主富农收了这些油租，大概百分之九十是挑赴市场发卖，百分之十是用对加利借给贫农。但他借时，往往说这油是他儿子或他媳妇的私家油。有些呢，也确是他儿子、媳妇的私家油，富农家里的媳妇们和他还没有当家的儿子们常常有私油。它的来历是，当摘茶子的时候将过了，茶子树下的零茶子遗落没有拾的，他们就拾起，打出油来作为他们的私财，他们就有资格放高利贷。&lt;/p&gt;

&lt;p&gt;　　&amp;quot;先生，借点钱给埃!&amp;quot;&lt;/p&gt;

&lt;p&gt;　　&amp;quot;毛!&amp;quot;&lt;/p&gt;

&lt;p&gt;　　&amp;quot;借点谷给埃!&amp;quot;&lt;/p&gt;

&lt;p&gt;　　&amp;quot;毛!&amp;quot;&lt;/p&gt;

&lt;p&gt;　　&amp;quot;毛有吃了，总要借点子!&amp;quot;&lt;/p&gt;

&lt;p&gt;　　&amp;quot;油就有，埃奶子的。&amp;quot;&lt;/p&gt;

&lt;p&gt;　　贫农目的不是借油，因为油利太贵了，但因为地主富农钱谷都不肯借，迫着只得借油，借了油去变卖成钱，再籴谷子吃饭。&lt;/p&gt;

&lt;p&gt;　　也有借油吃的。贫农们打禾子，没有油吃，提个壶子跑到地主富农家里借一壶油，六月借油九月还，一壶还了两壶去。贫农家里没有秤，有些贫农的老婆、媳妇也不识秤，借一壶还两壶，她们是容易记得的。&lt;/p&gt;

&lt;h1 id=&#34;4-卖奶子&#34;&gt;　　4.卖奶子&lt;/h1&gt;

&lt;p&gt;　　上面第二节里所说十年拖欠的话是假设的，事实上债主很少准许农民一笔账拖到十年之久。他总是压迫农民很快还清，还清一次，再借二次，因为他怕农民欠久了靠不住。通常情形是准许农民还本欠息，息上加息，推算下去，也只三年五年打止，不准太欠久了。债主怎样强迫农民还债呢?打禾了，债主挑了箩子走到农民的稻田里去，对农民说：&amp;quot;你的谷子还了我来!&amp;quot;农民无法，望着债主挑了谷去。既交了租，又还了债，&amp;quot;禾头根下毛饭吃&amp;quot;，就是指的这种情形。许多的农民在这种情况之下扯着袖子揩眼泪呢!&lt;/p&gt;

&lt;p&gt;　　&amp;quot;嫁姑娘卖奶子，都要还埃。&amp;quot;这是寻乌的习惯话。债主们对那种&amp;quot;可恶的顽皮农民&amp;quot;逼债，逼到九曲三河气愤不过的时候，往往是这样说的。读者们，这不是我过甚其词，故意描写寻乌剥削阶级的罪恶的话，所有我的调查都很谨慎，都没有过分的话。我就是历来疑心别人的记载上面写着&amp;quot;卖妻鬻子&amp;quot;的话未必确实的，所以我这回特别下细问了寻乌的农民，看到底有这种事情没有?细问的结果，那天是三个人开调查会，他们三个村子里都有这种事。刘亮凡是城区富福山人，富福山离城十八里，那村子里共有三十七家人，分为刘、曹、陈、林、黄五姓，共有五家卖奶子(客籍叫儿子曰奶子)的，内三家都姓刘，是刘亮凡(城郊乡苏维埃主席)的亲房，名字叫做刘昌育、刘昌伦、刘昌纯，其他两家，一家叫林芳廷，一家叫陈良有。刘昌育(刘亮凡的胞叔)是小木工人，余四个都是佃农。刘昌育有四个奶子卖去三个，刘昌伦三个奶子卖去一个，刘昌纯两个奶子卖去一个，林芳廷三个奶子卖去两个，陈良有一个奶子卖去一半。五家都是因为破产到完全没有了，没法子，把奶子变卖得些钱，一面还清债主的账，一面自己吃饭。买主都是附近村庄里的本姓绅士和富农，绅士更多，富农次之。卖价每个百元(起码)到两百元(最多)。卖时两家在名义上不说&amp;quot;卖&amp;quot;而说&amp;quot;过继&amp;quot;，但社会上一般都说&amp;quot;卖奶子&amp;quot;。要写张&amp;quot;过继帖&amp;quot;，普通也叫作&amp;quot;身契&amp;quot;。过继帖上面写道：&lt;/p&gt;

&lt;p&gt;　　&amp;quot;立过继帖人某某，今因家贫无奈，告借无门，人口嗷嗷，无力养育，情愿商请房族戚友将所生第几男过继于某宗兄为男，当得身价洋若干元。自过继之后，任凭养父教读婚配，倘有打骂等情，生父不得干涉。两方甘愿，并无勒迫，不敢生端异说。恐口无凭，立此过继帖一纸为据。&lt;/p&gt;

&lt;p&gt;　　媒人某押&lt;/p&gt;

&lt;p&gt;　　某押&lt;/p&gt;

&lt;p&gt;　　某押&lt;/p&gt;

&lt;p&gt;　　房族某押&lt;/p&gt;

&lt;p&gt;　　某押&lt;/p&gt;

&lt;p&gt;　　某押&lt;/p&gt;

&lt;p&gt;　　戚友某押&lt;/p&gt;

&lt;p&gt;　　某押&lt;/p&gt;

&lt;p&gt;　　某押&lt;/p&gt;

&lt;p&gt;　　父某押&lt;/p&gt;

&lt;p&gt;　　母某押&lt;/p&gt;

&lt;p&gt;　　兄某押&lt;/p&gt;

&lt;p&gt;　　弟某押&lt;/p&gt;

&lt;p&gt;　　某某代笔&lt;/p&gt;

&lt;p&gt;　　某年某月某日立&amp;quot;&lt;/p&gt;

&lt;p&gt;　　这种卖身契只有卖主写给买主，买主不写文件给卖主。所谓媒人即是中人，多的有四五个，都要&amp;quot;水扣钱&amp;quot;，抽卖价的百分之五。房族戚友临场有多到十几个的，都要&amp;quot;画押钱&amp;quot;，归买主出。亲房及强梁的(多半是绅士)画押钱要多，有十多元到二十元的，普通房族戚友画押钱每人一元以内。奶子的年龄有三四岁的，有七八岁的，有十三四岁的。买卖奶子，由媒人背了送到买主家。这时候奶子的父母总是痛哭流泪，甚至两夫妻打起架来，妻骂夫没有用，寻不到饭吃要卖奶子，旁人也多有替他们流泪的。刘昌育卖奶子，他的侄儿刘亮凡就是一个看不过意流了泪的。现在讲到调查会的第二个农友李大顺，看他供给的材料又是怎样?他是双桥区的黄沙村人，他那个村是个有人家四百户左右的大村，内中卖奶子而被他亲眼看见的有五家，每家卖出一个奶子。有一家是卖往广东平远县的八尺地方，李大顺在路上撞到这个背着小奶子的父亲往平远方向一路哭了去，这人撞到熟人脸上不好意思到十分。他为什么要把奶子卖往广东八尺呢?因为卖的价钱更高，一个奶子卖得二百多到三百元。不论卖到什么地方，四五岁的幼年奶子卖的价钱更高，因为容易&amp;quot;养得疼&amp;quot;(带得亲)。年龄大了，像八九岁的、十多岁的，反倒卖不起价钱，因为不容易带得亲，并且容易跑掉。至于到调查会的第三个农友梅治平，他是双桥区蓝田村的农民，他村里也有卖奶子的事。他的叔父梅宏波穷得不得了，三个奶子一个过番(往南洋)去了，一个在家，一个卖往平远。附近暗径村，贫农梅传华七个奶子，卖出五个。那天调查会到的就是刘、李、梅三位，他们自己村子里出卖儿子的事，就有上述那么多起。三人中一个是北半县人(刘)，两个是南半县人，那末全县的情形也不难推知了。据他们说，在他们所知道的地方，每百家人家有十家是卖过儿子的。刘亮凡说，他曾见过和听过卖儿子的事，在他家乡的附近共有上百的数目。&lt;/p&gt;

&lt;p&gt;　　普通总是卖儿子，卖妻卖女的不经见。&lt;/p&gt;

&lt;p&gt;　　听见人家卖了儿子了，债主就急急地到他家里去讨账。&amp;quot;卖了奶子还不还埃(我)吗!&amp;quot;债主很恶声地叫着。他为什么要这样子呢?因为这时候是他这笔债的生死关头，卖了奶子犹不还他，钱一用掉，永久没有还债的机会了，所以他就顾不得一切了。&lt;/p&gt;

&lt;p&gt;　　旧的社会关系，就是吃人关系!&lt;/p&gt;

&lt;p&gt;　　5.打会&lt;/p&gt;

&lt;p&gt;　　打会的目的是互相扶助，不是剥削。如为了娶媳妇，做生意，死了人要埋葬，还账等等，就邀集亲戚朋友打个会。但月子会、隔年会、四季会，因为标利很重，结果变成剥削农民。&lt;/p&gt;

&lt;p&gt;　　打会的人(会头)不是全无资产的人，多半是中农阶级及小商人中间打会的多。富农不消打会，极贫的贫农想邀个会也邀不到，只有半自耕农，佃农中之有牛力、农具者，自耕农，市镇上较活动没有破产危险的小商人，他们邀会才有人来。&lt;/p&gt;

&lt;p&gt;　　会有长年会、半年会、月子会、四季会、隔年会五种。&lt;/p&gt;

&lt;p&gt;　　长年会是六个人，六年完满。除头会外，每人出洋十元，共五十元，交与头会。头会&amp;quot;没本盖利&amp;quot;，三年加三(每年盖利十五元，共四十五元)，两年加二半(每年盖利十二元五毛，共二十五元)，一年加二(十元)，共计六年头会要盖利八十元，本则&amp;quot;没收&amp;quot;去了。二会以后没本盖利制度与头会同，惟利息逐年减轻。如二会是二年加三(每年十五元，共三十元)，二年加二半(每年十二元五毛，共二十五元)，一年加二(十元)，共盖利息六十五元。三会以后盖利更少。&amp;quot;头会卖脸皮，二会捡便宜&amp;quot;，说的是头会虽得经济利益，但须低头求人才打成会，二会既不求人又得利益。&lt;/p&gt;

&lt;p&gt;　　半年会采取标息制度，每半年标一次，人数八个起码，九个、十个、十一个以至二十多个都有。半年会不是没本盖利，而是每半年一了。(月子会、四季会、隔年会缺。)&lt;/p&gt;

&lt;h1 id=&#34;c-税捐剥削&#34;&gt;　　C.税捐剥削&lt;/h1&gt;

&lt;p&gt;　　1.钱粮(1)地丁　全县一千四百二十四两，每两还正税大洋三元，附税二角四分。它原本不是钱而是米，每石谷田完地丁米八勺(每十勺为一合，十合为一升)，每升地丁米折成忙银六分四厘二，再照每两忙银折成大洋三元二角四分，约计每石谷田完大洋二分。相传从前安远典史杨霄远跑到北京皇帝老子那里，头上顶个盘子，盘子里面覆着许多酒杯子，表示安远、寻乌两县山多田少，手里拿着一篇奏文，上面写着&amp;quot;万顷山冈一线田&amp;quot;等等话头，请求减轻田赋，弄得那个皇帝大发脾气，说你那么个小官敢到我的面前上奏，我可不依，喝声推出斩首。然后拿了奏文一看，看到&amp;quot;万顷山冈一线田&amp;quot;的地方，却说&amp;quot;话还说得有理&amp;quot;，就批准他的奏文。因此安、寻两县田赋较之他处为轻。至今两县地主富农当每年完粮时候，还要拿些香烛到杨霄远庙里祭他一番。两个县城都有杨公庙。&lt;/p&gt;

&lt;p&gt;　　(2)官租　篁乡全区，三标区一部分，城区也有一点，名曰&amp;quot;官田&amp;quot;。政府收官租不收地丁，共计九百四十多两，较之地丁贵得八九倍，大概每石谷田要完小洋二毛。为什么有这种官田呢?明朝篁乡出了个&amp;quot;霸王&amp;quot;，名叫叶楷，盘据篁乡多年，与明朝皇帝作对，皇帝用计把他剿平，把所有篁乡全区叶楷管辖地方的田地充公，名曰官田，禁止买卖，只能用佃户与佃户之间转移田地的名义，叫做&amp;quot;顶退&amp;quot;。三标官田的来历与篁乡相同，那里曾为叶楷部属占据过。城区的一点小的官田，则因那里的人曾经犯了皇帝老子的法，因此没收了他的田来。&lt;/p&gt;

&lt;p&gt;　　(3)合计　地丁、官租二项，合计银二千三百六十余两，每两折三元二角四分大洋，也不过七千六百四十余元。由于沙冲水破，逃亡孤绝，贫苦拖欠几种原因，每年有两成收不到手，实际只能收六千一百十二元左右。&lt;/p&gt;

&lt;p&gt;　　(4)苦甚　上述田赋数量，每年不过六千一百余元，而县署用款如行政经费、司法经费、监所经费、人犯囚粮、慈善经费各项，每年须用一万余元，以之抵充，不足远甚。故到寻乌做官的人，莫不觉得苦甚，便一意勾结豪绅，借种种事故压榨贫民。至于烟、酒、屠宰等税，直接归省政府，不与县署相干，县署能指挥的只有田赋一项。&lt;/p&gt;

&lt;p&gt;　　(5)陋规　县署钱粮经征柜上有几种陋规：第一是银水，每块钱至少吃去半毛至多一毛。譬如市价每小洋十二毛折大洋一元，粮柜上却要收十二毛半，全年六千一百余元，每年可吃银水三百多元，这是粮柜上的第一个大剥削。经征主任没有薪水，专靠银水及其他陋规养他。第二是过割礼，又名割粮礼，民间买卖田地要交割粮礼，粮柜上每户要收过割礼二毛，全年约有六百户割粮，可得一百二十元。第三是填写礼，田地买卖不但要交割粮礼，而且要税契，就是要拿土契到粮柜上斢张官契(财政厅发下来的)，将土契文字填写到官契之上，每张收填写礼二毛，全年所得总数与过割礼同。第四是券票礼，即粮票钱，每张小洋三分，全年约二千张，共六十元。以上四种陋规，除银水外，都是公共的。每个知事新到任，粮柜主任要孝敬二十元至三十元与他，名曰&amp;quot;点规&amp;quot;，即是希望新任知事再点他做粮柜主任的意思。此外，还有过节礼(端午)、过年礼，不但要送知事，而且要送财政科长，知事送物，科长送钱(十元到二十元)。这些耗费都是出之于陋规。&lt;/p&gt;

&lt;p&gt;　　(6)管钱粮的　寻乌县有三个管钱粮的，刘士辉、刘梅芳、黄少堂。民国以来就是他们管钱粮，他们挟着几本粮册做宝贝，勾结历任县知事把这个职务当做世袭。由三人中互推一人为主任，其余两人为户书。红军到城，三个都挟着粮册跑掉了。&lt;/p&gt;

&lt;h1 id=&#34;2-烟酒印花税&#34;&gt;　　2.烟酒印花税&lt;/h1&gt;

&lt;p&gt;　　寻乌的烟酒印花税，每月小洋各六十元，共百二十元，一个商人承包，在北门内设个税局。除县城外，每月往澄江、吉潭、三标、石排下、留车、车头、牛斗光、珠村圩、荒塘肚、公平圩、篁乡圩、中和圩、岑峰圩、茅坪圩、龙岗圩、上坪圩等十六个圩场收税一次。每个小酒摊子卖酒，每个小杂货店卖黄烟，都要抽税。老实的，多敲他一点，调皮的，照章程收。每月一百二十元包税，实收可得二百元，赚八十元。税局要用局丁二名、火夫一名。包商多半是赣州人。&lt;/p&gt;

&lt;h1 id=&#34;3-屠宰税&#34;&gt;　　3.屠宰税&lt;/h1&gt;

&lt;p&gt;　　也是包，每月八十元税额，实收百五十余元，赚七十余元。也设一个局，局丁一名，火夫一名。局丁不但招扶局长，还要帮他出外收税。百五十余元，城中即占四十八元八毛(三个肉案)。包商也是赣州人。只能收到圩场有定案的屠户，章程虽然说的乡下人家杀一个猪也要完税，实际收不到。&lt;/p&gt;

&lt;h1 id=&#34;4-护商捐&#34;&gt;　　4.护商捐&lt;/h1&gt;

&lt;p&gt;　　是一种地方捐，普通叫做&amp;quot;百货捐&amp;quot;。国民党经费、靖卫团经费都从此出，公安局没钱用也要拨一份给它。县百货捐总局归地方财政局管辖，县城北门外、吉潭圩、盘古隘，各设分局。油、盐、米、豆、鸡、鸭、牛、猪、羊、狗、水货、杂货、布匹，凡属路途过往货物，无论什么都要抽税，每件半毛起码，五毛为止。米果、水果、柴火、竹木器等附近乡下挑到圩场零碎发卖而非远途过往的东西，不收税。反过来说，一切远途过往的东西都要收税。南半县留车、牛斗光等处群众斗争发展，便无法设局收税。三个分局每月数额二千元以上，吉潭过去有一个月收过二千多元，北门外过去有一个月收过八百多元，盘古隘过去无局，谢嘉猷最近才设立。名字叫做&amp;quot;护商捐&amp;quot;，实则商民恨得要死。&lt;/p&gt;

&lt;h1 id=&#34;5-牛捐&#34;&gt;　　5.牛捐&lt;/h1&gt;

&lt;p&gt;　　县城一处，每年一千七百多元，无局，由三四个股东承包，一人出面办理。四年来都是新寻派何子贞的老子何学才出面包办。一千七百多元捐额，实际则收二千三四百元，也是一笔地方捐，归财政局管理支配。&lt;/p&gt;

&lt;h1 id=&#34;6-赌博捐&#34;&gt;　　6.赌博捐&lt;/h1&gt;

&lt;p&gt;　　名字叫做&amp;quot;公益捐&amp;quot;，包括赌摊与花会，亦属地方经费，由财政局派征收员(何子韶做过两年)管理征收。县城一处每月收一千一百元，盛时每月收过一千八百余元。全县各圩同样要抽。前年每月全县收过三千多元，那时有刘士毅[39]派了一排人来县经办，名曰&amp;quot;防务捐&amp;quot;，每月提去二千元。赣南各县都是如此。后赣南旅省同乡会向省政府告了刘士毅，他不得不撤销，但地方豪绅继续征收如故。这是地方豪绅与刘士毅斗争的一幕小史，许多县都有这种斗争。&lt;/p&gt;

&lt;h1 id=&#34;7-财政局总收入&#34;&gt;　　7.财政局总收入&lt;/h1&gt;

&lt;p&gt;　　财政局的收入是牛捐(年一千七百多元)、护商捐(年二万四千元)、考棚租(二千元左右)、宾兴租(以谷折钱计三千元左右)、孔庙租(三百元左右)等，共计年收三万元左右。其用途是，国民党县党部、靖卫队、财政局、建设局、教育局、清乡局、公安局、新寻学校(何子贞、何挺拔办的)、普化学校(在澄江，谢嘉献、蓝玉卿办的)的开销，总而言之是豪绅及其走狗嫖赌、食着、鸦片烟的用费所从出。&lt;/p&gt;

&lt;h1 id=&#34;8-派款借款&#34;&gt;　　8.派款借款&lt;/h1&gt;

&lt;p&gt;　　省政府的赣省公债派过三千元，二五库券派过二千元，中央公债派过一千元左右，金融善后借款派过四千元，军阀过往，如林虎、刘志陆、李易标、黄任寰[40]、许崇智、赖世璜过了多回，前后派过四万多元。以上这些派借款项，由县署分摊到各区、各村、各圩，凡有一石谷田以上的，小商一百元资本以上的，均要派到。凡操到政权的豪绅地主大商，从县到乡各级机关的办事人，均不出钱，对他们的亲戚朋友也为之设法酌减。于是款子都派在那些老实的弱小的地主、富农、商人身上。还要加派手续费、夫马费、茶水费，如上头要派一千元，财政局就要派一千二百元，接下去区乡两级又各要加派，借此渔利。上面借了款去如公债等，间有还下来的，军队借款亦间有还来的，县城及各区保卫团豪绅们一把吞了下去，从不发还与借户。汪子渊当保卫团总时，吞没军队还来借款一千余元，惹起篁乡一带借户和他打官司，始终没有打得出一个铜板。&lt;/p&gt;

&lt;h1 id=&#34;九-寻乌的文化&#34;&gt;　　(九)寻乌的文化&lt;/h1&gt;

&lt;p&gt;　　女子可以说全部不识字，全县女子识字的不过三百人。男子文化程度并不很低，南半县文化因交通与广东的影响比北半县更加发达。依全县人口说，约计如下：&lt;/p&gt;

&lt;p&gt;　　不识字　　　　　　　百分之六十&lt;/p&gt;

&lt;p&gt;　　识字　　　　　　　　百分之四十&lt;/p&gt;

&lt;p&gt;　　识字二百　　　　　　百分之二十&lt;/p&gt;

&lt;p&gt;　　能记账　　　　　　　百分之十五&lt;/p&gt;

&lt;p&gt;　　能看三国　　　　　　百分之五&lt;/p&gt;

&lt;p&gt;　　能写信　　　　　　　百分之三点五&lt;/p&gt;

&lt;p&gt;　　能做文章　　　　　　百分之一&lt;/p&gt;

&lt;p&gt;　　初小学生　　　　　　百分之五(五千人)&lt;/p&gt;

&lt;p&gt;　　高小学生　　　　　　百分之八(八千人)&lt;/p&gt;

&lt;p&gt;　　中学生　　　　　　　五百人&lt;/p&gt;

&lt;p&gt;　　大学生　　　　　　　三十人&lt;/p&gt;

&lt;p&gt;　　出洋学生　　　　　　六人&lt;/p&gt;

&lt;p&gt;　　秀才　　　　　　　　四百人&lt;/p&gt;

&lt;p&gt;　　举人　　　　　　　　一人&lt;/p&gt;

&lt;p&gt;　　(上列的百分数是每一项对于人口总数的比例。)&lt;/p&gt;

&lt;p&gt;　　高小学生多于初小，是因为进高小的多由读蒙馆后直接进去的。全县初小每区不出十个，七区共七十个，每个以五十人计共三千五百人。此外半新不旧的初小，有其名无其实或者连招牌也没有挂的有八十个，学生约一千五百人。两项共五千人上下。&lt;/p&gt;

&lt;p&gt;　　高小每区至少一个。双桥区经常有两个，有一时期(三二五暴动前)有过四个。南八区有二个，有一时期(三二五暴动前)有过三个。城区有二个(城内之城东学校及田背之曹仓学校)。篁乡有一时期(三二五暴动前)有三个。县城有三个(除城东)。全县经常有高小十三个，最盛时期(三二五暴动前中国大革命前后文化运动高潮时期)有十八个。普通每校有一百学生。前清光绪末年办起到最近，最老的有二十多年历史，共有学生一万左右，一万人中已经死掉了二千左右。高小学生大部分是小地主子弟，大地主与富农子弟各占小部分。&lt;/p&gt;

&lt;p&gt;　　本县有四个中学，但都短命。项山大地主&amp;quot;屎缸伯公&amp;quot;办的知耻中学(项山小杭)办了一年，双桥地主们联合办的尚志中学(在坵坊)办了半年，澄江公立的普化中学(在澄江圩)办了两年，革命派办的中山中学(在县城)办了两个月，总共出了一百多个没有毕业的学生。中学生的大多数是在梅县、平远、赣州三处中学读书的(每处各一百名左右)。全部都是地主子弟，其中亦是小地主占大多数。&lt;/p&gt;

&lt;p&gt;　　大学生中大多数出于大中地主阶级，小地主只占着五个。刘维炉在广州中山大学读了一学期，刘维锷在北大读了二年，邝才诚在北京师大读了一年多，三个都是共产党员。二刘三二五暴动时被杀，邝任红军五十团参谋长，在澄江被谢嘉猷捉着割死。邝世芳在北京朝阳大学读四年，病死，思想是革命的。凌得路在北京文化大学读一年，到俄国留学，以不能供给饭费，在芬兰使馆教大使家塾，思想是革命的。五人都是由祠堂供给学费才进大学的。大地主出身的二十五个大学生(及专门学校学生)全部反动，主要如何子贞(河南矿务学校读了两年，寻乌靖卫队长)、赖世源(北京师大预科二年，在篁乡参加反革命)、刘鸿翔(北京文化大学读两年，在南八区领导反革命)，三人均在寻乌，其余多在外头，属于蒋介石派。共大学生三十人，十分之八是读法科。&lt;/p&gt;

&lt;p&gt;　　出洋学生六人中，潘作琴(英国医科毕业，在汕头行医)、丘凌云(到英国走过一回，其实不算留学，天津锅炉公司工程师)、丘伟伍(日本帝大毕业，新寻派中坚，随何子贞跑了)、古子平(从日本买了一张文凭回来，大嫖大赌，篁乡人，做过教育会长，此次在篁乡炮楼中被红军攻走)四人均大中地主出身。曾有澜(最先出外留学的，光绪年间去日本，法科毕业，在奉天、北京、湖北做法官，中山中学派曾捧他为假首领，三二五暴动失败房子被烧，现加入改组派)、邝摩汉(日本留学，自称马克思主义者，北京文化大学教务主任，与寻乌大地主谢杰在南京办汽车公司)二人出身不属大中地主。曾是小地主，官费留学日本。邝是贫农，高小毕业，进南昌宪兵学校，有个什么人赏识他，供给他钱去日本。&lt;/p&gt;

&lt;p&gt;　　秀才生存者全县还有四百个，其中篁乡区塘背古姓一村六百人中占去十一个，是秀才最集中的地方。古柏的高祖七十岁，死时起个&amp;quot;圣旨&amp;quot;牌坊，中间写着&amp;quot;亲见七代&amp;quot;，两边写着&amp;quot;眼见五廪贡&amp;quot;、&amp;quot;膝绕十二衿&amp;quot;，说的就是那时候他的孙子同时有十二个秀才。塘背古姓的旧文化在全县是最盛的，他们在政治上也历来占着支配的地位。南八区车头乡二千人中有秀才九人，也算是很多的。南八区龙图乡一千四百人中有秀才二个，则算是少的。近数年来，秀才们大多数无所事事，在乡村中当&amp;quot;老太&amp;quot;(本姓农民呼尊长叫&amp;quot;老太&amp;quot;，地方上人称他则曰&amp;quot;先生&amp;quot;)。这班人多半是收租的小地主，一小部分教书(旧书，也有新书)，又一小部分行医以为生。秀才都是地主阶级的产物，但也有极少数是从贫农阶级出身，受地主的栽培而读书进学的。寻乌唯一的现存举人古鹿苹，他的父亲是个雇农，苦得没有饭吃。他小时提个小篮子卖小口(糖子、荸荠、咸萝卜等等)，后来读书，先生见他聪明，不收他的学费，以此读出头来。他做过两任县知事、两任省议员。他在乡间是个极顽滑的，什么人都同他好，他亦表面上赞成新派，同时又禁止他的女儿剪头发，限制她的婚姻自由。南半县土地斗争起来，他采取反对态度，这次红军进攻古姓炮楼，他又主张投降。&lt;/p&gt;

&lt;p&gt;　　南半县土地斗争胜利，每个乡苏维埃至少办了一个列宁小学校，普通是每乡两个，特别地方(龙图、牛斗光)办了四个，每校学生四五十人。学校及学生数比旧时国民学校增多一倍。小孩子们说：&amp;quot;若不是土地革命我们没有书读。&amp;quot;高小因无经费也没有教员(革命知识分子忙于参加斗争去了)，还没有办起来。&lt;/p&gt;

&lt;h2 id=&#34;第五章寻乌的土地斗争&#34;&gt;第五章寻乌的土地斗争&lt;/h2&gt;

&lt;p&gt;　　本章目录&lt;/p&gt;

&lt;p&gt;　　(一)分配土地的方法&lt;/p&gt;

&lt;p&gt;　　(二)山林分配问题&lt;/p&gt;

&lt;p&gt;　　(三)池塘分配问题&lt;/p&gt;

&lt;p&gt;　　(四)房屋分配问题&lt;/p&gt;

&lt;p&gt;　　(五)分配土地的区域标准&lt;/p&gt;

&lt;p&gt;　　(六)城郊游民要求分田&lt;/p&gt;

&lt;p&gt;　　(七)每人得田数量及不足生活之补添&lt;/p&gt;

&lt;p&gt;　　(八)留公田问题&lt;/p&gt;

&lt;p&gt;　　(九)分配快慢&lt;/p&gt;

&lt;p&gt;　　(十)一个&amp;quot;平&amp;quot;字&lt;/p&gt;

&lt;p&gt;　　(十一)抵抗平田的人&lt;/p&gt;

&lt;p&gt;　　(十二)原耕总合分配&lt;/p&gt;

&lt;p&gt;　　(十三)暴动在莳田之后怎样处理土地&lt;/p&gt;

&lt;p&gt;　　(十四)非农民是否分田&lt;/p&gt;

&lt;p&gt;　　(十五)废债问题&lt;/p&gt;

&lt;p&gt;　　(十六)土地税&lt;/p&gt;

&lt;p&gt;　　(十七)土地斗争中的妇女&lt;/p&gt;

&lt;p&gt;　　(一)分配土地的方法&lt;/p&gt;

&lt;p&gt;　　有几种分配土地的方法。主要的是照人口平分。全县只有百分之二十的地方没有分配土地。就已经分配了的说，照男女老少平分法去分配的占百分之八十。当土地斗争初起时没有成法可援，寻乌县革命委员会(县政府)提出了四个办法，要区乡苏维埃召集群众代表开会讨论，任凭选择一种。那四个办法是：一、照人口平分；二、照劳动力状况分配，劳动力多的多分，劳动力少的少分，即四岁以上、五十五岁以下为一劳动单位分全田，四岁以下、五十五岁以上分半田；三、照生活财源多寡分配，如做手艺的少分，无他职业的多分；四、照土地肥瘦分配，肥的少分，瘦的多分。施行结果，多数地方采取第一个办法。后头斗争发展，寻乌党就采取第一种办法作为主要办法，推行各区，得到了多数贫农群众的拥护。现在照这个办法来分配的土地，占全分配区域百分之八十。这百分之八十的地方，通通按照人口数目，不分男女老少，不分劳动能力有无大小，以人口除田地的总数去分配。&lt;/p&gt;

&lt;p&gt;　　有些地方是四岁以下的不分；四岁以上直到老年，不会劳动的分五成或七成，其余分十成。行这种办法的有留车、枫山、上磜、大同四个乡，约有一万人口的地方。&lt;/p&gt;

&lt;p&gt;　　有些地方是照人口平分之后，不会劳动的因为无力耕种退回田之一部分(退的数目多少不等，由本人自定)于苏维埃，由苏维埃补给有劳动力的人耕种。结果成为有劳动力的多分，无劳动力的少分，与县政府提出的第二种办法差不多。不同的是由农民自动地在分田之后退回一部分田地，而不是一开始就按劳动力标准分配。这样做的有龙图一个乡。还有黄沙乡也是退田，不过不是农民自动退田，而是政府于平分之后见着一些人得了田无力耕种，就命令他们退回一部分。要农民退田，他们也没有什么怨言；不过若硬要退肥田，而不准他们退瘦田，他们就不喜欢。龙图、黄沙两乡共有二千五百人。&lt;/p&gt;

&lt;p&gt;　　此外，还有大田乡的自由耕种，愿耕多少就耕多少。这是因为大田乡经过白色大屠杀，杀死壮丁近百、老小数十，有几家全家被杀，又有二三十人当赤卫队，或往外县做革命工作去了，全乡原有八百人，现只六百人，有许多田无人耕种，同时全乡的牛一条不剩地都被反动派牵去了，所以只得任人取耕，全不限制，牛则从别乡土豪家牵来使用。&lt;/p&gt;

&lt;h1 id=&#34;二-山林分配问题&#34;&gt;　　(二)山林分配问题&lt;/h1&gt;

&lt;p&gt;　　全县对于山林，除牛斗光一个乡外，均没有分配，仍由原耕作人经营，名义上全归苏维埃公有，耕种人向苏维埃纳地税。为什么牛斗光的山林分了呢?因为那乡人多田少，农民要求分山迫切。此外，许多地方的农民仍然迫切要求分山，如附城南门外、北门外一带的农民，因为山权在各大姓公堂手里，小姓农民没山种，他们就迫切要求分山。&lt;/p&gt;

&lt;h1 id=&#34;三-池塘分配问题&#34;&gt;　　(三)池塘分配问题&lt;/h1&gt;

&lt;p&gt;　　所有权归苏维埃，使用权归农民，由池塘的邻近人家轮流管理，每年更换一家。全县都是这个办法。&lt;/p&gt;

&lt;h1 id=&#34;四-房屋分配问题&#34;&gt;　　(四)房屋分配问题&lt;/h1&gt;

&lt;p&gt;　　没有分，但准许屋少的或被反动派烧了屋的，搬进屋多的人家去住。双桥、南八两区被敌人烧屋很多，那些烧了屋的人都搬进附近地主富农家里去住，搬进中农贫农家里去住的也有。但有一个问题，就是屋主不欢喜新来的人在他家里生儿子。寻乌习惯，若别人在自己家里生了儿子，就认为他那一家的&amp;quot;精灵&amp;quot;会被那新来的人夺去，他家就要衰败了。从前双桥区的芳田乡有个进士叫曾行崧，他是在他的外祖家出生的，后来他中了进士，做了官，人们就说是夺了他外祖家的风水。这件事全县闻名。三二五暴动失败，留车暴动总指挥钟锡璆的老婆避难避到她的外祖家，她外祖恐怕她会生育，就赶快要她走。后头跑到龙川县的一个村子，在那里山上搭了个寮子才把儿子生下来。现在一般被工农占住的人家，虽然不敢公开反对别人在他家里生儿子，但心里是不满的。解决这个问题只有由现在这种&amp;quot;临时借住&amp;quot;改变到&amp;quot;据为己有&amp;quot;，就是把地主的房屋也完全照地主的田地一样加以分配。这亦是动摇封建基础争取贫农的一个策略。&lt;/p&gt;

&lt;h1 id=&#34;五-分配土地的区域标准&#34;&gt;　　(五)分配土地的区域标准&lt;/h1&gt;

&lt;p&gt;　　农民以两个理由反对用大的区域为单位分配土地，欢迎用小的区域为单位分配土地。一是怕把自己区域的土地分出去。为了这个，他们不但反对以区为单位分田，并且连乡为单位都不赞成。他们衷心愿意的还是以村为单位分田，使他们本村的田完全为本村所得。所以寻乌现在土地分配状况虽有百分之八十五是用乡为单位分的，但多数农民对于这一办法并不热烈拥护，而只是不积极反对就是。为什么他们不积极反对呢?则因一乡之中，村与村的土地数量虽有参差，并不怎样悬殊，照乡为单位分了，他们在经济上所受的损失为数甚为微小。至于那些村与村的土地数量相差很厉害的地方，或者是村的区域很大差不多等于别处一个乡的地方，他们就坚决反对以乡为单位，如城区的城郊乡(分为四村)、新寨乡(分为二村)，南八区的珠村乡(分为六村)等处地方，均以村为单位分配。但这种地区不多，只占全县百分之十五。二是不赞成移民。不但是这区移到那区农民自己不赞成，就是这乡移到那乡也不赞成。&amp;quot;上屋搬下屋，都要一箩谷&amp;quot;，说的是搬家要受损失。还有迷信风水，以为祖宗坟墓所在，抛去不利。农民相信风水是于他们的生产有利的。摸熟了的田头，住惯了的房屋，熟习了的人情，对于农民的确是有价值的财宝，抛了这些去弄个新地方，要受到许多不知不觉的损失。还有因为地理的原因，如车头地方交通便利，商业发达，那地方的农民不肯移到闭塞的小龙去(同一个区，相隔十多里)，也同样是经济理由。那种以为农民的地方主义是由于农民的思想陈旧，即承认是心理的原因，不承认是经济的原因，是不对的。&lt;/p&gt;

&lt;h1 id=&#34;六-城郊游民要求分田&#34;&gt;　　(六)城郊游民要求分田&lt;/h1&gt;

&lt;p&gt;　　城内农民分田最少，每人一石八斗，为全县分田最少的地区。原因是过去耕田的少，过去不耕田而现在要求分田的游民和娼妓很多，因此把田分得少了。娼妓有爱人的跟爱人跑了。没有爱人的无论如何要求分田，她们说：&amp;quot;没有生意了，不分田会饿死。&amp;quot;人们说她们不会耕，她们说：&amp;quot;我来学呀!&amp;quot;实在她们业已在耕田了。游民同娼妓大多数都是分了田的。那些分了田的游民都是比较有耕种能力的，如有儿子，有少数本钱的；娼妓则是有丈夫或儿子的，她们每家有三五口人，迫切要求分田，若不分给，她们就闹。在这种情形下，政府也就分了田给她们。但也有一部分不分的，就是纯粹的流氓或娼妓而完全没有耕种能力的。以城郊说，游民分了田的占百分之六十，毫无耕种能力不分田的占百分之四十。&lt;/p&gt;

&lt;h1 id=&#34;七-每人得田数量及不足生活之补添&#34;&gt;　　(七)每人得田数量及不足生活之补添&lt;/h1&gt;

&lt;p&gt;　　城郊最少，每人每档(一年收两季，每季为一档)一石八斗。城区四厢又多一点，每人每档三石多。双桥区最多，每人每档七石以上。龙图、河角圩每人每档七石。但大多数地方都是每人每档分五石。每人每天要食米一斤，一年三百六十斤，一百八十斤合一石，共米二石，即谷四石。分田石数都是水谷(即毛谷)，每档分五石的，一年两档共十石。十石水谷能晒八石燥谷，食去四石，尚余四石。这四石谷年节做米果呀，蒸酒呀，去了二三石，剩下一二石，不敷衣服、油盐、社会交际(婚丧年节)的日常用度。那末他怎样补足呢?便靠畜猪子、养鸡鸭、种小菜(指城市附近)、种甘蔗、栽竹木、种杂粮(番薯、芋子、包粟、豆子)以及兼做手工(做各种圆木和各种竹器，如锅盖、桶子、饭甑、脚盆、尿桶、水勺、竹椅子、斗篷、簸箕、米筛、畚箕、火笼、竹篮子等等东西。以上那些竹木器，农民兼做的多，专门竹木工做的少，农民甚至有兼做台、凳、椅、桌的)，兼挑脚(挑米脚、挑盐脚、挑豆脚、挑油脚、挑杂货脚，都是帮助人家挑，挑米盐两脚的最多，余较少)，兼做小买卖(贩油、盐、米、豆、猪、鸡以至米果等等)，兼为资本家做工(采香菇、做纸工、采茶等)。上举各项，每人兼做一门或两门，用这种方法补足生活。全家生活，田收占三分之二，杂收占三分之一。&lt;/p&gt;

&lt;h1 id=&#34;八-留公田问题&#34;&gt;　　(八)留公田问题&lt;/h1&gt;

&lt;p&gt;　　没有留公田。开会分田的时候，农民忙的是把田一概分完，没有提议政府要留出公田的。原因是人口稠密，土地稀少，农民分田仅够食用，有些食用还不够，哪里会赞成政府留出公田呢?&lt;/p&gt;

&lt;h1 id=&#34;九-分配快慢&#34;&gt;　　(九)分配快慢&lt;/h1&gt;

&lt;p&gt;　　后起的北半县分配得很快，如城区从暴动占领县城到田地分配完毕，只有二十天时间。还有南八区的车头、龙图及三水区的上坪分配得更快，只要一天调查完结，两天算清，又一天宣布，此外的时间是照每人应得的数目实行抽多补少，确定每家田地的区划。这样，至快也需要一星期，因为实际的斗争就是在抽多补少里头。这种斗争是农民对地主富农的斗争，抽多的不愿抽肥，补少的不愿接瘦，要调配妥当，故需要相当时间。南半县的大部分(除车头、龙图)却分配得慢。去年二月起，双桥一带就有了武装斗争，但到十一月底县革命委员会成立，才开始发表册下去，做土地调查。调查费了一个月还没有调查清楚。原因是调查方法不对，调查表内容很复杂(人口、成分、文化程度、民族、年龄、土地所有权属谁、土地界址、面积数目、每年收成等等)，不必调查的项目也列了进去，调查手续又很麻烦(县革委将调查表发往各乡，调查好了再送县革委审查)，以致延长时日不能分田。今年一月才变更方法，调查表只列简单几项(家长姓名、一家人口总数、能耕种的若干、不能耕种的若干、专做工商业的若干、耕田若干、应分田若干)。调查手续，由乡政府召集&amp;quot;分田大会&amp;quot;，每家出一代表，讨论分田办法之后，当场调查(会场上摆设许多桌子，每个小村的代表们围绕一张桌子，众人口报，一人手录)，送交乡政府核清，将人口总数除田的总数，得出每人应分数目，在通衢公布。从调查到公布，只需四天(调查一天，算清两天，公布一天)。剩下就是实际分配，即从第五天起每个乡政府同时派出指导员十多人，分往各村，踏看田地肥瘦，并验第一天调查场中是否实报无误。踏验明白，执行分配，抽多补少，确定界域。这种踏验、抽补工作较为麻烦，斗争亦多在其中，所以须费一星期内外的工夫。用这种方法从调查到分配完毕，至迟不过两星期即可办完。北半县后起地方，就是用的这种方法。&lt;/p&gt;

&lt;h1 id=&#34;十-一个-quot-平-quot-字&#34;&gt;　　(十)一个&amp;quot;平&amp;quot;字&lt;/h1&gt;

&lt;p&gt;　　各乡分田会议中，讨论的问题是，乡为单位还是村为单位呢?人口标准分配还是劳动力标准分配呢?鱼塘、园、坝怎样分配(山林、房屋二者，寻乌没有提出讨论)呢?不准虚报，虚报的怎样处罚呢?至于没收标准问题简直不消讨论，因为红旗子一打起，那就是没收土地的宣告，用不着再有什么文字形式的宣告了。简单的问题就是这一大片土地怎样分配。很明显的，以人口总数除土地总数的平田主义是最直捷了当，最得多数群众拥护的，少数不愿意的(地主与富农)在群众威胁之下，简直不敢放半句屁。所以一个&amp;quot;平&amp;quot;字就包括了没收、分配两个意义。&lt;/p&gt;

&lt;h1 id=&#34;十一-抵抗平田的人&#34;&gt;　　(十一)抵抗平田的人&lt;/h1&gt;

&lt;p&gt;　　双桥区枫山乡有个姓刘的小地主，霸耕自己的肥田不肯拿出去，拿出的只是些坏田。当群众强迫他拿出的时候，他愤然说：&amp;quot;遭人命也不拿!&amp;quot;乡政府不能解决。县政府派人到枫山，才把他压下去，肥田拿了出来。南八区牛斗光也有富农小地主不肯拿出好田。乡政府怕他们，不敢作主，县政府的人去召集群众大会，才强迫富农小地主照办。双桥区大田乡小地主梅元坤是被反动派烧了房子的，自以为有功于革命。当群众要分他的田的时候，他恶声说：&amp;quot;分田呀!头脑壳生硬下子来!&amp;quot;群众告知县政府，县政府要区政府去捉他。区政府负责人梅立三是个共产党员，因与梅元坤同族，把这件事弥缝下去。梅元坤否认说过那句话，田仍分出来，就此了事。还有双桥区荒塘肚乡政府负责人林某及徐溪乡政府负责人林某(他也是共产党员)，分田时独得好田。群众说&amp;quot;办事人得好田，我们补来的是坏田&amp;quot;，大为不满，斗争情绪因此低落。县政府把两人的好田撤回补给群众，群众才高兴了。以上几个例子，除梅元坤一家是反对没收他的田地外，其余都不是没收问题，而是肥瘦分配问题。所以没收富农与否，群众认为是不成问题的。群众中成为问题的，就是一个肥瘦分配的斗争，这是土地斗争的中心，也即是富农与贫农的斗争。&lt;/p&gt;

&lt;h1 id=&#34;十二-原耕总合分配&#34;&gt;　　(十二)原耕总合分配&lt;/h1&gt;

&lt;p&gt;　　&amp;quot;以乡为单位&amp;quot;，说的是人口单位，不是土地单位。土地是不能以区域限制的。甲乡的人在乙乡耕了田，乙乡的人也在甲乡耕了田，一乡的人在他的邻近各乡都有土地耕种关系。区与区的交界，县与县的交界，省与省的交界，农民都是互相交错地耕种土地。所以一乡的人拿了他们原在本乡及邻乡耕种着的土地，总合起来，平均分配，被认为是毫无疑义的。寻乌的土地分配也是这样。&lt;/p&gt;

&lt;h1 id=&#34;十三-暴动在莳田之后怎样处理土地&#34;&gt;　　(十三)暴动在莳田之后怎样处理土地&lt;/h1&gt;

&lt;p&gt;　　有三种处理法。第一种是寻乌北半县现在行的(南半县分田在莳田之先，无此问题)，上档(又叫&amp;quot;早子&amp;quot;)归原耕，下档(又叫&amp;quot;番子&amp;quot;)归新户。这种办法，富农不吃亏，但一切耕田少的贫农及不耕田的地主与流氓都不满意。特别是地主与流氓觉得没有办法。不能收租了，地主无法得谷。赌博废止，又没有钱借了，流氓失了吃饭的财源。第二种是新户帮钱给原耕，上档亦归新户得谷。这种办法又分帮多与帮少。帮钱多，原耕自然满意；帮钱少，原耕当然不满意。但贫农及流氓群众就纷纷议论，甚至有的说：&amp;quot;几多子家门都了了，你这几根子狗骨气力都唔掼?&amp;quot;意思是说几多大财东都破产了，你这一点点多余东西也舍不得吗?寻乌法律上没有承认这种办法，农民却有自由行之者。像城区有那食不够的贫农帮一点钱给富农，要求富农让了上档的分出部分给他收割，颇有些人家是这样做。第三种是不论上下档谁分了谁就去收获，广东平远县有行之者。&lt;/p&gt;

&lt;h1 id=&#34;十四-非农民是否分田&#34;&gt;　　(十四)非农民是否分田&lt;/h1&gt;

&lt;p&gt;　　流氓在县城方面，略有耕种能力的准许分田，毫无耕种能力的不分；在县城以外各区，因流氓人数少，一概分田。工、商、学无可靠收入的准许分田，县城及大市镇有可靠收入的不分，不足的酌量补足一部分。红军士兵和革命职业者，不但分田，而且苏维埃动员农民替他们耕种。地主在乡居住的准许分田。僧尼、道士、传教士要改变职业，即不做僧尼、道士、传教士了，方许分田，否则不分。算命及地理先生无规定，因为很少，大概都是分田的。南半县完全没有僧尼、道士、传教士、算命及地理先生等人了，他们一概改了职业。黄沙乡政府主席的父亲死了，请和尚做佛事，农民反对。寻乌本县很少&amp;quot;看地的&amp;quot;，看地的多属于兴国人。和尚很少，全县不过百把人。耶稣、天主两教，县城一个耶稣堂二百多人，一个天主堂一百多人，篁乡一个耶稣堂一百多人，牛斗光一个耶稣堂七八十人，吉潭一个耶稣堂一百人左右，澄江一个耶稣堂七八十人左右，计耶稣堂五个七百人左右，天主堂一个百多人，共八百多人。耶稣堂属美国，过去县城有一个美国牧师，其余四处均中国人传教。天主堂属德国，有一个中国神甫。教徒成分，寡妇(内有贫农)及老年妇人(地主婆)占百分之三十，刁钻古怪的绅士及其家属占百分之三十，弱房小姓的农民占百分之二十(强房大姓的农民不入教)，地主出身没有出路的青年知识分子占百分之十，其他百分之十。大概进教的不外两个部分：一部分是很坏的，一部分是很弱的。很坏的也不是流氓，而是那乡村中奸滑阴险想当霸王的，他们进教为了利用它达到自己的目的。另一种是受人压迫贪图保护的贫弱的人，他们的目的在于避祸。&lt;/p&gt;

&lt;h1 id=&#34;十五-废债问题&#34;&gt;　　(十五)废债问题&lt;/h1&gt;

&lt;p&gt;　　分为债与账两项。债是废除二分利以上的高利贷。该欠商人的叫作账，民国十七年元旦以前的不还，以后的要还。因为寻乌所有的债，没有在二分以下的，所以二分以上的不还，实际上即是整个的不还。亲戚朋友之间讲人情借来不要利息的债务，群众仍归还，但这是非常之少的。欠商人的账多属富农阶级，中农稍有一点。贫农雇农是没有商人赊账的。&lt;/p&gt;

&lt;h1 id=&#34;十六-土地税&#34;&gt;　　(十六)土地税&lt;/h1&gt;

&lt;p&gt;　　去年收了抗租所得税，每抗租一石，收税二斗，在双桥、南八两区实行了。今年二月县革委扩大会规定不分等第普遍收土地税百分之十，税率与抗租所得税相等。这是一种不分等第(不是累进的)的税法。五月县苏维埃大会采用赣西苏维埃颁布的累进税法。&lt;/p&gt;

&lt;h1 id=&#34;十七-土地斗争中的妇女&#34;&gt;　　(十七)土地斗争中的妇女&lt;/h1&gt;

&lt;p&gt;　　寻乌的女子与男子同为劳动的主力。严格说来，她们在耕种上尽的责任比男子还要多。犁田、耙田、挑粪草、挑谷米等项，虽因体力关系，多属男子担任，但帮挑粪草，帮担谷米、莳田、耘田、捡草、铲田塍田壁、倒田、割禾等项工作，均是男子作主，女子帮助；砻谷、踏碓、淋园、莳菜、砍柴割草、烧茶煮饭、挑水供猪、经管头牲(六畜叫头牲)、洗裙荡衫、补衫做鞋、扫地洗碗等项工作，则是女子作主，男子帮助。加以养育儿女是女子的专职，所以女子的劳苦实在比男子要厉害。她们的工作不成片段，这件未歇，那件又到。她们是男子经济(封建经济以至初期资本主义经济)的附属品。男子虽已脱离了农奴地位，女子却依然是男子的农奴或半农奴。她们没有政治地位，没有人身自由，她们的痛苦比一切人大。土地斗争发展，许多地方女子勇敢地参加斗争，这回四军二纵队打篁乡反动炮楼，篁乡的女子成群地挑柴去烧炮楼，又从反动地主家里抢了谷子出来。斗争胜利的地方她们立即有了个人的自觉。各处乡政府设立之初，所接离婚案子日必数起，多是女子提出来的。男子虽也有提出来的，却是很少。十个离婚案子，女子提出来的占九个，男子提出来的不过一个。男子在这个问题上却采取完全反对的态度，其中一小部分男子就消极起来了。&amp;quot;革命革割革绝，老婆都革掉了!&amp;quot;这就是他们无力禁阻离婚表示叹息的话。这一部分多是属于贫农。一大部分男子是非常强硬的。芳田赤卫队队长曾家勋原有一个老婆，后来又勾到人家一个女子。原有老婆要求离婚，他不肯，对她说：&amp;quot;我家是有进没出的，你要离婚就一驳壳打死你!&amp;quot;龙图的富农刘学盛，反对他的老婆离婚，对革委、的主席说：&amp;quot;她要离婚，我就捂了渠。捂掉了渠，我死都愿!&amp;quot;(&amp;quot;捂&amp;quot;，当地读无，消灭的意思；&amp;quot;渠&amp;quot;，当地读己，他的意思。)这一部分男子多半属于富农。政权机关对于这个问题的态度，有过四次变更。第一次是去年十一月农民代表大会的决议，没有明显地反对一夫多妻，承认原有老婆后有爱人而老婆不反对者无罪；主张有条件的离婚，而其条件并不甚苛，承认一方有疾病的，女子受压迫的，夫妻反目半年不同居的，男子出外一年无消息的，均准离婚；地主阶级毫无条件可离婚。同时在法律外，申明禁止捉奸。这个申明传播后，南半县各地发生很多的男女间纷扰，最显著的是龙图与河角圩两乡(属南八区)的青年男女群众，几乎发生械斗。原因是两乡的青年男子，一群一群地时常调戏对乡成群的青年妇女。两乡的青年妇女都组织了妇女协会，她们有了团结，对于她们自身艰苦的劳动便自由地放松了一些(她们成群上山去砍柴火，比平素归家时间要晏)。同时和她们的男性青年朋友(对乡的)恋爱的行为逐渐有了许多，在山上公然成群地&amp;quot;自由&amp;quot;起来。他们两乡是同姓别房。到今年一月，因为发生捉奸的事，反对捉奸的群众就去干涉，结果几乎弄成械斗。上述事情之外，有老婆又新找一爱人的差不多每个乡村都有，老婆们就群起反对。政府在这种情形之下，来了一条相反的法律。今年二月县革委会扩大会，对&amp;quot;贞操问题&amp;quot;决议：&amp;quot;已结婚之男女，不准与另一男女发生性交，私奸者严办。&amp;quot;同时对所谓&amp;quot;爱人&amp;quot;问题亦定了一条法律：&amp;quot;反对一夫多妻、一妻多夫制度，原有夫或妇未经离婚，不得另找爱人，过去有些错误的应即马上离去，只同一个结为夫妇。&amp;quot;对离婚问题没有变更。这个决议发表后，纠纷停止了，一致对付当时严重的时局，打破了敌人的&amp;quot;进剿&amp;quot;。五月二日占领县城，同时红军第四军占领了反动的北半县，发动会昌、安远、平远的群众。在这种形势之下，五月六日全县第一次苏维埃大会，取消了二月会议的贞操决议，虽然没有明白地规定禁止捉奸，但再不说什么&amp;quot;私奸者严办&amp;quot;了。此次对&amp;quot;爱人&amp;quot;问题采取了二月会议的意见，对离婚问题与前二次会议无异。但大会闭幕不到一个月，第三区苏维埃大会却大大变更了对&amp;quot;爱人&amp;quot;问题、离婚问题的决议，他们的口号是&amp;quot;离婚结婚绝对自由&amp;quot;，当然的结果，不但禁止捉奸，而且什么爱人也可以带了。这个案子通过的地区是寻乌全县斗争最久(一九二八年到今)，又是资本主义最先侵入的地区，时候则又在四军到来，会、安、寻、平四县斗争大大发展的时候。当这个案子提出的时候，提案人的演说是：&amp;quot;四军的人说了，有条件的离婚包含了封建思想。&amp;quot;这篇演说过后，案子就马上通过了。城区是新起来的，建设政权不上一月，男女问题已经闹得不亦乐乎。有一乡拒绝县政府派去的宣传员，他们说：&amp;quot;同志!你唔要来讲了，再讲埃村子里的女人会跑光了!&amp;quot;其实宣传员宣传的是&amp;quot;推翻封建势力&amp;quot;、&amp;quot;打土豪分田地&amp;quot;，离婚结婚问题也是照着法律讲的，但一经发动，就如水之就下不可制止。城郊一乡跑了十几个妇人，她们的老公跑到乡苏维埃去哭诉。乡苏维埃在老公们的迫切要求之下出了一张告示，上面说道：&amp;quot;一般青年男女，误解自由，黑夜逃跑，纷纷找爱。原配未弃，新爱复来。似此养成，似驴非驴，似马非马，偷偷摸摸，不伦不类……。&amp;quot;这篇告示，明显地描画了成年老公们的呼声。不过这种&amp;quot;不伦不类&amp;quot;的潮流——民主制度代替封建制度的潮流，是到底无法制止的了。&lt;/p&gt;

&lt;p&gt;　　妇女在土地斗争中是表现非常之喜欢的，因为可以解决她们没有人身自由的束缚。未结婚的青年群众中，差不多不论哪个阶级都拥护婚姻自由的口号。贫农阶级已结婚的成年男子，一般说来是反对离婚自由的，但他们反对的态度不是那种反革命性的顽强态度，他们只觉得老婆跑了不得下地。他们的叹声是：&amp;quot;革命革割革绝，老婆都革掉了!&amp;quot;他们跑到乡政府请求设个法子，他们也不敢打他们的老婆了，即使是十分呕气的事。富农小地主阶级的成年男子们就完全不同，那种&amp;quot;捂了渠&amp;quot;，&amp;quot;一驳壳打死你&amp;quot;，都是他们反革命性的横蛮无理的表示。至于成年农民男子们为什么要反对离婚自由(结婚自由没有问题)呢?非常明显，他们是为了劳动力。&lt;/p&gt;

&lt;p&gt;　　那末，农民男子是反对女子解放到底的吗?不是的，特别是贫农雇农阶级他们很快就会给予女子以完全的解放，在他们整个阶级解放完成了之后。他们之所以惧怕跑掉老婆，乃是在土地斗争尚未深入的时候——他们还没有充分看见推翻封建剥削以后的成果的时候所发生出来的一种思想。只要土地斗争一深入，他们对于婚姻问题的态度就要大大改变了。&lt;/p&gt;

&lt;p&gt;　　根据人民出版社一九八二年出版的《毛泽东农村调查文集》刊印。&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;注释&#34;&gt;注释&lt;/h2&gt;

&lt;p&gt;　　[1]宁冈调查，是毛泽东在一九二七年十一月做的。永新调查，是毛泽东在一九二八年春做的。&lt;/p&gt;

&lt;p&gt;　　[2]蒋，指蒋介石。桂，指桂系军阀李宗仁、白崇禧。一九二九年初，蒋介石派遣其驻江西的第一集团军，李宗仁、白崇禧派遣其驻湖南的第四集团军，对井冈山革命根据地进行第三次&amp;quot;会剿&amp;quot;。&lt;/p&gt;

&lt;p&gt;　　[3]陂头会议，又称二七会议，指一九三○年二月上旬，毛泽东在江西省吉安县陂头主持召开的红四军前委，红五军、红六军军委和赣西特委的联席会议。会议确定赣西南党组织的主要任务是扩大苏维埃区域，深入土地革命和扩大工农武装。在土地问题上，否定了按劳动力分配土地的主张，肯定了按人口分配土地的办法。&lt;/p&gt;

&lt;p&gt;　　[4]汀州会议，又称南阳会议，指一九三○年六月毛泽东主持召开的红四军前委和闽西特委的联席会议。会址先在福建长汀县的南阳（现属上杭县），后移至汀州城。会议讨论了政治、军事、经济等问题。在土地分配问题上，除肯定原来规定的&amp;quot;抽多补少&amp;quot;原则外，又增加了&amp;quot;抽肥补瘦&amp;quot;的原则。&lt;/p&gt;

&lt;p&gt;　　[5]县苏，即县苏维埃政府的简称。第二次国内革命战争时期，革命根据地的工农民主政权通称苏维埃政府。本卷中的&amp;quot;省苏&amp;quot;、&amp;quot;区苏&amp;quot;、&amp;quot;乡苏&amp;quot;、&amp;quot;市苏&amp;quot;，分别为省、区、乡、市镇苏维埃政府的简称。&lt;/p&gt;

&lt;p&gt;　　[6]陈炯明，见本卷第17页注[2]。&lt;/p&gt;

&lt;p&gt;　　[7]仁丰区，在一九三○年五月寻乌县苏维埃政府成立后，曾改称篁乡区。&lt;/p&gt;

&lt;p&gt;　　[8]三二五暴动，指一九二八年三月二十五日中共寻乌县委领导农民和青年学生举行的全县性革命暴动。&lt;/p&gt;

&lt;p&gt;　　[9]茶油，也称木油，指用油茶树果仁榨的油，可供食用。&lt;/p&gt;

&lt;p&gt;　　[10]当地称电池为电油。&lt;/p&gt;

&lt;p&gt;　　[11]明钱，即铜钱。&lt;/p&gt;

&lt;p&gt;　　[12]铜片和本文中的&amp;quot;铜板&amp;quot;、&amp;quot;铜壳子&amp;quot;，都指铜元。&lt;/p&gt;

&lt;p&gt;　　[13]&amp;quot;吃油饼&amp;quot;，这里指明吃暗拿占便宜的行为。&lt;/p&gt;

&lt;p&gt;　　[14]靖卫团，又称靖卫队，是一种反动的地方武装。&lt;/p&gt;

&lt;p&gt;　　[15]&amp;quot;奴古&amp;quot;，客家话，指男奴仆。&lt;/p&gt;

&lt;p&gt;　　[16]赖世璜（一八八九—一九二七），江西石城人。曾任粤军第七军第一师师长、赣军第四师师长、国民党军第十四军军长等职。&lt;/p&gt;

&lt;p&gt;　　[17]堪舆，和本文中的&amp;quot;地理先生&amp;quot;、&amp;quot;看地的&amp;quot;，均指看住宅基地和坟地的迷信职业者，通常称为&amp;quot;风水先生&amp;quot;、&amp;quot;阴阳先生&amp;quot;。&lt;/p&gt;

&lt;p&gt;　　[18]丹青，通常借指绘画。这里指画工。&lt;/p&gt;

&lt;p&gt;　　[19]不（读dùn），方言，指形状短粗、矮胖。&lt;/p&gt;

&lt;p&gt;　　[20]茶子，和本文中的&amp;quot;木梓&amp;quot;，都指油茶树的果实。&lt;/p&gt;

&lt;p&gt;　　[21]出自《庄子·外物》。原文是&amp;quot;得鱼而忘荃。&amp;quot;荃亦作签，捕鱼用的竹器。&lt;/p&gt;

&lt;p&gt;　　[22]同善社，从先天道分化出来的一种会道门组织，清朝末年发源于四川省永川县，后在反动政府扶持下逐渐蔓延到许多省。&lt;/p&gt;

&lt;p&gt;　　[23]林虎，见本卷第17页注[2]。&lt;/p&gt;

&lt;p&gt;　　[24]许崇智（一八八七——一九六五），广东番禺人。曾任粤军第二军军长、粤军总司令等职。&lt;/p&gt;

&lt;p&gt;　　[25]唐生智，见本卷第48页注[4]。&lt;/p&gt;

&lt;p&gt;　　[26]方本仁（一八八○一九五三），湖北黄冈（今黄州市）人。曾任北洋军阀赣南镇守使、赣粤边防督办和江西军务督办等职。&lt;/p&gt;

&lt;p&gt;　　[27]邓如琢，安徽阜阳人。曾任北洋军阀陆军第九混成旅旅长、第一师师长等职。&lt;/p&gt;

&lt;p&gt;　　[28]改组派，是国民党的一个派别。一九二八年底，汪精卫、陈公博、顾孟余等因不满蒋介石独揽权力，在上海成立中国国民党改组同志会，被称为改组派。&lt;/p&gt;

&lt;p&gt;　　[29]&amp;quot;老税户&amp;quot;，指祖辈父辈已经是地主的人家。&lt;/p&gt;

&lt;p&gt;　　[30]&amp;quot;山老鼠&amp;quot;，指住在山区，很少外出，不问世事的地主。&lt;/p&gt;

&lt;p&gt;　　[31]这里指分家后曾超群所有的田亩数。分家前曾家兄弟二人共有谷田二百多石。&lt;/p&gt;

&lt;p&gt;　　[32]蒸尝费用，即祭祀费用。&lt;/p&gt;

&lt;p&gt;　　[33]早子，指一年两季稻的早稻。&lt;/p&gt;

&lt;p&gt;　　[34]番子，指一年两季稻的晚稻。&lt;/p&gt;

&lt;p&gt;　　[35]这个注是毛泽东加的。&lt;/p&gt;

&lt;p&gt;　　[36]&amp;quot;等稳就要做到来食啊&amp;quot;，意思是等米下锅。&lt;/p&gt;

&lt;p&gt;　　[37]刘志陆（一八九○——？），广东人。曾任广东潮梅镇守使、粤军第二军军长等职。&lt;/p&gt;

&lt;p&gt;　　[38]油山，指种植油茶树的山地。&lt;/p&gt;

&lt;p&gt;　　[39]刘士毅（一八八六—一九八二），江西南昌人。曾任国民党军江西独立第七师师长、第五师第十五旅旅长。&lt;/p&gt;

&lt;p&gt;　　[40]李易标，曾任北洋军阀广惠护军使、粤军第四军军长等职。黄任寰，曾任粤军第一军第一师师长。&lt;/p&gt;
</description>
      
    </item>
    
    <item>
      <title>Setting Up Oracle JDK On GNU/Linux</title>
      <link>/2018/setting-up-oracle-jdk-on-gnu-linux/</link>
      <pubDate>Thu, 19 Apr 2018 15:37:16 -0400</pubDate>
      
      <guid>/2018/setting-up-oracle-jdk-on-gnu-linux/</guid>
      
        <description>&lt;p&gt;&lt;code&gt;Java SE&lt;/code&gt; is an abbreviation for &lt;code&gt;Java Platform, Standard Edition&lt;/code&gt;, and &lt;code&gt;JDK&lt;/code&gt; is an abbreviation for &lt;code&gt;Java SE Development Kit&lt;/code&gt;. JDK provides running environment for &lt;a href=&#34;http://www.oracle.com/technetwork/java/&#34;&gt;Java&lt;/a&gt; applications. This article documents how to set up Oracle JDK on GNU/Linux, then implement the entire process through Shell script.&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Attention&lt;/strong&gt;： Oracle will not post further updates of &lt;strong&gt;&lt;code&gt;Java SE 8&lt;/code&gt;&lt;/strong&gt; to its public download sites for commercial use after &lt;strong&gt;&lt;code&gt;January 2019&lt;/code&gt;&lt;/strong&gt;.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Customers who need continued access to critical bug fixes and security fixes as well as general maintenance for Java SE 8 or previous versions can get long term support through Oracle Java SE Advanced, Oracle Java SE Advanced Desktop, or Oracle Java SE Suite. For more information, and details on how to receive longer term support for Oracle JDK 8, please see the Oracle Java SE Support Roadmap. &amp;ndash; &lt;a href=&#34;http://www.oracle.com/technetwork/java/javase/overview/index.html&#34;&gt;http://www.oracle.com/technetwork/java/javase/overview/index.html&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;shell-script&#34;&gt;Shell Script&lt;/h2&gt;

&lt;p&gt;The entire installation and configuration process has been implemented through a shell script, the code is hosted on &lt;a href=&#34;https://github.com/MaxdSre/axd-ShellScript/blob/master/assets/software/OracleSEJDK.sh&#34;&gt;GitHub&lt;/a&gt;, usage info&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# curl -fsL / wget -qO-
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# if need help info, specify &amp;#39;-h&amp;#39;
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;curl -fsL https://raw.githubusercontent.com/MaxdSre/axd-ShellScript/master/assets/software/OracleSEJDK.sh &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sudo bash -s --&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;script src=&#34;https://asciinema.org/a/177211.js&#34; id=&#34;asciicast-177211&#34; async&gt;&lt;/script&gt;

&lt;h2 id=&#34;support-life-cycle&#34;&gt;Support Life Cycle&lt;/h2&gt;

&lt;p&gt;The support life cycly of per JDK release version is list on official page &lt;a href=&#34;http://www.oracle.com/technetwork/java/javase/eol-135779.html&#34;&gt;Oracle Java SE Support Roadmap&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&#34;java-se-public-updates&#34;&gt;Java SE Public Updates&lt;/h3&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Release&lt;/th&gt;
&lt;th&gt;GA Date&lt;/th&gt;
&lt;th&gt;End of Public Updates Notification&lt;/th&gt;
&lt;th&gt;End of Public Updates&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;Mar 2014&lt;/td&gt;
&lt;td&gt;Sep 2017&lt;/td&gt;
&lt;td&gt;January 2019 and December 2020&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;Sep 2017&lt;/td&gt;
&lt;td&gt;Sep 2017&lt;/td&gt;
&lt;td&gt;Mar 2018&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;10 (18.3)&lt;/td&gt;
&lt;td&gt;Mar 2018&lt;/td&gt;
&lt;td&gt;Mar 2018&lt;/td&gt;
&lt;td&gt;Sep 2018&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;11(18.9 LTS)&lt;/td&gt;
&lt;td&gt;Sep 2018&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&#34;java-se-support-roadmap&#34;&gt;Java SE Support Roadmap&lt;/h3&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Release&lt;/th&gt;
&lt;th&gt;GA Date&lt;/th&gt;
&lt;th&gt;Premier Support Until&lt;/th&gt;
&lt;th&gt;Extended Support Until&lt;/th&gt;
&lt;th&gt;Sustaining Support&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;Dec 2006&lt;/td&gt;
&lt;td&gt;Dec 2015&lt;/td&gt;
&lt;td&gt;Dec 2018&lt;/td&gt;
&lt;td&gt;Indefinite&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;Jul 2011&lt;/td&gt;
&lt;td&gt;Jul 2019&lt;/td&gt;
&lt;td&gt;Jul 2022&lt;/td&gt;
&lt;td&gt;Indefinite&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;Mar 2014&lt;/td&gt;
&lt;td&gt;Mar 2022&lt;/td&gt;
&lt;td&gt;Mar 2025&lt;/td&gt;
&lt;td&gt;Indefinite&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;9 (non-LTS)&lt;/td&gt;
&lt;td&gt;Sep 2017&lt;/td&gt;
&lt;td&gt;Mar 2018&lt;/td&gt;
&lt;td&gt;Not Available&lt;/td&gt;
&lt;td&gt;Indefinite&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;10 (18.3^) (non-LTS)&lt;/td&gt;
&lt;td&gt;Mar 2018&lt;/td&gt;
&lt;td&gt;Sep 2018&lt;/td&gt;
&lt;td&gt;Not Available&lt;/td&gt;
&lt;td&gt;Indefinite&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;11 (18.9 LTS)&lt;/td&gt;
&lt;td&gt;Sep 2018&lt;/td&gt;
&lt;td&gt;Sep 2023&lt;/td&gt;
&lt;td&gt;Sep 2026&lt;/td&gt;
&lt;td&gt;Indefinite&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&#34;downloading&#34;&gt;Downloading&lt;/h2&gt;

&lt;p&gt;Official download page &lt;a href=&#34;http://www.oracle.com/technetwork/java/javase/downloads/index.html&#34;&gt;Java SE Downloads&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If you wanna download JDK from &lt;a href=&#34;https://www.oracle.com&#34;&gt;Oracle&lt;/a&gt; official site, you must accept is license &lt;a href=&#34;http://www.oracle.com/technetwork/java/javase/terms/license/index.html&#34;&gt;Oracle Binary Code License Agreement for Java SE&lt;/a&gt; firstly. After checking &lt;code&gt;Accept License Agreement&lt;/code&gt;, the page will show the following info&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Thank you for accepting the Oracle Binary Code License Agreement for Java SE; you may now download this software.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;How do I download jdk package directly from official site in command line or shell script?&lt;/p&gt;

&lt;p&gt;Reference&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.tecmint.com/install-java-jdk-jre-in-linux/&#34;&gt;How to Install Java 9 JDK on Linux Systems&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://gist.github.com/P7h/9741922&#34;&gt;P7h/jdk_download.sh&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href=&#34;https://www.oracle.com&#34;&gt;Oracle&lt;/a&gt; makes sure user has agree the license via directive &lt;code&gt;oraclelicense&lt;/code&gt; which is setted in cookie. The complete parameter is &lt;code&gt;oraclelicense=accept-securebackup-cookie&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Downloading in silent mode&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;curl -fsL -O -H &lt;span class=&#34;s2&#34;&gt;&amp;#34;Cookie: oraclelicense=accept-securebackup-cookie&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;pack_download_link&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;installation&#34;&gt;Installation&lt;/h2&gt;

&lt;p&gt;Suffix of package is &lt;code&gt;.tar.gz&lt;/code&gt;, use the following command to extract its contents to target directory&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;nv&#34;&gt;pack_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;~/Downloads/jdk-8u172-linux-x64.tar.gz&amp;#39;&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;installation_dir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;/opt/OracleJDK&amp;#39;&lt;/span&gt;

tar xf &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;source_pack_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; -C &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;installation_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; --strip-components&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&amp;gt; /dev/null&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;configuration&#34;&gt;Configuration&lt;/h2&gt;

&lt;p&gt;File tree&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Stretch&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;/opt/OracleJDK&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ &lt;span class=&#34;nv&#34;&gt;$tree&lt;/span&gt; -L &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
.
├── bin
├── COPYRIGHT
├── db
├── include
├── javafx-src.zip
├── jre
├── lib
├── LICENSE
├── man
├── README.html
├── release
├── src.zip
├── THIRDPARTYLICENSEREADME-JAVAFX.txt
└── THIRDPARTYLICENSEREADME.txt

&lt;span class=&#34;m&#34;&gt;6&lt;/span&gt; directories, &lt;span class=&#34;m&#34;&gt;8&lt;/span&gt; files
┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Stretch&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;/opt/OracleJDK&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ $&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&#34;path&#34;&gt;$PATH&lt;/h3&gt;

&lt;p&gt;Execution files are listed in directory &lt;code&gt;bin/&lt;/code&gt;, you need to add this path into environment parameter &lt;code&gt;$PATH&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;But personal advice is put this directive under directory &lt;code&gt;/etc/profile.d/&lt;/code&gt;, here assume the file is called &lt;code&gt;oracle_se_jdk.sh&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;nv&#34;&gt;jdk_execute_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;/etc/profile.d/oracle_se_jdk.sh&amp;#39;&lt;/span&gt;

&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;export PATH=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;installation_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/bin:\$PATH&amp;#34;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jdk_execute_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&#34;aalternatives&#34;&gt;Aalternatives&lt;/h3&gt;

&lt;p&gt;If your system has more than one JDK version, you can use &lt;code&gt;alternatives&lt;/code&gt; or &lt;code&gt;update-alternatives&lt;/code&gt; to set default execution path for &lt;code&gt;java&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;shell code&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;funcAlternativeModeConfiguration&lt;span class=&#34;o&#34;&gt;(){&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;local&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;jdkcommand&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;local&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;jdkaction&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;install&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;local&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;jdkdir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;installation_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -n &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jdkdir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; -n &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;alternative_command&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;local&lt;/span&gt; jdkcommand_path
        &lt;span class=&#34;nv&#34;&gt;jdkcommand_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jdkdir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/bin/&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jdkcommand&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;

        &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jdkaction&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; in
            install &lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -s &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jdkcommand_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
                    &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;alternative_command&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt; --install /usr/bin/&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jdkcommand&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jdkcommand&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jdkcommand_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;99&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&amp;gt; /dev/null
                    &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;alternative_command&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt; --set &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jdkcommand&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jdkcommand_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&amp;gt; /dev/null
                &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
                &lt;span class=&#34;p&#34;&gt;;;&lt;/span&gt;
            remove&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;* &lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -s &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jdkcommand_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
                    &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;alternative_command&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt; --remove &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jdkcommand&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jdkcommand_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&amp;gt; /dev/null
                &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
                &lt;span class=&#34;p&#34;&gt;;;&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;esac&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;nv&#34;&gt;alternative_command&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;alternatives&amp;#39;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# alternative_command=&amp;#39;update-alternatives&amp;#39;
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
funcAlternativeModeConfiguration &lt;span class=&#34;s1&#34;&gt;&amp;#39;java&amp;#39;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;remove&amp;#39;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# funcAlternativeModeConfiguration &amp;#39;javac&amp;#39; &amp;#39;remove&amp;#39;
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;# funcAlternativeModeConfiguration &lt;span class=&#34;s1&#34;&gt;&amp;#39;jar&amp;#39;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;remove&amp;#39;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;testing&#34;&gt;Testing&lt;/h2&gt;

&lt;p&gt;Demostration example&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Xenial&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ &lt;span class=&#34;nv&#34;&gt;$which&lt;/span&gt; java
/usr/bin/java
┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Xenial&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ &lt;span class=&#34;nv&#34;&gt;$java&lt;/span&gt; -version
java version &lt;span class=&#34;s2&#34;&gt;&amp;#34;1.8.0_172&amp;#34;&lt;/span&gt;
Java&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;TM&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; SE Runtime Environment &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;build &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;.8.0_172-b11&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
Java HotSpot&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;TM&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;64&lt;/span&gt;-Bit Server VM &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;build &lt;span class=&#34;m&#34;&gt;25&lt;/span&gt;.172-b11, mixed mode&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Xenial&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ &lt;span class=&#34;nv&#34;&gt;$update&lt;/span&gt;-alternatives --display java
java - manual mode
  link best version is /usr/lib/jvm/java-9-openjdk-amd64/bin/java
  link currently points to /opt/OracleJDK/bin/java
  link java is /usr/bin/java
  slave java.1.gz is /usr/share/man/man1/java.1.gz
/opt/OracleJDK/bin/java - priority &lt;span class=&#34;m&#34;&gt;99&lt;/span&gt;
/usr/lib/jvm/java-9-openjdk-amd64/bin/java - priority &lt;span class=&#34;m&#34;&gt;1091&lt;/span&gt;
  slave java.1.gz: /usr/lib/jvm/java-9-openjdk-amd64/man/man1/java.1.gz
┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Xenial&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ $&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;change-logs&#34;&gt;Change Logs&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;2018.04.19 16:48 Wed America/Boston

&lt;ul&gt;
&lt;li&gt;first draft&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- End --&gt;</description>
      
    </item>
    
    <item>
      <title>在GNU/Linux中安裝配置Oracle JDK</title>
      <link>/2018/setting-up-oracle-jdk-on-gnu-linux/</link>
      <pubDate>Thu, 19 Apr 2018 15:37:16 -0400</pubDate>
      
      <guid>/2018/setting-up-oracle-jdk-on-gnu-linux/</guid>
      
        <description>&lt;p&gt;&lt;code&gt;Java SE&lt;/code&gt;是&lt;code&gt;Java Platform, Standard Edition&lt;/code&gt;的縮寫，而&lt;code&gt;JDK&lt;/code&gt;是&lt;code&gt;Java SE Development Kit&lt;/code&gt;的縮寫，JDK爲&lt;a href=&#34;http://www.oracle.com/technetwork/java/&#34;&gt;Java&lt;/a&gt;應用提供環境支持。本文記錄如何在GNU/Linux中安裝、配置 Oracle JDK，並通過Shell腳本實現整個過程。&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;注意&lt;/strong&gt;：從2019年1月起，&lt;a href=&#34;https://www.oracle.com&#34;&gt;Oracle&lt;/a&gt;將不再對普通用戶(非商用)提供 &lt;strong&gt;Java SE 8&lt;/strong&gt; 的更新支持。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Oracle will not post further updates of Java SE 8 to its public download sites for commercial use after January 2019. Customers who need continued access to critical bug fixes and security fixes as well as general maintenance for Java SE 8 or previous versions can get long term support through Oracle Java SE Advanced, Oracle Java SE Advanced Desktop, or Oracle Java SE Suite. For more information, and details on how to receive longer term support for Oracle JDK 8, please see the Oracle Java SE Support Roadmap. &amp;ndash; &lt;a href=&#34;http://www.oracle.com/technetwork/java/javase/overview/index.html&#34;&gt;http://www.oracle.com/technetwork/java/javase/overview/index.html&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;shell-腳本&#34;&gt;Shell 腳本&lt;/h2&gt;

&lt;p&gt;整個安裝、配置過程已通過Shell腳本實現，代碼託管在&lt;a href=&#34;https://github.com/MaxdSre/axd-ShellScript/blob/master/assets/software/OracleSEJDK.sh&#34;&gt;GitHub&lt;/a&gt;，通過如下命令執行&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# curl -fsL / wget -qO-
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# if need help info, specify &amp;#39;-h&amp;#39;
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;curl -fsL https://raw.githubusercontent.com/MaxdSre/axd-ShellScript/master/assets/software/OracleSEJDK.sh &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sudo bash -s --&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;script src=&#34;https://asciinema.org/a/177211.js&#34; id=&#34;asciicast-177211&#34; async&gt;&lt;/script&gt;

&lt;h2 id=&#34;支持週期&#34;&gt;支持週期&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://www.oracle.com&#34;&gt;Oracle&lt;/a&gt;對各JDK版本的支持週期，詳見官方文檔 &lt;a href=&#34;http://www.oracle.com/technetwork/java/javase/eol-135779.html&#34;&gt;Oracle Java SE Support Roadmap&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&#34;java-se-公共更新&#34;&gt;Java SE 公共更新&lt;/h3&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Release&lt;/th&gt;
&lt;th&gt;GA Date&lt;/th&gt;
&lt;th&gt;End of Public Updates Notification&lt;/th&gt;
&lt;th&gt;End of Public Updates&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;Mar 2014&lt;/td&gt;
&lt;td&gt;Sep 2017&lt;/td&gt;
&lt;td&gt;January 2019 and December 2020&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;Sep 2017&lt;/td&gt;
&lt;td&gt;Sep 2017&lt;/td&gt;
&lt;td&gt;Mar 2018&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;10 (18.3)&lt;/td&gt;
&lt;td&gt;Mar 2018&lt;/td&gt;
&lt;td&gt;Mar 2018&lt;/td&gt;
&lt;td&gt;Sep 2018&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;11(18.9 LTS)&lt;/td&gt;
&lt;td&gt;Sep 2018&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&#34;java-se-支持路線圖&#34;&gt;Java SE 支持路線圖&lt;/h3&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Release&lt;/th&gt;
&lt;th&gt;GA Date&lt;/th&gt;
&lt;th&gt;Premier Support Until&lt;/th&gt;
&lt;th&gt;Extended Support Until&lt;/th&gt;
&lt;th&gt;Sustaining Support&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;Dec 2006&lt;/td&gt;
&lt;td&gt;Dec 2015&lt;/td&gt;
&lt;td&gt;Dec 2018&lt;/td&gt;
&lt;td&gt;Indefinite&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;Jul 2011&lt;/td&gt;
&lt;td&gt;Jul 2019&lt;/td&gt;
&lt;td&gt;Jul 2022&lt;/td&gt;
&lt;td&gt;Indefinite&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;Mar 2014&lt;/td&gt;
&lt;td&gt;Mar 2022&lt;/td&gt;
&lt;td&gt;Mar 2025&lt;/td&gt;
&lt;td&gt;Indefinite&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;9 (non-LTS)&lt;/td&gt;
&lt;td&gt;Sep 2017&lt;/td&gt;
&lt;td&gt;Mar 2018&lt;/td&gt;
&lt;td&gt;Not Available&lt;/td&gt;
&lt;td&gt;Indefinite&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;10 (18.3^) (non-LTS)&lt;/td&gt;
&lt;td&gt;Mar 2018&lt;/td&gt;
&lt;td&gt;Sep 2018&lt;/td&gt;
&lt;td&gt;Not Available&lt;/td&gt;
&lt;td&gt;Indefinite&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;11 (18.9 LTS)&lt;/td&gt;
&lt;td&gt;Sep 2018&lt;/td&gt;
&lt;td&gt;Sep 2023&lt;/td&gt;
&lt;td&gt;Sep 2026&lt;/td&gt;
&lt;td&gt;Indefinite&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&#34;下載&#34;&gt;下載&lt;/h2&gt;

&lt;p&gt;JDK官方下載頁 &lt;a href=&#34;http://www.oracle.com/technetwork/java/javase/downloads/index.html&#34;&gt;Java SE Downloads&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://www.oracle.com&#34;&gt;Oracle&lt;/a&gt;對下載做了設置，必須得同意其許可 &lt;a href=&#34;http://www.oracle.com/technetwork/java/javase/terms/license/index.html&#34;&gt;Oracle Binary Code License Agreement for Java SE&lt;/a&gt; 才能下載。勾選&lt;code&gt;Accept License Agreement&lt;/code&gt;後，會出現如下信息&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Thank you for accepting the Oracle Binary Code License Agreement for Java SE; you may now download this software.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;這爲通過命令行或Shell腳本下載設置了障礙。參考&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.tecmint.com/install-java-jdk-jre-in-linux/&#34;&gt;How to Install Java 9 JDK on Linux Systems&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://gist.github.com/P7h/9741922&#34;&gt;P7h/jdk_download.sh&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href=&#34;https://www.oracle.com&#34;&gt;Oracle&lt;/a&gt;在cookie中設置了指令&lt;code&gt;oraclelicense&lt;/code&gt;，通過它判斷用戶是否已同意其許可協議，完整參數爲&lt;code&gt;oraclelicense=accept-securebackup-cookie&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;可通過如下命令實現非交互操作&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;curl -fsL -O -H &lt;span class=&#34;s2&#34;&gt;&amp;#34;Cookie: oraclelicense=accept-securebackup-cookie&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;pack_download_link&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;安裝&#34;&gt;安裝&lt;/h2&gt;

&lt;p&gt;安裝包後綴&lt;code&gt;.tar.gz&lt;/code&gt;，可通過如下命令解壓並安裝到目標目錄&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;nv&#34;&gt;pack_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;~/Downloads/jdk-8u172-linux-x64.tar.gz&amp;#39;&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;installation_dir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;/opt/OracleJDK&amp;#39;&lt;/span&gt;

tar xf &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;source_pack_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; -C &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;installation_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; --strip-components&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&amp;gt; /dev/null&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;配置&#34;&gt;配置&lt;/h2&gt;

&lt;p&gt;解壓後，文件目錄信息如下&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Stretch&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;/opt/OracleJDK&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ &lt;span class=&#34;nv&#34;&gt;$tree&lt;/span&gt; -L &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
.
├── bin
├── COPYRIGHT
├── db
├── include
├── javafx-src.zip
├── jre
├── lib
├── LICENSE
├── man
├── README.html
├── release
├── src.zip
├── THIRDPARTYLICENSEREADME-JAVAFX.txt
└── THIRDPARTYLICENSEREADME.txt

&lt;span class=&#34;m&#34;&gt;6&lt;/span&gt; directories, &lt;span class=&#34;m&#34;&gt;8&lt;/span&gt; files
┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Stretch&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;/opt/OracleJDK&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ $&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&#34;path&#34;&gt;$PATH&lt;/h3&gt;

&lt;p&gt;可執行文件存放在&lt;code&gt;bin/&lt;/code&gt;目錄中，須將該路徑添加到環境變量&lt;code&gt;$PATH&lt;/code&gt;中。&lt;/p&gt;

&lt;p&gt;個人建議將配置信息存放在目錄&lt;code&gt;/etc/profile.d/&lt;/code&gt;中，此處假設文件名爲&lt;code&gt;oracle_se_jdk.sh&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;nv&#34;&gt;jdk_execute_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;/etc/profile.d/oracle_se_jdk.sh&amp;#39;&lt;/span&gt;

&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;export PATH=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;installation_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/bin:\$PATH&amp;#34;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jdk_execute_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&#34;aalternatives&#34;&gt;Aalternatives&lt;/h3&gt;

&lt;p&gt;如果系統安裝有多個版本的JDK，可通過&lt;code&gt;alternatives&lt;/code&gt;或&lt;code&gt;update-alternatives&lt;/code&gt;爲&lt;code&gt;java&lt;/code&gt;設置默認的可執行路徑。&lt;/p&gt;

&lt;p&gt;代碼實現&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;funcAlternativeModeConfiguration&lt;span class=&#34;o&#34;&gt;(){&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;local&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;jdkcommand&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;local&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;jdkaction&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;install&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;local&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;jdkdir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;installation_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -n &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jdkdir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; -n &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;alternative_command&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;local&lt;/span&gt; jdkcommand_path
        &lt;span class=&#34;nv&#34;&gt;jdkcommand_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jdkdir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/bin/&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jdkcommand&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;

        &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jdkaction&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; in
            install &lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -s &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jdkcommand_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
                    &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;alternative_command&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt; --install /usr/bin/&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jdkcommand&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jdkcommand&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jdkcommand_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;99&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&amp;gt; /dev/null
                    &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;alternative_command&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt; --set &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jdkcommand&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jdkcommand_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&amp;gt; /dev/null
                &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
                &lt;span class=&#34;p&#34;&gt;;;&lt;/span&gt;
            remove&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;* &lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -s &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jdkcommand_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
                    &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;alternative_command&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt; --remove &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jdkcommand&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jdkcommand_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&amp;gt; /dev/null
                &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
                &lt;span class=&#34;p&#34;&gt;;;&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;esac&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;nv&#34;&gt;alternative_command&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;alternatives&amp;#39;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# alternative_command=&amp;#39;update-alternatives&amp;#39;
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
funcAlternativeModeConfiguration &lt;span class=&#34;s1&#34;&gt;&amp;#39;java&amp;#39;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;remove&amp;#39;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# funcAlternativeModeConfiguration &amp;#39;javac&amp;#39; &amp;#39;remove&amp;#39;
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;# funcAlternativeModeConfiguration &lt;span class=&#34;s1&#34;&gt;&amp;#39;jar&amp;#39;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;remove&amp;#39;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;測試&#34;&gt;測試&lt;/h2&gt;

&lt;p&gt;演示示例&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Xenial&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ &lt;span class=&#34;nv&#34;&gt;$which&lt;/span&gt; java
/usr/bin/java
┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Xenial&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ &lt;span class=&#34;nv&#34;&gt;$java&lt;/span&gt; -version
java version &lt;span class=&#34;s2&#34;&gt;&amp;#34;1.8.0_172&amp;#34;&lt;/span&gt;
Java&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;TM&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; SE Runtime Environment &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;build &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;.8.0_172-b11&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
Java HotSpot&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;TM&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;64&lt;/span&gt;-Bit Server VM &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;build &lt;span class=&#34;m&#34;&gt;25&lt;/span&gt;.172-b11, mixed mode&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Xenial&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ &lt;span class=&#34;nv&#34;&gt;$update&lt;/span&gt;-alternatives --display java
java - manual mode
  link best version is /usr/lib/jvm/java-9-openjdk-amd64/bin/java
  link currently points to /opt/OracleJDK/bin/java
  link java is /usr/bin/java
  slave java.1.gz is /usr/share/man/man1/java.1.gz
/opt/OracleJDK/bin/java - priority &lt;span class=&#34;m&#34;&gt;99&lt;/span&gt;
/usr/lib/jvm/java-9-openjdk-amd64/bin/java - priority &lt;span class=&#34;m&#34;&gt;1091&lt;/span&gt;
  slave java.1.gz: /usr/lib/jvm/java-9-openjdk-amd64/man/man1/java.1.gz
┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Xenial&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ $&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;更新日誌&#34;&gt;更新日誌&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;2018.04.19 16:48 Wed America/Boston

&lt;ul&gt;
&lt;li&gt;初稿完成&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- End --&gt;</description>
      
    </item>
    
    <item>
      <title>Setting Up Anaconda And Jupyter Notebook On GNU/Linux</title>
      <link>/2018/setting-up-anaconda-and-jupyter-notebook-on-gnu-linux/</link>
      <pubDate>Thu, 19 Apr 2018 10:42:53 -0400</pubDate>
      
      <guid>/2018/setting-up-anaconda-and-jupyter-notebook-on-gnu-linux/</guid>
      
        <description>&lt;p&gt;The &lt;a href=&#34;https://jupyter.org&#34;&gt;Jupyter Notebook&lt;/a&gt; is an open-source interactive web application developed by &lt;a href=&#34;https://www.python.org&#34;&gt;Python&lt;/a&gt; language. The official recommends installing &lt;a href=&#34;https://www.python.org&#34;&gt;Python&lt;/a&gt; and &lt;a href=&#34;https://jupyter.org&#34;&gt;Jupyter Notebook&lt;/a&gt; using the &lt;a href=&#34;https://www.anaconda.com&#34; title=&#34;The Most Popular Python Data Science Platform&#34;&gt;Anaconda Distribution&lt;/a&gt;. This article documents how to set up &lt;a href=&#34;https://www.anaconda.com&#34; title=&#34;The Most Popular Python Data Science Platform&#34;&gt;Anaconda&lt;/a&gt; and &lt;a href=&#34;https://jupyter.org&#34;&gt;Jupyter Notebook&lt;/a&gt;, and implement the entire process through a shell script.&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;h2 id=&#34;introduction&#34;&gt;Introduction&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;We strongly recommend installing Python and Jupyter using the &lt;a href=&#34;https://www.anaconda.com&#34; title=&#34;The Most Popular Python Data Science Platform&#34;&gt;Anaconda Distribution&lt;/a&gt;, which includes Python, the Jupyter Notebook, and other commonly used packages for scientific computing and data science. &amp;ndash; &lt;a href=&#34;https://jupyter.org/install.html&#34;&gt;Installing Jupyter&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Anaconda&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Anaconda Distribution is the easiest way to do Python data science and machine learning. It includes 250+ popular data science packages and the conda package and virtual environment manager for Windows, Linux, and MacOS. Conda makes it quick and easy to install, run, and upgrade complex data science and machine learning environments like Scikit-learn, TensorFlow, and SciPy. Anaconda Distribution is the foundation of millions of data science projects as well as Amazon Web Services&amp;rsquo; Machine Learning AMIs and Anaconda for Microsoft on Azure and Windows. &amp;ndash; &lt;a href=&#34;https://www.anaconda.com/what-is-anaconda/&#34;&gt;https://www.anaconda.com/what-is-anaconda/&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Jupyter&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;The Jupyter Notebook is an open-source web application that allows you to create and share documents that contain live code, equations, visualizations and narrative text. Uses include: data cleaning and transformation, numerical simulation, statistical modeling, data visualization, machine learning, and much more.  &amp;ndash; &lt;a href=&#34;https://jupyter.org/&#34;&gt;https://jupyter.org/&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;official-document&#34;&gt;Official Document&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Anaconda &lt;a href=&#34;https://docs.anaconda.com/anaconda/&#34;&gt;https://docs.anaconda.com/anaconda/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Jupyter

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://jupyter.org/documentation&#34;&gt;https://jupyter.org/documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://jupyter-notebook.readthedocs.io/en/stable/&#34;&gt;https://jupyter-notebook.readthedocs.io/en/stable/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://jupyter-notebook.readthedocs.io/en/latest/changelog.html&#34;&gt;http://jupyter-notebook.readthedocs.io/en/latest/changelog.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;shell-script&#34;&gt;Shell Script&lt;/h2&gt;

&lt;p&gt;The entire installation and configuration process has been implemented through a shell script, the code is hosted on &lt;a href=&#34;https://github.com/MaxdSre/axd-ShellScript/blob/master/assets/gnulinux/gnuLinuxPostInstallationConfiguration.sh&#34;&gt;GitHub&lt;/a&gt;, usage info&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# curl -fsL / wget -qO-
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# if need help info, specify &amp;#39;-h&amp;#39;
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;curl -fsL https://raw.githubusercontent.com/MaxdSre/axd-ShellScript/master/assets/software/Anaconda.sh &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sudo bash -s --&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;script src=&#34;https://asciinema.org/a/175225.js&#34; id=&#34;asciicast-175225&#34; async&gt;&lt;/script&gt;

&lt;p&gt;To facilitate managing &lt;a href=&#34;https://jupyter.org&#34;&gt;Jupyter Notebook&lt;/a&gt;, I set up some command aliases in &lt;code&gt;~/.bashrc&lt;/code&gt;, as follows&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# jupyter notebook Start
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;alias&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;jnl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;jupyter notebook list | sed &amp;#39;/running servers/d&amp;#39;&amp;#34;&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;alias&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;jnb&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;(nohup jupyter notebook &amp;amp;&amp;gt; /dev/null &amp;amp;); sleep 2; jnl&amp;#34;&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;alias&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;jne&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;ps -ef | awk &amp;#39;match(\$0,/(jupyter-noteboo|Anaconda\/bin)/)&amp;amp;&amp;amp;!match(\$0,/awk/){print \$2}&amp;#39; | xargs kill -9 2&amp;gt; /dev/null&amp;#34;&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;alias&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;jni&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;curl -fsL https://raw.githubusercontent.com/MaxdSre/axd-ShellScript/master/assets/software/Anaconda.sh | sudo bash -s -- -U&amp;#34;&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;alias&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;jnr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;sudo /opt/Anaconda/bin/conda remove&amp;#34;&lt;/span&gt;
# jupyter notebook End&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;jnl&lt;/code&gt;：list running server；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;jnb&lt;/code&gt;：start new server；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;jne&lt;/code&gt;：stop all started server；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;jni&lt;/code&gt;：search, install, update package via &lt;code&gt;conda&lt;/code&gt;， use command &lt;code&gt;jni a&lt;/code&gt; to update entire conda environment;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;jnr&lt;/code&gt;: remove package via &lt;code&gt;conda&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;anaconda&#34;&gt;Anaconda&lt;/h2&gt;

&lt;p&gt;Official download page is &lt;a href=&#34;https://www.anaconda.com/download&#34;&gt;https://www.anaconda.com/download&lt;/a&gt;, it supports both  Python &lt;strong&gt;3.6&lt;/strong&gt; and &lt;strong&gt;2.7&lt;/strong&gt;. Choosing the corresponding version according to your needs.&lt;/p&gt;

&lt;h3 id=&#34;release-version&#34;&gt;Release Version&lt;/h3&gt;

&lt;p&gt;The latest release version of &lt;a href=&#34;https://www.anaconda.com&#34; title=&#34;The Most Popular Python Data Science Platform&#34;&gt;Anaconda&lt;/a&gt; is &lt;code&gt;5.1&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;You can use the following command to extract the latest version information&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;curl -fsL https://www.anaconda.com/download/ &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed -r -n &lt;span class=&#34;s1&#34;&gt;&amp;#39;/&amp;gt;Release Date:/{s@[[:space:]]*&amp;lt;[^&amp;gt;]*&amp;gt;[[:space:]]*@@g;s@^[^:]*:[[:space:]]*(.*)@\1@g;p}; /Anaconda.*Linux-x86_64/{/Installer/{s@.*href=&amp;#34;([^&amp;#34;]*)&amp;#34;.*@\1@g;s@.*Anaconda[^-]*-([^-]*).*$@\1@g;p;q}}&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed &lt;span class=&#34;s1&#34;&gt;&amp;#39;:a;N;$!ba;s@\n@|@g&amp;#39;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Output results&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;February 15, 2018|5.1.0&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&#34;verification&#34;&gt;Verification&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://www.anaconda.com&#34; title=&#34;The Most Popular Python Data Science Platform&#34;&gt;Anaconda&lt;/a&gt; doesn&amp;rsquo;t provide hash verification info for the package directly on its download page. The relevant information is stored on the page &lt;a href=&#34;https://docs.anaconda.com/anaconda/install/hashes/&#34;&gt;Anaconda installer file hashes&lt;/a&gt;. The page &lt;a href=&#34;https://docs.anaconda.com/anaconda/install/hashes/all&#34;&gt;Hashes for all files&lt;/a&gt; lists the sha256 hash values of the historical versions of &lt;a href=&#34;https://www.anaconda.com&#34; title=&#34;The Most Popular Python Data Science Platform&#34;&gt;Anaconda&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Here use &lt;code&gt;Anaconda3-5.1.0-Linux-x86_64.sh&lt;/code&gt; as an example, the page &lt;a href=&#34;https://docs.anaconda.com/anaconda/install/hashes/Anaconda3-5.1.0-Linux-x86_64.sh-hash&#34;&gt;Hashes for Anaconda3-5.1.0-Linux-x86_64.sh&lt;/a&gt; lists the installation package information.&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;item&lt;/th&gt;
&lt;th&gt;details&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Last Modified&lt;/td&gt;
&lt;td&gt;&lt;code&gt;2018-02-15 09:08:57&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;size(byte)&lt;/td&gt;
&lt;td&gt;&lt;code&gt;577996269&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;md5&lt;/td&gt;
&lt;td&gt;&lt;code&gt;966406059cf7ed89cc82eb475ba506e5&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;sha256&lt;/td&gt;
&lt;td&gt;&lt;code&gt;7e6785caad25e33930bc03fac4994a434a21bc8401817b7efa28f53619fa9c29&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;Hash check can be performed by the following command&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;nv&#34;&gt;file_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;~/Downloads/Anaconda3-5.1.0-Linux-x86_64.sh&amp;#39;&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# via sha256sum
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;sha256sum &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;file_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# via openssl
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;openssl dgst -sha256 &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;file_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Demonstration example&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Stretch&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~/Downloads&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ &lt;span class=&#34;nv&#34;&gt;$sha256sum&lt;/span&gt; Anaconda3-5.1.0-Linux-x86_64.sh
7e6785caad25e33930bc03fac4994a434a21bc8401817b7efa28f53619fa9c29  Anaconda3-5.1.0-Linux-x86_64.sh
┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Stretch&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~/Downloads&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ &lt;span class=&#34;nv&#34;&gt;$openssl&lt;/span&gt; dgst -sha256 Anaconda3-5.1.0-Linux-x86_64.sh
SHA256&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;Anaconda3-5.1.0-Linux-x86_64.sh&lt;span class=&#34;o&#34;&gt;)=&lt;/span&gt; 7e6785caad25e33930bc03fac4994a434a21bc8401817b7efa28f53619fa9c29
┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Stretch&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~/Downloads&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ $&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&#34;installation&#34;&gt;Installation&lt;/h3&gt;

&lt;p&gt;After the sha256 check is passed, refer to the official document &lt;a href=&#34;https://docs.anaconda.com/anaconda/install/&#34;&gt;https://docs.anaconda.com/anaconda/install/&lt;/a&gt; for installation.&lt;/p&gt;

&lt;p&gt;Run the following command to install&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;bash ~/Downloads/Anaconda3-5.1.0-Linux-x86_64.sh&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;By default, the installing process of &lt;a href=&#34;https://www.anaconda.com&#34; title=&#34;The Most Popular Python Data Science Platform&#34;&gt;Anaconda&lt;/a&gt; is &lt;strong&gt;interactive&lt;/strong&gt; which requires user interaction , details in &lt;a href=&#34;https://docs.anaconda.com/anaconda/install/linux&#34;&gt;Installing on Linux&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;It also supports &lt;strong&gt;silent mode&lt;/strong&gt; installation, according to official documents&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://conda.io/docs/user-guide/install/index.html#installing-in-silent-mode&#34;&gt;https://conda.io/docs/user-guide/install/index.html#installing-in-silent-mode&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://conda.io/docs/user-guide/install/linux.html#install-linux-silent&#34;&gt;https://conda.io/docs/user-guide/install/linux.html#install-linux-silent&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://conda.io/docs/user-guide/install/macos.html#install-macos-silent&#34;&gt;https://conda.io/docs/user-guide/install/macos.html#install-macos-silent&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Specifing flag &lt;code&gt;-b&lt;/code&gt; to make it into silent mode, you can also specify flag &lt;code&gt;-p&lt;/code&gt; to custom installation path, as explained below:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;-b&lt;/strong&gt;： Batch mode with no PATH modifications to &lt;code&gt;~/.bashrc&lt;/code&gt;. Assumes that you agree to the license agreement. Does not edit the &lt;code&gt;.bashrc&lt;/code&gt; or &lt;code&gt;.bash_profile&lt;/code&gt; files.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;-p&lt;/strong&gt;： Installation prefix/path.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;-f&lt;/strong&gt;： Force installation even if prefix -p already exists.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Here use installation path &lt;code&gt;/opt/Anaconda&lt;/code&gt; as an example, the installation command is&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;nv&#34;&gt;installation_dir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;/opt/Anaconda&amp;#39;&lt;/span&gt;
bash ~/Downloads/Anaconda3-5.1.0-Linux-x86_64.sh -b -f -p &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;installation_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&#34;path&#34;&gt;$PATH&lt;/h3&gt;

&lt;p&gt;After &lt;a href=&#34;https://www.anaconda.com&#34; title=&#34;The Most Popular Python Data Science Platform&#34;&gt;Anaconda&lt;/a&gt; is installed, it still can&amp;rsquo;t directly execute the command &lt;code&gt;conda&lt;/code&gt;. The reason is that the executable path &lt;code&gt;${installation_dir}/bin/&lt;/code&gt; is not in the environment variable &lt;code&gt;$PATH.&lt;/code&gt; You need to use &lt;code&gt;${installation_dir}/bin/activateadd&lt;/code&gt; to add into &lt;code&gt;$PATH&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://www.anaconda.com&#34; title=&#34;The Most Popular Python Data Science Platform&#34;&gt;Anaconda&lt;/a&gt; just adds the following directive into file &lt;code&gt;~/.bashrc&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;installation_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/bin:&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$PATH&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;But personal advice is place it under directory &lt;code&gt;/etc/profile.d/&lt;/code&gt;, so that other users can also use &lt;code&gt;conda&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Run the following command to update&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 1 - in $PATH
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;conda update conda
&lt;span class=&#34;c1&#34;&gt;# 2 - absolute path
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;/opt/Anaconda/conda update conda&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;jupyter&#34;&gt;Jupyter&lt;/h2&gt;

&lt;p&gt;As &lt;a href=&#34;https://www.anaconda.com&#34; title=&#34;The Most Popular Python Data Science Platform&#34;&gt;Anaconda&lt;/a&gt; includes &lt;a href=&#34;https://jupyter.org&#34;&gt;Jupyter Notebook&lt;/a&gt;, what you need to do is change its default configuration.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://jupyter.org&#34;&gt;Jupyter Notebook&lt;/a&gt; listens on the default port &lt;code&gt;8888&lt;/code&gt;, logging in via a password or token.&lt;/p&gt;

&lt;p&gt;Generate the configuration file through the following command&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;jupyter notebook --generate-config&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;The generated configuration file path&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;~/.jupyter/jupyter_notebook_config.py&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Details in &lt;a href=&#34;https://jupyter-notebook.readthedocs.io/en/stable/config_overview.html&#34;&gt;Configuration Overview&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The important directive&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;NotebookApp.allow_root&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;NotebookApp.base_url&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;NotebookApp.ip&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;NotebookApp.port&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;c.NotebookApp.password&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;NotebookApp.allow_password_change&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;NotebookApp.notebook_dir&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;NotebookApp.certfile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;NotebookApp.disable_check_xsrf&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;For remote access, you need to open the Jupyter port (default is &lt;code&gt;8888&lt;/code&gt;) in firewall rule.&lt;/p&gt;

&lt;h3 id=&#34;password-generation&#34;&gt;Password Generation&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://jupyter.org&#34;&gt;Jupyter Notebook&lt;/a&gt; uses an interactive way to generate hashed password.&lt;/p&gt;

&lt;h4 id=&#34;interactive-mode&#34;&gt;Interactive mode&lt;/h4&gt;

&lt;p&gt;Official document &lt;a href=&#34;https://jupyter-notebook.readthedocs.io/en/stable/security.html#alternatives-to-token-authentication&#34;&gt;Alternatives to token authentication&lt;/a&gt; mentioned&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;New in version 5.0: &lt;strong&gt;jupyter notebook password&lt;/strong&gt; command is added.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;The generated hashed password stores in file&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;~.jupyter/jupyter_notebook_config.json&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;The demo process is as follows (raw password &lt;code&gt;Axdlog@2018_Python&lt;/code&gt;)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Stretch&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ &lt;span class=&#34;nv&#34;&gt;$jupyter&lt;/span&gt; notebook password
Enter password:
Verify password:
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;NotebookPasswordApp&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Wrote hashed password to /home/maxdsre/.jupyter/jupyter_notebook_config.json
┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Stretch&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ &lt;span class=&#34;nv&#34;&gt;$cat&lt;/span&gt; ~/.jupyter/jupyter_notebook_config.json
&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;s2&#34;&gt;&amp;#34;NotebookApp&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;s2&#34;&gt;&amp;#34;password&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;sha1:4b55a390f103:1e3bf1e48ca12fda8a0fad32799fc0ad82e0301c&amp;#34;&lt;/span&gt;
  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Stretch&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ $&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h4 id=&#34;silent-mode&#34;&gt;Silent Mode&lt;/h4&gt;

&lt;p&gt;But the interactive mode is not conducive to the automatic operation of the shell script. If there is a possibility to generate hashed password in silent mode?&lt;/p&gt;

&lt;p&gt;Here use &lt;a href=&#34;https://www.python.org&#34;&gt;Python 3&lt;/a&gt; as an example, the functions used by &lt;a href=&#34;https://jupyter.org&#34;&gt;Jupyter Notebook&lt;/a&gt; to generated hashed password are &lt;code&gt;passwd&lt;/code&gt;、&lt;code&gt;passwd_check&lt;/code&gt;、&lt;code&gt;set_password&lt;/code&gt;、&lt;code&gt;persist_config&lt;/code&gt;, they lists in file&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;installation_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;/lib/python3.6/site-packages/notebook/auth/security.py&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Extracting the core codes into file &lt;code&gt;/tmp/passwd.py&lt;/code&gt;, here still use the raw password &lt;code&gt;Axdlog@2018_Python&lt;/code&gt; as an example.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# For Python 3.6
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;import hashlib
import random
from ipython_genutils.py3compat import cast_bytes, str_to_bytes
from notebook.auth.security import passwd_check

&lt;span class=&#34;nv&#34;&gt;salt_len&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;12&lt;/span&gt;

def passwd&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;password,algorithm&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;sha1&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;:
    &lt;span class=&#34;nv&#34;&gt;h&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; hashlib.new&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;algorithm&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;nv&#34;&gt;salt&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;%0&amp;#39;&lt;/span&gt; + str&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;salt_len&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; + &lt;span class=&#34;s1&#34;&gt;&amp;#39;x&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; % random.getrandbits&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt; * salt_len&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
    h.update&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;cast_bytes&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;password, &lt;span class=&#34;s1&#34;&gt;&amp;#39;utf-8&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; + str_to_bytes&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;salt, &lt;span class=&#34;s1&#34;&gt;&amp;#39;ascii&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;:&amp;#39;&lt;/span&gt;.join&lt;span class=&#34;o&#34;&gt;((&lt;/span&gt;algorithm, salt, h.hexdigest&lt;span class=&#34;o&#34;&gt;()))&lt;/span&gt;

&lt;span class=&#34;nv&#34;&gt;pass_str&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Axdlog@2018_Python&amp;#39;&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;result_str&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;passwd&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;pass_str&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# print hashed passwd
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;print&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;result_str&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# check if is legal
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;print&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;passwd_check&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;result_str,pass_str&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;executing the following command to generated hashed password&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bsah&#34; data-lang=&#34;bsah&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bsah&#34; data-lang=&#34;bsah&#34;&gt;jupyter run /tmp/test.py&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;operating process&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Stretch&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;/tmp&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ &lt;span class=&#34;nv&#34;&gt;$jupyter&lt;/span&gt; run /tmp/test.py
sha1:492e18c9b198:5c00c6ea49e8426766ffb698ced3827e579369c6
True
┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Stretch&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;/tmp&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ $&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;The verification result is &lt;code&gt;True&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;However, there is a problem with this: &lt;a href=&#34;https://www.anaconda.com&#34; title=&#34;The Most Popular Python Data Science Platform&#34;&gt;Anaconda&lt;/a&gt; supports both &lt;a href=&#34;https://www.python.org&#34;&gt;Python&lt;/a&gt; 3 and 2, there are 2 &lt;code&gt;security.py&lt;/code&gt; copies need to be processed separately. If &lt;a href=&#34;https://jupyter.org&#34;&gt;Jupyter Notebook&lt;/a&gt; changes the code, the shell script must also be changed accordingly. I&amp;rsquo;m not ensure that the script can be updated in time. Based on this consideration, this function (custom password setting) was not added to the shell script.&lt;/p&gt;

&lt;h3 id=&#34;ssl&#34;&gt;SSL&lt;/h3&gt;

&lt;p&gt;To improve the security of data transmission, SSL certificates can be configured. More details in &lt;a href=&#34;http://jupyter-notebook.readthedocs.io/en/stable/public_server.html#using-ssl-for-encrypted-communication&#34;&gt;Using SSL for encrypted communication&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Here I use command &lt;code&gt;openssl&lt;/code&gt; to create a self-signed SSL certificate. This process is also in interactive mode. However, you can disable it by flag &lt;code&gt;-subj&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Shell code sample&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;nv&#34;&gt;jupyter_name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Jupyter&amp;#39;&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;jupyter_conf_dir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;/tmp/&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jupyter_name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;

&lt;span class=&#34;nv&#34;&gt;self_cert_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;self_cert_path&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jupyter_conf_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jupyter_name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;.pem&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# openssl req -x509 -nodes -days 365 -newkey rsa:1024 -keyout mycert.pem -out mycert.pem
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -d &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jupyter_conf_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; mkdir -p &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jupyter_conf_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; ! -f &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;self_cert_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
    &lt;span class=&#34;nv&#34;&gt;cert_C&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;cert_C&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;CN&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;# Country Name
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nv&#34;&gt;cert_ST&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;cert_ST&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Shanghai&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;# State or Province Name
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nv&#34;&gt;cert_L&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;cert_L&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Shanghai&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;# Locality Name
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nv&#34;&gt;cert_O&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;cert_O&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;MaxdSre&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;# Organization Name
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nv&#34;&gt;cert_OU&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;cert_OU&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Python&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;# Organizational Unit Name
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nv&#34;&gt;cert_CN&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;cert_CN&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;jupyter.org&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;# Common Name
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;# https://jupyter.org/community
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nv&#34;&gt;cert_email&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;cert_email&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;jupyter@googlegroups.com&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;# Email Address
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
    &lt;span class=&#34;nv&#34;&gt;cert_C&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;ip_public_country_code&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;nv&#34;&gt;cert_ST&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;ip_public_locate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;%%.*&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;nv&#34;&gt;cert_L&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;ip_public_locate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;##*.&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;# expire date 3650 days, crypt type RSA, key length 4096
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    openssl req -x509 -nodes -days &lt;span class=&#34;m&#34;&gt;3650&lt;/span&gt; -newkey rsa:4096 -keyout &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;self_cert_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; -out &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;self_cert_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; -subj &lt;span class=&#34;s2&#34;&gt;&amp;#34;/C=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;cert_C&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/ST=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;cert_ST&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/L=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;cert_L&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/O=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;cert_O&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/OU=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;cert_OU&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/CN=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;cert_CN&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/emailAddress=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;cert_email&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&amp;gt; /dev/null
    &lt;span class=&#34;c1&#34;&gt;# openssl rsa -in &amp;#34;${self_cert_path}&amp;#34; -text -noout 2&amp;gt; /dev/null
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -f &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;self_cert_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; chmod &lt;span class=&#34;m&#34;&gt;644&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;self_cert_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;The testing process is as follows&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# bash -x ssl.sh
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;+ &lt;span class=&#34;nv&#34;&gt;jupyter_name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;Jupyter
+ &lt;span class=&#34;nv&#34;&gt;jupyter_conf_dir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/tmp/Jupyter
+ &lt;span class=&#34;nv&#34;&gt;self_cert_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/tmp/Jupyter/Jupyter.pem
+ &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -d /tmp/Jupyter &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;
+ mkdir -p /tmp/Jupyter
+ &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; ! -f /tmp/Jupyter/Jupyter.pem &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;
+ &lt;span class=&#34;nv&#34;&gt;cert_C&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;CN
+ &lt;span class=&#34;nv&#34;&gt;cert_ST&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;Shanghai
+ &lt;span class=&#34;nv&#34;&gt;cert_L&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;Shanghai
+ &lt;span class=&#34;nv&#34;&gt;cert_O&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;MaxdSre
+ &lt;span class=&#34;nv&#34;&gt;cert_OU&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;Python
+ &lt;span class=&#34;nv&#34;&gt;cert_CN&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;jupyter.org
+ &lt;span class=&#34;nv&#34;&gt;cert_email&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;jupyter@googlegroups.com
+ &lt;span class=&#34;nv&#34;&gt;cert_C&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;
+ &lt;span class=&#34;nv&#34;&gt;cert_ST&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;
+ &lt;span class=&#34;nv&#34;&gt;cert_L&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;
+ openssl req -x509 -nodes -days &lt;span class=&#34;m&#34;&gt;3650&lt;/span&gt; -newkey rsa:4096 -keyout /tmp/Jupyter/Jupyter.pem -out /tmp/Jupyter/Jupyter.pem -subj /C&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/ST&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/L&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/O&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;MaxdSre/OU&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;Python/CN&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;jupyter.org/emailAddress&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;jupyter@googlegroups.com
+ &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -f /tmp/Jupyter/Jupyter.pem &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;
+ chmod &lt;span class=&#34;m&#34;&gt;644&lt;/span&gt; /tmp/Jupyter/Jupyter.pem&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;testing&#34;&gt;Testing&lt;/h2&gt;

&lt;h3 id=&#34;command-line&#34;&gt;Command Line&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Stretch&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ &lt;span class=&#34;nv&#34;&gt;$jni&lt;/span&gt; a
Solving environment: &lt;span class=&#34;k&#34;&gt;done&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# All requested packages already installed.
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
Finishing executing conda update --all &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; Anaconda!

┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Stretch&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ &lt;span class=&#34;nv&#34;&gt;$jnl&lt;/span&gt;
┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Stretch&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ &lt;span class=&#34;nv&#34;&gt;$jnb&lt;/span&gt;
https://127.0.0.1:33525/Jupyter/?token&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;2709e9966fe2772e00a76ebfddfc12ac3d544eef518c530c :: /home/maxdsre/Jupyter
┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Stretch&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ &lt;span class=&#34;nv&#34;&gt;$jnl&lt;/span&gt;
https://127.0.0.1:33525/Jupyter/?token&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;2709e9966fe2772e00a76ebfddfc12ac3d544eef518c530c :: /home/maxdsre/Jupyter
┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Stretch&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ &lt;span class=&#34;nv&#34;&gt;$jne&lt;/span&gt;
┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Stretch&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ &lt;span class=&#34;nv&#34;&gt;$jnl&lt;/span&gt;
┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Stretch&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ $&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&#34;web-browser&#34;&gt;Web Browser&lt;/h3&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-19_jupyter_notebook_anaconda/2018-04-19_10-22-24.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-19_jupyter_notebook_anaconda/2018-04-19_10-22-52.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-19_jupyter_notebook_anaconda/2018-04-19_10-22-57.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-19_jupyter_notebook_anaconda/2018-04-19_10-23-33.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-19_jupyter_notebook_anaconda/2018-04-19_10-23-47.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;private-ssl&#34;&gt;Private SSL&lt;/h3&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-19_jupyter_notebook_anaconda/2018-04-19_10-24-22.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-19_jupyter_notebook_anaconda/2018-04-19_10-24-33.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-19_jupyter_notebook_anaconda/2018-04-19_10-24-49.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-19_jupyter_notebook_anaconda/2018-04-19_10-25-03.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;reference&#34;&gt;Reference&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://testnb.readthedocs.io/en/stable/examples/Notebook/Configuring%20the%20Notebook%20and%20Server.html&#34;&gt;Configuring the Notebook and Server&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://jupyter-notebook.readthedocs.io/en/latest/examples/Notebook/examples_index.html&#34;&gt;Examples&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;change-logs&#34;&gt;Change Logs&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;2018.04.19 10:42 Wed America/Boston

&lt;ul&gt;
&lt;li&gt;first draft&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- End --&gt;</description>
      
    </item>
    
    <item>
      <title>在GNU/Linux中安裝配置Anaconda和Jupyter Notebook</title>
      <link>/2018/setting-up-anaconda-and-jupyter-notebook-on-gnu-linux/</link>
      <pubDate>Thu, 19 Apr 2018 10:42:53 -0400</pubDate>
      
      <guid>/2018/setting-up-anaconda-and-jupyter-notebook-on-gnu-linux/</guid>
      
        <description>&lt;p&gt;&lt;a href=&#34;https://jupyter.org&#34;&gt;Jupyter Notebook&lt;/a&gt;是一款開源的交互式Web應用，使用&lt;a href=&#34;https://www.python.org&#34;&gt;Python&lt;/a&gt;語言開發。其官方建議通過&lt;a href=&#34;https://www.anaconda.com&#34; title=&#34;The Most Popular Python Data Science Platform&#34;&gt;Anaconda&lt;/a&gt;安裝&lt;a href=&#34;https://www.python.org&#34;&gt;Python&lt;/a&gt;和&lt;a href=&#34;https://jupyter.org&#34;&gt;Jupyter Notebook&lt;/a&gt;。本文記錄如何通過&lt;a href=&#34;https://www.anaconda.com&#34; title=&#34;The Most Popular Python Data Science Platform&#34;&gt;Anaconda&lt;/a&gt;安裝、配置&lt;a href=&#34;https://jupyter.org&#34;&gt;Jupyter Notebook&lt;/a&gt;，並通過Shell腳本實現整個過程。&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;h2 id=&#34;簡介&#34;&gt;簡介&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;We strongly recommend installing Python and Jupyter using the &lt;a href=&#34;https://www.anaconda.com&#34; title=&#34;The Most Popular Python Data Science Platform&#34;&gt;Anaconda Distribution&lt;/a&gt;, which includes Python, the Jupyter Notebook, and other commonly used packages for scientific computing and data science. &amp;ndash; &lt;a href=&#34;https://jupyter.org/install.html&#34;&gt;Installing Jupyter&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Anaconda&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Anaconda Distribution is the easiest way to do Python data science and machine learning. It includes 250+ popular data science packages and the conda package and virtual environment manager for Windows, Linux, and MacOS. Conda makes it quick and easy to install, run, and upgrade complex data science and machine learning environments like Scikit-learn, TensorFlow, and SciPy. Anaconda Distribution is the foundation of millions of data science projects as well as Amazon Web Services&amp;rsquo; Machine Learning AMIs and Anaconda for Microsoft on Azure and Windows. &amp;ndash; &lt;a href=&#34;https://www.anaconda.com/what-is-anaconda/&#34;&gt;https://www.anaconda.com/what-is-anaconda/&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Jupyter&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;The Jupyter Notebook is an open-source web application that allows you to create and share documents that contain live code, equations, visualizations and narrative text. Uses include: data cleaning and transformation, numerical simulation, statistical modeling, data visualization, machine learning, and much more.  &amp;ndash; &lt;a href=&#34;https://jupyter.org/&#34;&gt;https://jupyter.org/&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;官方文檔&#34;&gt;官方文檔&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Anaconda &lt;a href=&#34;https://docs.anaconda.com/anaconda/&#34;&gt;https://docs.anaconda.com/anaconda/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Jupyter

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://jupyter.org/documentation&#34;&gt;https://jupyter.org/documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://jupyter-notebook.readthedocs.io/en/stable/&#34;&gt;https://jupyter-notebook.readthedocs.io/en/stable/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://jupyter-notebook.readthedocs.io/en/latest/changelog.html&#34;&gt;http://jupyter-notebook.readthedocs.io/en/latest/changelog.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;shell-腳本&#34;&gt;Shell 腳本&lt;/h2&gt;

&lt;p&gt;整個安裝、配置過程已通過Shell腳本實現，代碼託管在&lt;a href=&#34;https://github.com/MaxdSre/axd-ShellScript/blob/master/assets/software/Anaconda.sh&#34;&gt;GitHub&lt;/a&gt;，通過如下命令執行&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# curl -fsL / wget -qO-
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# if need help info, specify &amp;#39;-h&amp;#39;
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;curl -fsL https://raw.githubusercontent.com/MaxdSre/axd-ShellScript/master/assets/software/Anaconda.sh &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sudo bash -s --&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;script src=&#34;https://asciinema.org/a/175225.js&#34; id=&#34;asciicast-175225&#34; async&gt;&lt;/script&gt;

&lt;p&gt;爲方便管理&lt;a href=&#34;https://jupyter.org&#34;&gt;Jupyter Notebook&lt;/a&gt;，本人在腳本中設置了一些命令別名，存放在文件&lt;code&gt;~/.bashrc&lt;/code&gt;中，具體如下&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# jupyter notebook Start
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;alias&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;jnl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;jupyter notebook list | sed &amp;#39;/running servers/d&amp;#39;&amp;#34;&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;alias&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;jnb&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;(nohup jupyter notebook &amp;amp;&amp;gt; /dev/null &amp;amp;); sleep 2; jnl&amp;#34;&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;alias&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;jne&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;ps -ef | awk &amp;#39;match(\$0,/(jupyter-noteboo|Anaconda\/bin)/)&amp;amp;&amp;amp;!match(\$0,/awk/){print \$2}&amp;#39; | xargs kill -9 2&amp;gt; /dev/null&amp;#34;&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;alias&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;jni&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;curl -fsL https://raw.githubusercontent.com/MaxdSre/axd-ShellScript/master/assets/software/Anaconda.sh | sudo bash -s -- -U&amp;#34;&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;alias&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;jnr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;sudo /opt/Anaconda/bin/conda remove&amp;#34;&lt;/span&gt;
# jupyter notebook End&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;jnl&lt;/code&gt;：查看系統中已運行的server；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;jnb&lt;/code&gt;：啓動新的server；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;jne&lt;/code&gt;：關閉所有已啓動的server；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;jni&lt;/code&gt;：用於安裝包的搜索、安裝和更新，&lt;code&gt;jni a&lt;/code&gt;可對所有已安裝的包進行更新。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;jnr&lt;/code&gt;：移除安裝包&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;anaconda&#34;&gt;Anaconda&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://www.anaconda.com&#34; title=&#34;The Most Popular Python Data Science Platform&#34;&gt;Anaconda&lt;/a&gt; 下載頁面爲 &lt;a href=&#34;https://www.anaconda.com/download&#34;&gt;https://www.anaconda.com/download&lt;/a&gt;，同時支持Python &lt;strong&gt;3.6&lt;/strong&gt; 和 &lt;strong&gt;2.7&lt;/strong&gt;，根據需要選擇下載對應版本的&lt;a href=&#34;https://www.anaconda.com&#34; title=&#34;The Most Popular Python Data Science Platform&#34;&gt;Anaconda&lt;/a&gt;。&lt;/p&gt;

&lt;h3 id=&#34;版本信息&#34;&gt;版本信息&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://www.anaconda.com&#34; title=&#34;The Most Popular Python Data Science Platform&#34;&gt;Anaconda&lt;/a&gt;當前最新釋出版本爲&lt;code&gt;5.1&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;可通過如下命令提取最新版本信息&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;curl -fsL https://www.anaconda.com/download/ &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed -r -n &lt;span class=&#34;s1&#34;&gt;&amp;#39;/&amp;gt;Release Date:/{s@[[:space:]]*&amp;lt;[^&amp;gt;]*&amp;gt;[[:space:]]*@@g;s@^[^:]*:[[:space:]]*(.*)@\1@g;p}; /Anaconda.*Linux-x86_64/{/Installer/{s@.*href=&amp;#34;([^&amp;#34;]*)&amp;#34;.*@\1@g;s@.*Anaconda[^-]*-([^-]*).*$@\1@g;p;q}}&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed &lt;span class=&#34;s1&#34;&gt;&amp;#39;:a;N;$!ba;s@\n@|@g&amp;#39;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;輸出結果&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;February 15, 2018|5.1.0&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&#34;校驗&#34;&gt;校驗&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://www.anaconda.com&#34; title=&#34;The Most Popular Python Data Science Platform&#34;&gt;Anaconda&lt;/a&gt; 並未直接在下載頁面提供安裝包的hash校驗信息，相關信息存放在頁面 &lt;a href=&#34;https://docs.anaconda.com/anaconda/install/hashes/&#34;&gt;Anaconda installer file hashes&lt;/a&gt;。其中頁面 &lt;a href=&#34;https://docs.anaconda.com/anaconda/install/hashes/all&#34;&gt;Hashes for all files&lt;/a&gt; 列出了&lt;a href=&#34;https://www.anaconda.com&#34; title=&#34;The Most Popular Python Data Science Platform&#34;&gt;Anaconda&lt;/a&gt;各歷史版本的sha256hash值。&lt;/p&gt;

&lt;p&gt;此處以&lt;code&gt;Anaconda3-5.1.0-Linux-x86_64.sh&lt;/code&gt;爲例，頁面 &lt;a href=&#34;https://docs.anaconda.com/anaconda/install/hashes/Anaconda3-5.1.0-Linux-x86_64.sh-hash&#34;&gt;Hashes for Anaconda3-5.1.0-Linux-x86_64.sh&lt;/a&gt;列出了安裝包的相關信息。&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;item&lt;/th&gt;
&lt;th&gt;details&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Last Modified&lt;/td&gt;
&lt;td&gt;&lt;code&gt;2018-02-15 09:08:57&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;size(byte)&lt;/td&gt;
&lt;td&gt;&lt;code&gt;577996269&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;md5&lt;/td&gt;
&lt;td&gt;&lt;code&gt;966406059cf7ed89cc82eb475ba506e5&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;sha256&lt;/td&gt;
&lt;td&gt;&lt;code&gt;7e6785caad25e33930bc03fac4994a434a21bc8401817b7efa28f53619fa9c29&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;可通過如下命令進行Hash校驗&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;nv&#34;&gt;file_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;~/Downloads/Anaconda3-5.1.0-Linux-x86_64.sh&amp;#39;&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# via sha256sum
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;sha256sum &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;file_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# via openssl
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;openssl dgst -sha256 &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;file_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;演示示例&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Stretch&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~/Downloads&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ &lt;span class=&#34;nv&#34;&gt;$sha256sum&lt;/span&gt; Anaconda3-5.1.0-Linux-x86_64.sh
7e6785caad25e33930bc03fac4994a434a21bc8401817b7efa28f53619fa9c29  Anaconda3-5.1.0-Linux-x86_64.sh
┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Stretch&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~/Downloads&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ &lt;span class=&#34;nv&#34;&gt;$openssl&lt;/span&gt; dgst -sha256 Anaconda3-5.1.0-Linux-x86_64.sh
SHA256&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;Anaconda3-5.1.0-Linux-x86_64.sh&lt;span class=&#34;o&#34;&gt;)=&lt;/span&gt; 7e6785caad25e33930bc03fac4994a434a21bc8401817b7efa28f53619fa9c29
┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Stretch&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~/Downloads&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ $&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&#34;安裝&#34;&gt;安裝&lt;/h3&gt;

&lt;p&gt;sha256校驗通過後，參照官方文檔 &lt;a href=&#34;https://docs.anaconda.com/anaconda/install/&#34;&gt;https://docs.anaconda.com/anaconda/install/&lt;/a&gt; 進行安裝。&lt;/p&gt;

&lt;p&gt;執行如下命令進行安裝&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;bash ~/Downloads/Anaconda3-5.1.0-Linux-x86_64.sh&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href=&#34;https://www.anaconda.com&#34; title=&#34;The Most Popular Python Data Science Platform&#34;&gt;Anaconda&lt;/a&gt;默認採用的是 &lt;strong&gt;交互式&lt;/strong&gt; 安裝，需要用戶參與，詳細說明見官方文檔 &lt;a href=&#34;https://docs.anaconda.com/anaconda/install/linux&#34;&gt;Installing on Linux&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://www.anaconda.com&#34; title=&#34;The Most Popular Python Data Science Platform&#34;&gt;Anaconda&lt;/a&gt;同樣支持 &lt;strong&gt;無交互式&lt;/strong&gt; 安裝，根據官方文檔&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://conda.io/docs/user-guide/install/index.html#installing-in-silent-mode&#34;&gt;https://conda.io/docs/user-guide/install/index.html#installing-in-silent-mode&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://conda.io/docs/user-guide/install/linux.html#install-linux-silent&#34;&gt;https://conda.io/docs/user-guide/install/linux.html#install-linux-silent&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://conda.io/docs/user-guide/install/macos.html#install-macos-silent&#34;&gt;https://conda.io/docs/user-guide/install/macos.html#install-macos-silent&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;安裝時添加參數&lt;code&gt;-b&lt;/code&gt;即可實現 &lt;strong&gt;靜默&lt;/strong&gt; 安裝，如果需要自定義安裝路徑，添加參數&lt;code&gt;-p&lt;/code&gt;，具體說明如下：&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;-b&lt;/strong&gt;： Batch mode with no PATH modifications to &lt;code&gt;~/.bashrc&lt;/code&gt;. Assumes that you agree to the license agreement. Does not edit the &lt;code&gt;.bashrc&lt;/code&gt; or &lt;code&gt;.bash_profile&lt;/code&gt; files.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;-p&lt;/strong&gt;： Installation prefix/path.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;-f&lt;/strong&gt;： Force installation even if prefix -p already exists.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;此處以安裝路徑爲&lt;code&gt;/opt/Anaconda&lt;/code&gt;爲例，安裝命令爲&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;nv&#34;&gt;installation_dir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;/opt/Anaconda&amp;#39;&lt;/span&gt;
bash ~/Downloads/Anaconda3-5.1.0-Linux-x86_64.sh -b -f -p &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;installation_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&#34;path&#34;&gt;$PATH&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://www.anaconda.com&#34; title=&#34;The Most Popular Python Data Science Platform&#34;&gt;Anaconda&lt;/a&gt;安裝完成後，仍無法直接執行命令&lt;code&gt;conda&lt;/code&gt;。原因是可執行文件路徑&lt;code&gt;${installation_dir}/bin/&lt;/code&gt;不在環境變量&lt;code&gt;$PATH&lt;/code&gt;中。需要通過文件&lt;code&gt;${installation_dir}/bin/activate&lt;/code&gt;將其添加到&lt;code&gt;$PATH&lt;/code&gt;中。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://www.anaconda.com&#34; title=&#34;The Most Popular Python Data Science Platform&#34;&gt;Anaconda&lt;/a&gt;給出的方案是在文件&lt;code&gt;~/.bashrc&lt;/code&gt;中添加如下設置&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;installation_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/bin:&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$PATH&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;但個人建議將其放置在目錄&lt;code&gt;/etc/profile.d/&lt;/code&gt;中，這樣其他用戶也可以使用&lt;code&gt;conda&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;執行如下命令進行更新&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 1 - in $PATH
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;conda update conda
&lt;span class=&#34;c1&#34;&gt;# 2 - absolute path
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;/opt/Anaconda/conda update conda&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;jupyter&#34;&gt;Jupyter&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://www.anaconda.com&#34; title=&#34;The Most Popular Python Data Science Platform&#34;&gt;Anaconda&lt;/a&gt;中已集成有&lt;a href=&#34;https://jupyter.org&#34;&gt;Jupyter Notebook&lt;/a&gt;，稍作配置即可使用。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://jupyter.org&#34;&gt;Jupyter Notebook&lt;/a&gt;默認監聽端口&lt;code&gt;8888&lt;/code&gt;，採用密碼或token方式登入。&lt;/p&gt;

&lt;p&gt;通過如下命令生成配置文件&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;jupyter notebook --generate-config&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;生成的配置文件路徑爲&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;~/.jupyter/jupyter_notebook_config.py&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;配置文檔 &lt;a href=&#34;https://jupyter-notebook.readthedocs.io/en/stable/config_overview.html&#34;&gt;Configuration Overview&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;需要設置的主要有以下指令&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;NotebookApp.allow_root&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;NotebookApp.base_url&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;NotebookApp.ip&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;NotebookApp.port&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;c.NotebookApp.password&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;NotebookApp.allow_password_change&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;NotebookApp.notebook_dir&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;NotebookApp.certfile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;NotebookApp.disable_check_xsrf&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;如果是遠程訪問，則需要在防火牆中開啓Jupyter端口(默認爲&lt;code&gt;8888&lt;/code&gt;)。&lt;/p&gt;

&lt;h3 id=&#34;生成密碼&#34;&gt;生成密碼&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://jupyter.org&#34;&gt;Jupyter Notebook&lt;/a&gt;採用的是交互式方式生成Hash密碼。&lt;/p&gt;

&lt;h4 id=&#34;交互模式&#34;&gt;交互模式&lt;/h4&gt;

&lt;p&gt;官方文檔 &lt;a href=&#34;https://jupyter-notebook.readthedocs.io/en/stable/security.html#alternatives-to-token-authentication&#34;&gt;Alternatives to token authentication&lt;/a&gt; 提到&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;New in version 5.0: &lt;strong&gt;jupyter notebook password&lt;/strong&gt; command is added.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;生成的Hash密碼存儲路徑爲&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;~.jupyter/jupyter_notebook_config.json&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;演示過程如下 (密碼&lt;code&gt;Axdlog@2018_Python&lt;/code&gt;)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Stretch&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ &lt;span class=&#34;nv&#34;&gt;$jupyter&lt;/span&gt; notebook password
Enter password:
Verify password:
&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;NotebookPasswordApp&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; Wrote hashed password to /home/maxdsre/.jupyter/jupyter_notebook_config.json
┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Stretch&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ &lt;span class=&#34;nv&#34;&gt;$cat&lt;/span&gt; ~/.jupyter/jupyter_notebook_config.json
&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;s2&#34;&gt;&amp;#34;NotebookApp&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;s2&#34;&gt;&amp;#34;password&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;sha1:4b55a390f103:1e3bf1e48ca12fda8a0fad32799fc0ad82e0301c&amp;#34;&lt;/span&gt;
  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Stretch&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ $&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h4 id=&#34;靜默模式&#34;&gt;靜默模式&lt;/h4&gt;

&lt;p&gt;但交互式方式不利於Shell腳本的自動化操作， 能否實現非交互式生成密碼呢？&lt;/p&gt;

&lt;p&gt;此處以&lt;a href=&#34;https://www.python.org&#34;&gt;Python 3&lt;/a&gt;爲例，&lt;a href=&#34;https://jupyter.org&#34;&gt;Jupyter Notebook&lt;/a&gt;生成密碼使用到如下文件，裏面定義了相關函數，如&lt;code&gt;passwd&lt;/code&gt;、&lt;code&gt;passwd_check&lt;/code&gt;、&lt;code&gt;set_password&lt;/code&gt;、&lt;code&gt;persist_config&lt;/code&gt;。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;installation_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;/lib/python3.6/site-packages/notebook/auth/security.py&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;提取其中部分代碼，寫入文件&lt;code&gt;/tmp/passwd.py&lt;/code&gt;，仍以密碼&lt;code&gt;Axdlog@2018_Python&lt;/code&gt;爲例。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# For Python 3.6
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;import hashlib
import random
from ipython_genutils.py3compat import cast_bytes, str_to_bytes
from notebook.auth.security import passwd_check

&lt;span class=&#34;nv&#34;&gt;salt_len&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;12&lt;/span&gt;

def passwd&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;password,algorithm&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;sha1&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;:
    &lt;span class=&#34;nv&#34;&gt;h&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; hashlib.new&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;algorithm&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;nv&#34;&gt;salt&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;%0&amp;#39;&lt;/span&gt; + str&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;salt_len&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; + &lt;span class=&#34;s1&#34;&gt;&amp;#39;x&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; % random.getrandbits&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt; * salt_len&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
    h.update&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;cast_bytes&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;password, &lt;span class=&#34;s1&#34;&gt;&amp;#39;utf-8&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; + str_to_bytes&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;salt, &lt;span class=&#34;s1&#34;&gt;&amp;#39;ascii&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;:&amp;#39;&lt;/span&gt;.join&lt;span class=&#34;o&#34;&gt;((&lt;/span&gt;algorithm, salt, h.hexdigest&lt;span class=&#34;o&#34;&gt;()))&lt;/span&gt;

&lt;span class=&#34;nv&#34;&gt;pass_str&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Axdlog@2018_Python&amp;#39;&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;result_str&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;passwd&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;pass_str&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# print hashed passwd
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;print&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;result_str&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# check if is legal
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;print&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;passwd_check&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;result_str,pass_str&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;執行如下命令&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bsah&#34; data-lang=&#34;bsah&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bsah&#34; data-lang=&#34;bsah&#34;&gt;jupyter run /tmp/test.py&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;操作過程&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Stretch&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;/tmp&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ &lt;span class=&#34;nv&#34;&gt;$jupyter&lt;/span&gt; run /tmp/test.py
sha1:492e18c9b198:5c00c6ea49e8426766ffb698ced3827e579369c6
True
┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Stretch&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;/tmp&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ $&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;可以看到驗證結果爲&lt;code&gt;True&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;但這樣做會有一個問題：&lt;a href=&#34;https://www.anaconda.com&#34; title=&#34;The Most Popular Python Data Science Platform&#34;&gt;Anaconda&lt;/a&gt;同時支持&lt;a href=&#34;https://www.python.org&#34;&gt;Python&lt;/a&gt; 3 和 2，文件&lt;code&gt;security.py&lt;/code&gt;有2份，需要分別處理；如果&lt;a href=&#34;https://jupyter.org&#34;&gt;Jupyter Notebook&lt;/a&gt;更新了其中的代碼，則Shell腳本也須作出相應更改，本人無法確保能夠及時作出相應響應。基於此考慮，未將自定義密碼功能加入Shell腳本。&lt;/p&gt;

&lt;h3 id=&#34;ssl證書&#34;&gt;SSL證書&lt;/h3&gt;

&lt;p&gt;爲提高數據傳輸安全，可配置SSL證書，官方文檔見 &lt;a href=&#34;http://jupyter-notebook.readthedocs.io/en/stable/public_server.html#using-ssl-for-encrypted-communication&#34;&gt;Using SSL for encrypted communication&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;通過&lt;code&gt;openssl&lt;/code&gt;創建自簽SSL證書，該過程是一個交互式過程。但可以通過指令&lt;code&gt;-subj&lt;/code&gt;實現免交互操作。&lt;/p&gt;

&lt;p&gt;Shell代碼示例&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;nv&#34;&gt;jupyter_name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Jupyter&amp;#39;&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;jupyter_conf_dir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;/tmp/&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jupyter_name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;

&lt;span class=&#34;nv&#34;&gt;self_cert_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;self_cert_path&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jupyter_conf_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jupyter_name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;.pem&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# openssl req -x509 -nodes -days 365 -newkey rsa:1024 -keyout mycert.pem -out mycert.pem
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -d &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jupyter_conf_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; mkdir -p &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jupyter_conf_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; ! -f &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;self_cert_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
    &lt;span class=&#34;nv&#34;&gt;cert_C&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;cert_C&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;CN&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;# Country Name
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nv&#34;&gt;cert_ST&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;cert_ST&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Shanghai&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;# State or Province Name
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nv&#34;&gt;cert_L&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;cert_L&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Shanghai&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;# Locality Name
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nv&#34;&gt;cert_O&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;cert_O&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;MaxdSre&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;# Organization Name
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nv&#34;&gt;cert_OU&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;cert_OU&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Python&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;# Organizational Unit Name
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nv&#34;&gt;cert_CN&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;cert_CN&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;jupyter.org&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;# Common Name
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;# https://jupyter.org/community
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nv&#34;&gt;cert_email&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;cert_email&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;jupyter@googlegroups.com&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;# Email Address
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
    &lt;span class=&#34;nv&#34;&gt;cert_C&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;ip_public_country_code&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;nv&#34;&gt;cert_ST&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;ip_public_locate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;%%.*&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;nv&#34;&gt;cert_L&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;ip_public_locate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;##*.&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;# expire date 3650 days, crypt type RSA, key length 4096
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    openssl req -x509 -nodes -days &lt;span class=&#34;m&#34;&gt;3650&lt;/span&gt; -newkey rsa:4096 -keyout &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;self_cert_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; -out &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;self_cert_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; -subj &lt;span class=&#34;s2&#34;&gt;&amp;#34;/C=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;cert_C&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/ST=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;cert_ST&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/L=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;cert_L&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/O=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;cert_O&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/OU=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;cert_OU&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/CN=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;cert_CN&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/emailAddress=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;cert_email&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&amp;gt; /dev/null
    &lt;span class=&#34;c1&#34;&gt;# openssl rsa -in &amp;#34;${self_cert_path}&amp;#34; -text -noout 2&amp;gt; /dev/null
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -f &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;self_cert_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; chmod &lt;span class=&#34;m&#34;&gt;644&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;self_cert_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;執行過程如下&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# bash -x ssl.sh
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;+ &lt;span class=&#34;nv&#34;&gt;jupyter_name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;Jupyter
+ &lt;span class=&#34;nv&#34;&gt;jupyter_conf_dir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/tmp/Jupyter
+ &lt;span class=&#34;nv&#34;&gt;self_cert_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/tmp/Jupyter/Jupyter.pem
+ &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -d /tmp/Jupyter &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;
+ mkdir -p /tmp/Jupyter
+ &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; ! -f /tmp/Jupyter/Jupyter.pem &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;
+ &lt;span class=&#34;nv&#34;&gt;cert_C&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;CN
+ &lt;span class=&#34;nv&#34;&gt;cert_ST&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;Shanghai
+ &lt;span class=&#34;nv&#34;&gt;cert_L&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;Shanghai
+ &lt;span class=&#34;nv&#34;&gt;cert_O&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;MaxdSre
+ &lt;span class=&#34;nv&#34;&gt;cert_OU&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;Python
+ &lt;span class=&#34;nv&#34;&gt;cert_CN&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;jupyter.org
+ &lt;span class=&#34;nv&#34;&gt;cert_email&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;jupyter@googlegroups.com
+ &lt;span class=&#34;nv&#34;&gt;cert_C&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;
+ &lt;span class=&#34;nv&#34;&gt;cert_ST&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;
+ &lt;span class=&#34;nv&#34;&gt;cert_L&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;
+ openssl req -x509 -nodes -days &lt;span class=&#34;m&#34;&gt;3650&lt;/span&gt; -newkey rsa:4096 -keyout /tmp/Jupyter/Jupyter.pem -out /tmp/Jupyter/Jupyter.pem -subj /C&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/ST&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/L&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/O&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;MaxdSre/OU&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;Python/CN&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;jupyter.org/emailAddress&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;jupyter@googlegroups.com
+ &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -f /tmp/Jupyter/Jupyter.pem &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;
+ chmod &lt;span class=&#34;m&#34;&gt;644&lt;/span&gt; /tmp/Jupyter/Jupyter.pem&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;測試&#34;&gt;測試&lt;/h2&gt;

&lt;h3 id=&#34;命令行&#34;&gt;命令行&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Stretch&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ &lt;span class=&#34;nv&#34;&gt;$jni&lt;/span&gt; a
Solving environment: &lt;span class=&#34;k&#34;&gt;done&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# All requested packages already installed.
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
Finishing executing conda update --all &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; Anaconda!

┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Stretch&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ &lt;span class=&#34;nv&#34;&gt;$jnl&lt;/span&gt;
┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Stretch&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ &lt;span class=&#34;nv&#34;&gt;$jnb&lt;/span&gt;
https://127.0.0.1:33525/Jupyter/?token&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;2709e9966fe2772e00a76ebfddfc12ac3d544eef518c530c :: /home/maxdsre/Jupyter
┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Stretch&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ &lt;span class=&#34;nv&#34;&gt;$jnl&lt;/span&gt;
https://127.0.0.1:33525/Jupyter/?token&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;2709e9966fe2772e00a76ebfddfc12ac3d544eef518c530c :: /home/maxdsre/Jupyter
┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Stretch&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ &lt;span class=&#34;nv&#34;&gt;$jne&lt;/span&gt;
┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Stretch&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ &lt;span class=&#34;nv&#34;&gt;$jnl&lt;/span&gt;
┌─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;maxdsre@Stretch&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;─&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
└──╼ $&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&#34;web-瀏覽器&#34;&gt;Web 瀏覽器&lt;/h3&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-19_jupyter_notebook_anaconda/2018-04-19_10-22-24.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-19_jupyter_notebook_anaconda/2018-04-19_10-22-52.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-19_jupyter_notebook_anaconda/2018-04-19_10-22-57.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-19_jupyter_notebook_anaconda/2018-04-19_10-23-33.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-19_jupyter_notebook_anaconda/2018-04-19_10-23-47.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;私有-ssl&#34;&gt;私有 SSL&lt;/h3&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-19_jupyter_notebook_anaconda/2018-04-19_10-24-22.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-19_jupyter_notebook_anaconda/2018-04-19_10-24-33.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-19_jupyter_notebook_anaconda/2018-04-19_10-24-49.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-19_jupyter_notebook_anaconda/2018-04-19_10-25-03.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;參考資料&#34;&gt;參考資料&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://testnb.readthedocs.io/en/stable/examples/Notebook/Configuring%20the%20Notebook%20and%20Server.html&#34;&gt;Configuring the Notebook and Server&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://jupyter-notebook.readthedocs.io/en/latest/examples/Notebook/examples_index.html&#34;&gt;Examples&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;更新日誌&#34;&gt;更新日誌&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;2018.04.19 10:42 Wed America/Boston

&lt;ul&gt;
&lt;li&gt;初稿完成&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- End --&gt;</description>
      
    </item>
    
    <item>
      <title>Setting Up Slack Build Notification in Travis CI for Github Project</title>
      <link>/2018/setting-up-slack-build-notification-in-travis-ci-for-github-project/</link>
      <pubDate>Wed, 18 Apr 2018 13:31:34 -0400</pubDate>
      
      <guid>/2018/setting-up-slack-build-notification-in-travis-ci-for-github-project/</guid>
      
        <description>&lt;p&gt;By default, &lt;a href=&#34;https://travis-ci.org&#34; title=&#34;Test and Deploy with Confidence&#34;&gt;Travis CI&lt;/a&gt; uses email to send build notification, it also support other method, e.g. &lt;a href=&#34;https://slack.com&#34; title=&#34;Where work happens&#34;&gt;Slack&lt;/a&gt;. This article documents how to set up &lt;a href=&#34;https://slack.com&#34; title=&#34;Where work happens&#34;&gt;Slack&lt;/a&gt; notification for &lt;a href=&#34;https://github.com&#34;&gt;GitHub&lt;/a&gt; project integrated &lt;a href=&#34;https://travis-ci.org&#34; title=&#34;Test and Deploy with Confidence&#34;&gt;Travis CI&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;I take my personal blog &lt;a href=&#34;https://axdlog.com&#34;&gt;&lt;strong&gt;AxdLog&lt;/strong&gt;&lt;/a&gt; as operation example.&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;item&lt;/th&gt;
&lt;th&gt;details&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;repo&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://github.com/MaxdSre/maxdsre.github.io&#34;&gt;MaxdSre/maxdsre.github.io&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;channel&lt;/td&gt;
&lt;td&gt;github_axdlog&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&#34;official-document&#34;&gt;Official Document&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://travis-ci.org&#34; title=&#34;Test and Deploy with Confidence&#34;&gt;Travis CI&lt;/a&gt; official documents&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://docs.travis-ci.com/user/notifications#Configuring-Slack-notifications&#34;&gt;Configuring Build Notifications&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://docs.travis-ci.com/user/encryption-keys/&#34;&gt;Encryption keys&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://api.slack.com/docs/message-formatting&#34;&gt;Configuring Build Notifications&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;slack&#34;&gt;Slack&lt;/h2&gt;

&lt;p&gt;This step doesn&amp;rsquo;t include &lt;a href=&#34;https://slack.com&#34; title=&#34;Where work happens&#34;&gt;Slack&lt;/a&gt; account registration. Clicking link &lt;a href=&#34;https://slack.com/signin&#34;&gt;https://slack.com/signin&lt;/a&gt; to login in.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-18_slack_notification_in_travis_ci/2018-04-18_13-51-02.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Inputing user name, password&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-18_slack_notification_in_travis_ci/2018-04-18_13-53-07.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;create-new-channel&#34;&gt;Create New Channel&lt;/h3&gt;

&lt;p&gt;Clicking &lt;code&gt;Channel&lt;/code&gt; or &lt;code&gt;+&lt;/code&gt; on the left of the page to create a new channel&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-18_slack_notification_in_travis_ci/2018-04-18_13-57-07.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Here I set name as &lt;code&gt;github_axdlog&lt;/code&gt; and choose &lt;code&gt;private&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-18_slack_notification_in_travis_ci/2018-04-18_14-13-38.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;newly created channel&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-18_slack_notification_in_travis_ci/2018-04-18_14-13-58.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;token-generation&#34;&gt;Token Generation&lt;/h3&gt;

&lt;p&gt;Clicking link &lt;a href=&#34;https://my.slack.com/services/new/travis&#34;&gt;https://my.slack.com/services/new/travis&lt;/a&gt; into Travis configuration page, choose target channel (&lt;code&gt;github_axdlog&lt;/code&gt;) in the selection menu&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-18_slack_notification_in_travis_ci/2018-04-18_14-14-38.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Newly generated token is &lt;code&gt;maxdsre:ne18Xpc5RbzM1hIdd34nN2aE&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-18_slack_notification_in_travis_ci/2018-04-18_14-15-34.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-18_slack_notification_in_travis_ci/2018-04-18_14-15-52.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-18_slack_notification_in_travis_ci/2018-04-18_14-16-04.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-18_slack_notification_in_travis_ci/2018-04-18_14-16-16.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Encrypting your credentials&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Your integration token is semi-secret, but we recommend &lt;a href=&#34;http://docs.travis-ci.com/user/encryption-keys/&#34;&gt;encrypting your credentials&lt;/a&gt; using the &lt;a href=&#34;https://github.com/travis-ci/travis#readme&#34;&gt;Travis command line client&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;encrypting-credentials&#34;&gt;Encrypting Credentials&lt;/h3&gt;

&lt;p&gt;After I failed to install &lt;code&gt;travis&lt;/code&gt; according to official docs, I choose &lt;a href=&#34;https://www.docker.com&#34; title=&#34;Docker&#34;&gt;Docker&lt;/a&gt; image to generate encrypted credential.&lt;/p&gt;

&lt;p&gt;If you don&amp;rsquo;t know how to install &lt;a href=&#34;https://www.docker.com&#34; title=&#34;Docker&#34;&gt;Docker&lt;/a&gt;, you may consider reference my blog &lt;a href=&#34;/2017/installing-and-configuring-docker-community-edition-ce-on-gnu-linux/&#34;&gt;Installing And Configuring Docker Community Edition(CE) On GNU/Linux&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker pull ruby
docker run -ti --rm ruby bash&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Executing the following commands in container&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# install travis
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;gem install travis

touch .travis.yml
travis encrypt &lt;span class=&#34;s2&#34;&gt;&amp;#34;maxdsre:ne18Xpc5RbzM1hIdd34nN2aE&amp;#34;&lt;/span&gt; --add notifications.slack.rooms -r MaxdSre/maxdsre.github.io
cat .travis.yml&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;details&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;root@a24abf051547:/# travis --version
Shell completion not installed. Would you like to install it now? &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;y&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; y
&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;.8.8
root@a24abf051547:/# travis encrypt &lt;span class=&#34;s2&#34;&gt;&amp;#34;maxdsre:ne18Xpc5RbzM1hIdd34nN2aE&amp;#34;&lt;/span&gt; --add notifications.slack.rooms
Can&lt;span class=&#34;s1&#34;&gt;&amp;#39;t figure out GitHub repo name. Ensure you&amp;#39;&lt;/span&gt;re in the repo directory, or specify the repo name via the -r option &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;e.g. travis &amp;lt;command&amp;gt; -r &amp;lt;owner&amp;gt;/&amp;lt;repo&amp;gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
root@a24abf051547:/# travis encrypt &lt;span class=&#34;s2&#34;&gt;&amp;#34;maxdsre:ne18Xpc5RbzM1hIdd34nN2aE&amp;#34;&lt;/span&gt; --add notifications.slack.rooms -r MaxdSre/maxdsre.github.io
no .travis.yml found
root@a24abf051547:/# touch .travis.yml
root@a24abf051547:/# travis encrypt &lt;span class=&#34;s2&#34;&gt;&amp;#34;maxdsre:ne18Xpc5RbzM1hIdd34nN2aE&amp;#34;&lt;/span&gt; --add notifications.slack.rooms -r MaxdSre/maxdsre.github.io
root@a24abf051547:/# cat .travis.yml
notifications:
  slack:
    rooms:
      secure: o5TEEslShhI5AGKaVMbV5bPT7Hkh/lQkqd2T76fXfgXVGpxGWY+rQmijyh4hm7APKzOwxw64J/L7rTVKlW14QlCXe4ff8+diooG365g6j9h8esuXpJhRDtP72SrPHkAOwo8loX72DR7uazRUYSs0AOGwmYHyctLnhNOmWPVkp3ISAK9unEOIZ0UJ7381rZVWTiVReAVrbpe5jlX3nSbBdineKVar+511BHO+eKTU28AlCFgUSG3isvV1dUhZZfHHUaOx3ApzZAmx7GYDBIIqcfZ6r5x1PmZIDjnH3v4TvxRhUpAp6L5IGbpqhAps5dg73nZfzJz4+bM4ruMRBo9PDfgVbA+9zMpN8/yBL6E/OS2u045TJ491n8PE/+GoajMCzijuoKgHjTzWyVhIV9dEmVOpjOZL9rv6R1mqKoUwbV8rs8WjqciBlfoC6WwZOAWTcXok5RIMmSQ94oBZEtGSmTtALS5D0D7uCuHJt2Nz+GhrKbuwM/eSRYUwyWvNJdqSTbFnEJp27AhP5hxHrzg7uEv9cablPNf1NTFquZJH/ROUf0nKqsVZOJMQElRdcr37Es4tSg6WTKYs4XIeh1R9Yjws53KLOv2phTvFzhGPmycgPrADhHVnGoWtePyNCwASc+x7HQJQoUM6Y2i9AVruHN3XmsXq7dSIu3srqPy2lRw&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;
root@a24abf051547:/#&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Error info&lt;/p&gt;

&lt;p&gt;GitHub repo name&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Can&amp;rsquo;t figure out GitHub repo name. Ensure you&amp;rsquo;re in the repo directory, or specify the repo name via the -r option (e.g. travis &lt;command&gt; -r &lt;owner&gt;/&lt;repo&gt;)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;.travis.yml&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;no .travis.yml found&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;token &lt;code&gt;maxdsre:ne18Xpc5RbzM1hIdd34nN2aE&lt;/code&gt; 經&lt;code&gt;travis&lt;/code&gt;加密後生成的字符串爲&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-txt&#34; data-lang=&#34;txt&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-txt&#34; data-lang=&#34;txt&#34;&gt;o5TEEslShhI5AGKaVMbV5bPT7Hkh/lQkqd2T76fXfgXVGpxGWY&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;rQmijyh4hm7APKzOwxw64J/L7rTVKlW14QlCXe4ff8&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;diooG365g6j9h8esuXpJhRDtP72SrPHkAOwo8loX72DR7uazRUYSs0AOGwmYHyctLnhNOmWPVkp3ISAK9unEOIZ0UJ7381rZVWTiVReAVrbpe5jlX3nSbBdineKVar&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;511&lt;/span&gt;BHO&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;eKTU28AlCFgUSG3isvV1dUhZZfHHUaOx3ApzZAmx7GYDBIIqcfZ6r5x1PmZIDjnH3v4TvxRhUpAp6L5IGbpqhAps5dg73nZfzJz4&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;bM4ruMRBo9PDfgVbA&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;9&lt;/span&gt;zMpN8/yBL6E/OS2u045TJ491n8PE/&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;GoajMCzijuoKgHjTzWyVhIV9dEmVOpjOZL9rv6R1mqKoUwbV8rs8WjqciBlfoC6WwZOAWTcXok5RIMmSQ94oBZEtGSmTtALS5D0D7uCuHJt2Nz&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;GhrKbuwM/eSRYUwyWvNJdqSTbFnEJp27AhP5hxHrzg7uEv9cablPNf1NTFquZJH/ROUf0nKqsVZOJMQElRdcr37Es4tSg6WTKYs4XIeh1R9Yjws53KLOv2phTvFzhGPmycgPrADhHVnGoWtePyNCwASc&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;x7HQJQoUM6Y2i9AVruHN3XmsXq7dSIu3srqPy2lRw&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;travis-yml&#34;&gt;.travis.yml&lt;/h2&gt;

&lt;p&gt;Refering to official document &lt;a href=&#34;https://docs.travis-ci.com/user/notifications#Configuring-Slack-notifications&#34;&gt;Configuring Build Notifications&lt;/a&gt;, configuring directive &lt;code&gt;notifications&lt;/code&gt; in file &lt;code&gt;.travis.yml&lt;/code&gt; which is saved in the root dir of project &lt;code&gt;MaxdSre/maxdsre.github.io&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yml&#34; data-lang=&#34;yml&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yml&#34; data-lang=&#34;yml&#34;&gt;notifications&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;email&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# default notification method&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;slack&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;rooms&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;-&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;secure&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;o5TEEslShhI5AGKaVMbV5bPT7Hkh/lQkqd2T76fXfgXVGpxGWY+rQmijyh4hm7APKzOwxw64J/L7rTVKlW14QlCXe4ff8+diooG365g6j9h8esuXpJhRDtP72SrPHkAOwo8loX72DR7uazRUYSs0AOGwmYHyctLnhNOmWPVkp3ISAK9unEOIZ0UJ7381rZVWTiVReAVrbpe5jlX3nSbBdineKVar+511BHO+eKTU28AlCFgUSG3isvV1dUhZZfHHUaOx3ApzZAmx7GYDBIIqcfZ6r5x1PmZIDjnH3v4TvxRhUpAp6L5IGbpqhAps5dg73nZfzJz4+bM4ruMRBo9PDfgVbA+9zMpN8/yBL6E/OS2u045TJ491n8PE/+GoajMCzijuoKgHjTzWyVhIV9dEmVOpjOZL9rv6R1mqKoUwbV8rs8WjqciBlfoC6WwZOAWTcXok5RIMmSQ94oBZEtGSmTtALS5D0D7uCuHJt2Nz+GhrKbuwM/eSRYUwyWvNJdqSTbFnEJp27AhP5hxHrzg7uEv9cablPNf1NTFquZJH/ROUf0nKqsVZOJMQElRdcr37Es4tSg6WTKYs4XIeh1R9Yjws53KLOv2phTvFzhGPmycgPrADhHVnGoWtePyNCwASc+x7HQJQoUM6Y2i9AVruHN3XmsXq7dSIu3srqPy2lRw=&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;on_success&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;always&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# change: send a notification when the build status changes.&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;on_failure&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;always&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# always: always send a notification.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&#34;template&#34;&gt;Template&lt;/h3&gt;

&lt;p&gt;Default message template&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# push
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;- &lt;span class=&#34;s2&#34;&gt;&amp;#34;Build &amp;lt;%{build_url}|#%{build_number}&amp;gt; (&amp;lt;%{compare_url}|%{commit}&amp;gt;) of %{repository_slug}@%{branch} by %{author} %{result} in %{duration}&amp;#34;&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# pull
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;- &lt;span class=&#34;s2&#34;&gt;&amp;#34;Build &amp;lt;%{build_url}|#%{build_number}&amp;gt; (&amp;lt;%{compare_url}|%{commit}&amp;gt;) of %{repository_slug}@%{branch} in PR &amp;lt;%{pull_request_url}|#%{pull_request_number}&amp;gt; by %{author} %{result} in %{duration}&amp;#34;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;custom template, the final format&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;notifications:
  email: false    # default notification method
  slack:
    rooms:
      - secure: BwlcaZ7keVQyKFxqT5DMKXQAhT9SY+w4WzDh4Y1kVFHa6LvuALpSIElfeVwCWnIbEjDgLCoZBfcYPqEuhmIG2K4TF25bNZYNrkDIulN51cEgvfT6gW2vt+0VLulnQPtGpz0hLV0MNNgegG3znT8Nz6/F31iGpKUykZsZZXX9cUkycQESxIKn9Gu66Sggv/WAjQ24dmxZp5f9yhYY06hteCqycmYglplukJCB0j4vMn9oSzFGQizKv8tQeiKzPotzpoj26pSC/HU3C+YEz0FiZVY9eXcdq2hs2zPoHW/PAZ9kL9tj5YatN/IDSP/i54CRdlm/ZfUeZxQn1vtFlV1XiWp2iYXJ5C8m6TIX9hptvf3EEQWHwztJ0qv3RFx8bTZAyJBssLcDYp3sjfYeJQ79cefMP4kQpaqO4xk7oHrSTQx8kw7l9atnymbNLzFgR74WEZFUwOrPtLHq1V2fax/pReAqNTZyIuxak9Spa7buTiQJ6NifnkrQA6/rVgeAQBZXmgQkc8uJZlLibRXGc+pvdLb+cqU/zOuM+k6JSSUwagRvXbUjJIbB9IO64CgcuDpnjAv58R0nY7fAhU8b+2PVxmRUhFom2OZ1NLOdLH3yrBfrthxmtcPMZJemGm7rLYAVYbKhtZYpyfddzumkOgzv1zSo4srN1x6lFhGxsSO7UxI=
    on_success: always  # change: send a notification when the build status changes.
    on_failure: always  # always: always send a notification.
    template:
      - &amp;#34;Repo `%{repository_slug}` *%{result}* build (&amp;lt;%{build_url}|#%{build_number}&amp;gt;) for commit (&amp;lt;%{compare_url}|%{commit}&amp;gt;) on branch `%{branch}`.&amp;#34;
      - &amp;#34;Execution time: *%{duration}*&amp;#34;
      - &amp;#34;Message: %{message}&amp;#34;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;testing&#34;&gt;Testing&lt;/h2&gt;

&lt;p&gt;Committing codes to GitHub after file &lt;code&gt;.travis.yml&lt;/code&gt; is modified.&lt;/p&gt;

&lt;p&gt;Travis CI build info&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-18_slack_notification_in_travis_ci/2018-04-18_14-54-57.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Slack notification&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-18_slack_notification_in_travis_ci/2018-04-18_14-54-26.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Build fail notification&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-18_slack_notification_in_travis_ci/2018-04-18_16-03-24.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Build success notification&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-18_slack_notification_in_travis_ci/2018-04-18_16-13-33.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;change-log&#34;&gt;Change Log&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;2018.04.18 16:07 Tue America/Boston

&lt;ul&gt;
&lt;li&gt;first draft&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- End --&gt;</description>
      
    </item>
    
    <item>
      <title>爲集成了Travis CI的GitHub項目配置Slack信息推送</title>
      <link>/2018/setting-up-slack-build-notification-in-travis-ci-for-github-project/</link>
      <pubDate>Wed, 18 Apr 2018 13:31:34 -0400</pubDate>
      
      <guid>/2018/setting-up-slack-build-notification-in-travis-ci-for-github-project/</guid>
      
        <description>&lt;p&gt;&lt;a href=&#34;https://travis-ci.org&#34; title=&#34;Test and Deploy with Confidence&#34;&gt;Travis CI&lt;/a&gt;默認通過郵件發送構建信息，&lt;a href=&#34;https://travis-ci.org&#34; title=&#34;Test and Deploy with Confidence&#34;&gt;Travis CI&lt;/a&gt;也支持通過其它方式發送信息，如&lt;a href=&#34;https://slack.com&#34; title=&#34;Where work happens&#34;&gt;Slack&lt;/a&gt;。本文記錄如何已集成&lt;a href=&#34;https://travis-ci.org&#34; title=&#34;Test and Deploy with Confidence&#34;&gt;Travis CI&lt;/a&gt;的&lt;a href=&#34;https://github.com&#34;&gt;GitHub&lt;/a&gt;項目配置&lt;a href=&#34;https://slack.com&#34; title=&#34;Where work happens&#34;&gt;Slack&lt;/a&gt;信息推送。&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;本文以個人Blog &lt;a href=&#34;https://axdlog.com&#34;&gt;&lt;strong&gt;AxdLog&lt;/strong&gt;&lt;/a&gt; 爲操作示例&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;item&lt;/th&gt;
&lt;th&gt;details&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;repo&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://github.com/MaxdSre/maxdsre.github.io&#34;&gt;MaxdSre/maxdsre.github.io&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;channel&lt;/td&gt;
&lt;td&gt;github_axdlog&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&#34;官方文檔&#34;&gt;官方文檔&lt;/h2&gt;

&lt;p&gt;以下爲&lt;a href=&#34;https://travis-ci.org&#34; title=&#34;Test and Deploy with Confidence&#34;&gt;Travis CI&lt;/a&gt;官方文檔&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://docs.travis-ci.com/user/notifications#Configuring-Slack-notifications&#34;&gt;Configuring Build Notifications&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://docs.travis-ci.com/user/encryption-keys/&#34;&gt;Encryption keys&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://api.slack.com/docs/message-formatting&#34;&gt;Configuring Build Notifications&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;slack&#34;&gt;Slack&lt;/h2&gt;

&lt;p&gt;此處不涉及&lt;a href=&#34;https://slack.com&#34; title=&#34;Where work happens&#34;&gt;Slack&lt;/a&gt;的帳號註冊，點擊鏈接 &lt;a href=&#34;https://slack.com/signin&#34;&gt;https://slack.com/signin&lt;/a&gt; 進入登錄頁面。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-18_slack_notification_in_travis_ci/2018-04-18_13-51-02.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;輸入用戶名、密碼&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-18_slack_notification_in_travis_ci/2018-04-18_13-53-07.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;創建頻道&#34;&gt;創建頻道&lt;/h3&gt;

&lt;p&gt;點擊窗口左側的&lt;code&gt;Channel&lt;/code&gt;或其後的&lt;code&gt;+&lt;/code&gt;創建新的channel(頻道)&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-18_slack_notification_in_travis_ci/2018-04-18_13-57-07.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;此處命名爲&lt;code&gt;github_axdlog&lt;/code&gt;並設置爲私有&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-18_slack_notification_in_travis_ci/2018-04-18_14-13-38.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;新創建的頻道&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-18_slack_notification_in_travis_ci/2018-04-18_14-13-58.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;生成-token&#34;&gt;生成 Token&lt;/h3&gt;

&lt;p&gt;點擊鏈接 &lt;a href=&#34;https://my.slack.com/services/new/travis&#34;&gt;https://my.slack.com/services/new/travis&lt;/a&gt; 進入設置&lt;a href=&#34;https://travis-ci.org&#34; title=&#34;Test and Deploy with Confidence&#34;&gt;Travis CI&lt;/a&gt;的頁面，在下拉列表框中選擇目標頻道，此處爲&lt;code&gt;github_axdlog&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-18_slack_notification_in_travis_ci/2018-04-18_14-14-38.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;生成的token爲&lt;code&gt;maxdsre:ne18Xpc5RbzM1hIdd34nN2aE&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-18_slack_notification_in_travis_ci/2018-04-18_14-15-34.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;頁面其它信息&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-18_slack_notification_in_travis_ci/2018-04-18_14-15-52.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-18_slack_notification_in_travis_ci/2018-04-18_14-16-04.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-18_slack_notification_in_travis_ci/2018-04-18_14-16-16.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;頁面&lt;code&gt;Encrypting your credentials&lt;/code&gt;部分有一段話&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Your integration token is semi-secret, but we recommend &lt;a href=&#34;http://docs.travis-ci.com/user/encryption-keys/&#34;&gt;encrypting your credentials&lt;/a&gt; using the &lt;a href=&#34;https://github.com/travis-ci/travis#readme&#34;&gt;Travis command line client&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;憑證加密&#34;&gt;憑證加密&lt;/h3&gt;

&lt;p&gt;按照說明文檔並未能成功安裝&lt;code&gt;travis&lt;/code&gt;，後通過&lt;a href=&#34;https://www.docker.com&#34; title=&#34;Docker&#34;&gt;Docker&lt;/a&gt;容器實現token的加密操作。&lt;a href=&#34;https://www.docker.com&#34; title=&#34;Docker&#34;&gt;Docker&lt;/a&gt;的介紹、安裝和配置，可參考本人Blog &lt;a href=&#34;/2017/installing-and-configuring-docker-community-edition-ce-on-gnu-linux/&#34;&gt;在GNU/Linux中安裝Docker CE（社區版）全記錄&lt;/a&gt;。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker pull ruby
docker run -ti --rm ruby bash&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;容器啓動後，執行如下命令&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 安裝 travis
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;gem install travis

touch .travis.yml
travis encrypt &lt;span class=&#34;s2&#34;&gt;&amp;#34;maxdsre:ne18Xpc5RbzM1hIdd34nN2aE&amp;#34;&lt;/span&gt; --add notifications.slack.rooms -r MaxdSre/maxdsre.github.io
cat .travis.yml&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;操作過程&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;root@a24abf051547:/# travis --version
Shell completion not installed. Would you like to install it now? &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;y&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; y
&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;.8.8
root@a24abf051547:/# travis encrypt &lt;span class=&#34;s2&#34;&gt;&amp;#34;maxdsre:ne18Xpc5RbzM1hIdd34nN2aE&amp;#34;&lt;/span&gt; --add notifications.slack.rooms
Can&lt;span class=&#34;s1&#34;&gt;&amp;#39;t figure out GitHub repo name. Ensure you&amp;#39;&lt;/span&gt;re in the repo directory, or specify the repo name via the -r option &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;e.g. travis &amp;lt;command&amp;gt; -r &amp;lt;owner&amp;gt;/&amp;lt;repo&amp;gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
root@a24abf051547:/# travis encrypt &lt;span class=&#34;s2&#34;&gt;&amp;#34;maxdsre:ne18Xpc5RbzM1hIdd34nN2aE&amp;#34;&lt;/span&gt; --add notifications.slack.rooms -r MaxdSre/maxdsre.github.io
no .travis.yml found
root@a24abf051547:/# touch .travis.yml
root@a24abf051547:/# travis encrypt &lt;span class=&#34;s2&#34;&gt;&amp;#34;maxdsre:ne18Xpc5RbzM1hIdd34nN2aE&amp;#34;&lt;/span&gt; --add notifications.slack.rooms -r MaxdSre/maxdsre.github.io
root@a24abf051547:/# cat .travis.yml
notifications:
  slack:
    rooms:
      secure: o5TEEslShhI5AGKaVMbV5bPT7Hkh/lQkqd2T76fXfgXVGpxGWY+rQmijyh4hm7APKzOwxw64J/L7rTVKlW14QlCXe4ff8+diooG365g6j9h8esuXpJhRDtP72SrPHkAOwo8loX72DR7uazRUYSs0AOGwmYHyctLnhNOmWPVkp3ISAK9unEOIZ0UJ7381rZVWTiVReAVrbpe5jlX3nSbBdineKVar+511BHO+eKTU28AlCFgUSG3isvV1dUhZZfHHUaOx3ApzZAmx7GYDBIIqcfZ6r5x1PmZIDjnH3v4TvxRhUpAp6L5IGbpqhAps5dg73nZfzJz4+bM4ruMRBo9PDfgVbA+9zMpN8/yBL6E/OS2u045TJ491n8PE/+GoajMCzijuoKgHjTzWyVhIV9dEmVOpjOZL9rv6R1mqKoUwbV8rs8WjqciBlfoC6WwZOAWTcXok5RIMmSQ94oBZEtGSmTtALS5D0D7uCuHJt2Nz+GhrKbuwM/eSRYUwyWvNJdqSTbFnEJp27AhP5hxHrzg7uEv9cablPNf1NTFquZJH/ROUf0nKqsVZOJMQElRdcr37Es4tSg6WTKYs4XIeh1R9Yjws53KLOv2phTvFzhGPmycgPrADhHVnGoWtePyNCwASc+x7HQJQoUM6Y2i9AVruHN3XmsXq7dSIu3srqPy2lRw&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;
root@a24abf051547:/#&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;注意報錯信息&lt;/p&gt;

&lt;p&gt;GitHub repo name&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Can&amp;rsquo;t figure out GitHub repo name. Ensure you&amp;rsquo;re in the repo directory, or specify the repo name via the -r option (e.g. travis &lt;command&gt; -r &lt;owner&gt;/&lt;repo&gt;)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;.travis.yml&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;no .travis.yml found&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;token &lt;code&gt;maxdsre:ne18Xpc5RbzM1hIdd34nN2aE&lt;/code&gt; 經&lt;code&gt;travis&lt;/code&gt;加密後生成的字符串爲&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-txt&#34; data-lang=&#34;txt&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-txt&#34; data-lang=&#34;txt&#34;&gt;o5TEEslShhI5AGKaVMbV5bPT7Hkh/lQkqd2T76fXfgXVGpxGWY&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;rQmijyh4hm7APKzOwxw64J/L7rTVKlW14QlCXe4ff8&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;diooG365g6j9h8esuXpJhRDtP72SrPHkAOwo8loX72DR7uazRUYSs0AOGwmYHyctLnhNOmWPVkp3ISAK9unEOIZ0UJ7381rZVWTiVReAVrbpe5jlX3nSbBdineKVar&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;511&lt;/span&gt;BHO&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;eKTU28AlCFgUSG3isvV1dUhZZfHHUaOx3ApzZAmx7GYDBIIqcfZ6r5x1PmZIDjnH3v4TvxRhUpAp6L5IGbpqhAps5dg73nZfzJz4&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;bM4ruMRBo9PDfgVbA&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;9&lt;/span&gt;zMpN8/yBL6E/OS2u045TJ491n8PE/&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;GoajMCzijuoKgHjTzWyVhIV9dEmVOpjOZL9rv6R1mqKoUwbV8rs8WjqciBlfoC6WwZOAWTcXok5RIMmSQ94oBZEtGSmTtALS5D0D7uCuHJt2Nz&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;GhrKbuwM/eSRYUwyWvNJdqSTbFnEJp27AhP5hxHrzg7uEv9cablPNf1NTFquZJH/ROUf0nKqsVZOJMQElRdcr37Es4tSg6WTKYs4XIeh1R9Yjws53KLOv2phTvFzhGPmycgPrADhHVnGoWtePyNCwASc&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;x7HQJQoUM6Y2i9AVruHN3XmsXq7dSIu3srqPy2lRw&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;travis-yml&#34;&gt;.travis.yml&lt;/h2&gt;

&lt;p&gt;根據官方文檔 &lt;a href=&#34;https://docs.travis-ci.com/user/notifications#Configuring-Slack-notifications&#34;&gt;Configuring Build Notifications&lt;/a&gt; 在文件&lt;code&gt;.travis.yml&lt;/code&gt;中配置&lt;code&gt;notifications&lt;/code&gt;指令（文件存放在項目&lt;code&gt;MaxdSre/maxdsre.github.io&lt;/code&gt;的根目錄下）。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yml&#34; data-lang=&#34;yml&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yml&#34; data-lang=&#34;yml&#34;&gt;notifications&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;email&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# default notification method&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;slack&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;rooms&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;-&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;secure&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;o5TEEslShhI5AGKaVMbV5bPT7Hkh/lQkqd2T76fXfgXVGpxGWY+rQmijyh4hm7APKzOwxw64J/L7rTVKlW14QlCXe4ff8+diooG365g6j9h8esuXpJhRDtP72SrPHkAOwo8loX72DR7uazRUYSs0AOGwmYHyctLnhNOmWPVkp3ISAK9unEOIZ0UJ7381rZVWTiVReAVrbpe5jlX3nSbBdineKVar+511BHO+eKTU28AlCFgUSG3isvV1dUhZZfHHUaOx3ApzZAmx7GYDBIIqcfZ6r5x1PmZIDjnH3v4TvxRhUpAp6L5IGbpqhAps5dg73nZfzJz4+bM4ruMRBo9PDfgVbA+9zMpN8/yBL6E/OS2u045TJ491n8PE/+GoajMCzijuoKgHjTzWyVhIV9dEmVOpjOZL9rv6R1mqKoUwbV8rs8WjqciBlfoC6WwZOAWTcXok5RIMmSQ94oBZEtGSmTtALS5D0D7uCuHJt2Nz+GhrKbuwM/eSRYUwyWvNJdqSTbFnEJp27AhP5hxHrzg7uEv9cablPNf1NTFquZJH/ROUf0nKqsVZOJMQElRdcr37Es4tSg6WTKYs4XIeh1R9Yjws53KLOv2phTvFzhGPmycgPrADhHVnGoWtePyNCwASc+x7HQJQoUM6Y2i9AVruHN3XmsXq7dSIu3srqPy2lRw=&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;on_success&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;always&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# change: send a notification when the build status changes.&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;on_failure&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;always&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# always: always send a notification.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&#34;消息模板&#34;&gt;消息模板&lt;/h3&gt;

&lt;p&gt;默認消息模板爲&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# push
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;- &lt;span class=&#34;s2&#34;&gt;&amp;#34;Build &amp;lt;%{build_url}|#%{build_number}&amp;gt; (&amp;lt;%{compare_url}|%{commit}&amp;gt;) of %{repository_slug}@%{branch} by %{author} %{result} in %{duration}&amp;#34;&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# pull
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;- &lt;span class=&#34;s2&#34;&gt;&amp;#34;Build &amp;lt;%{build_url}|#%{build_number}&amp;gt; (&amp;lt;%{compare_url}|%{commit}&amp;gt;) of %{repository_slug}@%{branch} in PR &amp;lt;%{pull_request_url}|#%{pull_request_number}&amp;gt; by %{author} %{result} in %{duration}&amp;#34;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;此處進行自定義，最終的格式如下&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;notifications:
  email: false    # default notification method
  slack:
    rooms:
      - secure: BwlcaZ7keVQyKFxqT5DMKXQAhT9SY+w4WzDh4Y1kVFHa6LvuALpSIElfeVwCWnIbEjDgLCoZBfcYPqEuhmIG2K4TF25bNZYNrkDIulN51cEgvfT6gW2vt+0VLulnQPtGpz0hLV0MNNgegG3znT8Nz6/F31iGpKUykZsZZXX9cUkycQESxIKn9Gu66Sggv/WAjQ24dmxZp5f9yhYY06hteCqycmYglplukJCB0j4vMn9oSzFGQizKv8tQeiKzPotzpoj26pSC/HU3C+YEz0FiZVY9eXcdq2hs2zPoHW/PAZ9kL9tj5YatN/IDSP/i54CRdlm/ZfUeZxQn1vtFlV1XiWp2iYXJ5C8m6TIX9hptvf3EEQWHwztJ0qv3RFx8bTZAyJBssLcDYp3sjfYeJQ79cefMP4kQpaqO4xk7oHrSTQx8kw7l9atnymbNLzFgR74WEZFUwOrPtLHq1V2fax/pReAqNTZyIuxak9Spa7buTiQJ6NifnkrQA6/rVgeAQBZXmgQkc8uJZlLibRXGc+pvdLb+cqU/zOuM+k6JSSUwagRvXbUjJIbB9IO64CgcuDpnjAv58R0nY7fAhU8b+2PVxmRUhFom2OZ1NLOdLH3yrBfrthxmtcPMZJemGm7rLYAVYbKhtZYpyfddzumkOgzv1zSo4srN1x6lFhGxsSO7UxI=
    on_success: always  # change: send a notification when the build status changes.
    on_failure: always  # always: always send a notification.
    template:
      - &amp;#34;Repo `%{repository_slug}` *%{result}* build (&amp;lt;%{build_url}|#%{build_number}&amp;gt;) for commit (&amp;lt;%{compare_url}|%{commit}&amp;gt;) on branch `%{branch}`.&amp;#34;
      - &amp;#34;Execution time: *%{duration}*&amp;#34;
      - &amp;#34;Message: %{message}&amp;#34;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;測試&#34;&gt;測試&lt;/h2&gt;

&lt;p&gt;修改&lt;code&gt;.travis.yml&lt;/code&gt;後，將修改後代碼提交到GitHub，測試配置是否成果。&lt;/p&gt;

&lt;p&gt;Travis CI 構建信息&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-18_slack_notification_in_travis_ci/2018-04-18_14-54-57.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;推送信息測試&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-18_slack_notification_in_travis_ci/2018-04-18_14-54-26.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;構建失敗信息&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-18_slack_notification_in_travis_ci/2018-04-18_16-03-24.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;構建成功信息&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-18_slack_notification_in_travis_ci/2018-04-18_16-13-33.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;更新日誌&#34;&gt;更新日誌&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;2018.04.18 16:07 Tue America/Boston

&lt;ul&gt;
&lt;li&gt;初稿完成&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- End --&gt;</description>
      
    </item>
    
    <item>
      <title>Using Cloudflare Free SSL In GitHub Pages With Custom Domain</title>
      <link>/2018/using-cloudflare-free-ssl-in-github-pages-with-custom-domain/</link>
      <pubDate>Wed, 11 Apr 2018 15:16:42 -0400</pubDate>
      
      <guid>/2018/using-cloudflare-free-ssl-in-github-pages-with-custom-domain/</guid>
      
        <description>&lt;p&gt;I have succeed in migrating my blog from &lt;a href=&#34;https://hexo.io&#34; title=&#34;A fast, simple &amp;amp; powerful blog framework&#34;&gt;Hexo&lt;/a&gt; to &lt;a href=&#34;https://gohugo.io&#34; title=&#34;The world’s fastest framework for building websites&#34;&gt;Hugo&lt;/a&gt; platform, new domain is &lt;a href=&#34;https://axdlog.com&#34;&gt;&lt;strong&gt;AxdLog&lt;/strong&gt;&lt;/a&gt;. As &lt;a href=&#34;https://pages.github.com&#34; title=&#34;Hosted directly from your GitHub repository. Just edit, push, and your changes are live.&#34;&gt;Github Pages&lt;/a&gt; doesn&amp;rsquo;t provide SSL certificate for custom domain, so I need to deploy it separately. &lt;a href=&#34;https://www.cloudflare.com&#34;&gt;CloudFlare&lt;/a&gt; provides free SSL certificate, and it has the ability of anti-ddos.&lt;/p&gt;

&lt;p&gt;This article documents how to configure
&lt;a href=&#34;https://www.cloudflare.com&#34;&gt;CloudFlare&lt;/a&gt; free SSL certificate in &lt;a href=&#34;https://pages.github.com&#34; title=&#34;Hosted directly from your GitHub repository. Just edit, push, and your changes are live.&#34;&gt;Github Pages&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;h2 id=&#34;configure-cloudflare&#34;&gt;Configure Cloudflare&lt;/h2&gt;

&lt;p&gt;Registering &lt;a href=&#34;https://www.cloudflare.com&#34;&gt;CloudFlare&lt;/a&gt; account, if you have one, just login.&lt;/p&gt;

&lt;h3 id=&#34;add-websites&#34;&gt;Add Websites&lt;/h3&gt;

&lt;p&gt;If you&amp;rsquo;re a new registered user. It will show a page &lt;strong&gt;Add your site&lt;/strong&gt;. Inputing the target domain, here I input &lt;code&gt;axdlog.com&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-11_cloudflare_free_ssl/2018-04-11_14-17-14_add_site.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Clicking button &lt;code&gt;Add site&lt;/code&gt;, it shows page &lt;strong&gt;We&amp;rsquo;re querying your DNS records&lt;/strong&gt;:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-11_cloudflare_free_ssl/2018-04-11_14-18-08_query_dns_records.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Clicking button &lt;code&gt;Next&lt;/code&gt;, it shows page &lt;strong&gt;Select a Plan&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The following is price list:&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;left&#34;&gt;type&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;price&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;Free Website&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;$0/mon&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;Pro Website&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;$20/mon&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;Business Website&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;$200/mon&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;Enterprise&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Get in touch&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-11_cloudflare_free_ssl/2018-04-11_14-18-26_select_plan.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;It is recommended that you choose  plan &lt;code&gt;Pro&lt;/code&gt; or &lt;code&gt;Business&lt;/code&gt; if you have the ability to pay. The benefits are more functions and support the development of &lt;a href=&#34;https://www.cloudflare.com&#34;&gt;Cloudflare&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Here I choose &lt;code&gt;Free Website&lt;/code&gt;, clicking button &lt;code&gt;Confirm Plan&lt;/code&gt;, it show page &lt;strong&gt;DNS query results&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-11_cloudflare_free_ssl/2018-04-11_14-18-52_dns_query_result.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;add-dns-records&#34;&gt;Add DNS Records&lt;/h3&gt;

&lt;p&gt;It list all currently existed DNS records of your domain. Deleteing all existed records, creating 2 new records.&lt;/p&gt;

&lt;p&gt;The following are my DNS records:&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;left&#34;&gt;Type&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Name&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Value&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;TTL&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Status&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;&lt;strong&gt;CNAME&lt;/strong&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;axdlog.com&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;maxdsre.github.io&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Automatic&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;On CloudFlare&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;&lt;strong&gt;CNAME&lt;/strong&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;www&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;maxdsre.github.io&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Automatic&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;On CloudFlare&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-11_cloudflare_free_ssl/2018-04-11_14-23-30_dns_records_setting.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Once operation is completely, it shows page &lt;strong&gt;Change your Nameservers&lt;/strong&gt;.&lt;/p&gt;

&lt;h3 id=&#34;change-your-nameservers&#34;&gt;Change Your Nameservers&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://www.cloudflare.com&#34;&gt;CloudFlare&lt;/a&gt; provides 2 DNS address:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;dina.ns.cloudflare.com&lt;/li&gt;
&lt;li&gt;roan.ns.cloudflare.com&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-11_cloudflare_free_ssl/2018-04-11_14-24-23_change_nameserver.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;The domain registrar of my domain is &lt;a href=&#34;https://www.namecheap.com/&#34;&gt;Namecheap&lt;/a&gt;, selecting target domain in &lt;code&gt;Domain List&lt;/code&gt;, choosing &lt;code&gt;custom dns&lt;/code&gt; in &lt;code&gt;NAMESERVERS&lt;/code&gt; section, add the 2 DNS address into the input field.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-11_cloudflare_free_ssl/2018-04-11_14-26-23_change_nameserver.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Once operation is finished, it will return to page &lt;strong&gt;Change your Nameservers&lt;/strong&gt;, clicking button &lt;code&gt;Continue&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id=&#34;update-nameservers&#34;&gt;Update Nameservers&lt;/h3&gt;

&lt;p&gt;The page shows:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Status: Website not active (DNS modification pending)&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Please ensure your website is using the nameservers provided:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;brianna.ns.cloudflare.com&lt;/li&gt;
&lt;li&gt;kurt.ns.cloudflare.com&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Allow up to 24 hours for this change to be processed. There will be no downtime when you switch your name servers. Traffic will gracefully roll from your old name servers to the new name servers without interruption. Your site will remain available throughout the switch&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-11_cloudflare_free_ssl/2018-04-11_14-27-22_panel_overview.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;If you are finished changing &lt;code&gt;Nameservers&lt;/code&gt; at domain registrar, client the button &lt;code&gt;Recheck Nameservers&lt;/code&gt; at the right of the page. It will check it the configuration is active. It will takes a while to take effect, just be patient.&lt;/p&gt;

&lt;p&gt;It it is passed, the state of &lt;strong&gt;&lt;code&gt;Status: Pending&lt;/code&gt;&lt;/strong&gt; will be changed to &lt;strong&gt;&lt;code&gt;Status: Active&lt;/code&gt;&lt;/strong&gt;, showing &lt;code&gt;This website is active on CloudFlare.&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-11_cloudflare_free_ssl/2018-04-11_14-28-57_check_status_result.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;crypto&#34;&gt;Crypto&lt;/h3&gt;

&lt;blockquote&gt;
&lt;p&gt;Manage Cryptography settings for your website.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Return to the top of the page, clicking icon &lt;code&gt;Cryptos&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;code&gt;SSL&lt;/code&gt;&lt;/strong&gt; has 4 choices: &lt;code&gt;Off&lt;/code&gt;、&lt;code&gt;Flexible&lt;/code&gt;、&lt;code&gt;Full&lt;/code&gt;、&lt;code&gt;Strict&lt;/code&gt;. If you wanna view the explanation, just clicking the following &lt;code&gt;Help&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Commonly choosing &lt;code&gt;Flexible&lt;/code&gt;, I choose &lt;code&gt;Full&lt;/code&gt; referenced by &lt;a href=&#34;https://zaicheng.me/2016/01/02/hexo-blog-with-custom-domain-and-cloudflare/#Setup_github_pages_CNAME_record&#34;&gt;Set up cloudflare&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Next setting up &lt;code&gt;HTTP Strict Transport Security (HSTS)&lt;/code&gt;, clicking &lt;code&gt;Enable HSTS&lt;/code&gt;, choosing &lt;code&gt;I understand&lt;/code&gt;, then clicking &lt;code&gt;Nest step&lt;/code&gt;, enabling the  following 2 settings:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Apply HSTS policy to subdomains (includeSubDomains)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;No-Sniff Header&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Clicking &lt;code&gt;Save&lt;/code&gt; to exit.&lt;/p&gt;

&lt;p&gt;You can optimize other functions according to personal needs.&lt;/p&gt;

&lt;h2 id=&#34;configuring-hugo&#34;&gt;Configuring Hugo&lt;/h2&gt;

&lt;p&gt;Setting operation in &lt;a href=&#34;https://gohugo.io&#34; title=&#34;The world’s fastest framework for building websites&#34;&gt;Hugo&lt;/a&gt; is simpler then &lt;a href=&#34;https://hexo.io&#34; title=&#34;A fast, simple &amp;amp; powerful blog framework&#34;&gt;Hexo&lt;/a&gt;. What you need to do is just add a file named &lt;code&gt;CNAME&lt;/code&gt; into the branch &lt;code&gt;master&lt;/code&gt; of repo (maxdsre.github.io). Adding the custom domain name into the file, here the content is &lt;code&gt;axdlog.com&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Due to it is integrated deploying through &lt;a href=&#34;https://travis-ci.org&#34; title=&#34;Test and Deploy with Confidence&#34;&gt;Travis CI&lt;/a&gt;, I just need to add a new line in config file &lt;code&gt;.travis.yml&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yml&#34; data-lang=&#34;yml&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yml&#34; data-lang=&#34;yml&#34;&gt;script&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;-&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;hugo&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# new line&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;-&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;echo&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;axdlog.com&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;sd&#34;&gt;&amp;gt; public/CNAME&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;test-in-browser&#34;&gt;Test in Browser&lt;/h2&gt;

&lt;p&gt;Testing in browser, it redirects to &lt;code&gt;https&lt;/code&gt; successfully and shows green padlock icon. It is approved in &lt;code&gt;Google Chrome&lt;/code&gt; and &lt;code&gt;Mozilla Firefox&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;It took me at least 5 hours to configure SSL in &lt;a href=&#34;https://hexo.io&#34; title=&#34;A fast, simple &amp;amp; powerful blog framework&#34;&gt;Hexo&lt;/a&gt;. But now the total operation is less then half an hour.&lt;/p&gt;

&lt;h2 id=&#34;references&#34;&gt;References&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://sheharyar.me/blog/free-ssl-for-github-pages-with-custom-domains/&#34;&gt;Set Up SSL on Github Pages With Custom Domains for Free&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.goyllo.com/github/pages/free-cloudflare-ssl-for-custom-domain/&#34;&gt;How To Add Free Cloudflare SSL in Github Pages with Custom Domain?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://zaicheng.me/2016/01/02/hexo-blog-with-custom-domain-and-cloudflare/&#34;&gt;Hexo blog with custom domain and cloudflare&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;change-log&#34;&gt;Change Log&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;2018.04.11 16:05 Wed America/Boston

&lt;ul&gt;
&lt;li&gt;first draft&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;</description>
      
    </item>
    
    <item>
      <title>爲GitHub Pages配置Cloudflare的免費SSL數字證書</title>
      <link>/2018/using-cloudflare-free-ssl-in-github-pages-with-custom-domain/</link>
      <pubDate>Wed, 11 Apr 2018 15:16:42 -0400</pubDate>
      
      <guid>/2018/using-cloudflare-free-ssl-in-github-pages-with-custom-domain/</guid>
      
        <description>&lt;p&gt;Blog已成功從&lt;a href=&#34;https://hexo.io&#34; title=&#34;A fast, simple &amp;amp; powerful blog framework&#34;&gt;Hexo&lt;/a&gt;遷移到&lt;a href=&#34;https://gohugo.io&#34; title=&#34;The world’s fastest framework for building websites&#34;&gt;Hugo&lt;/a&gt;，新域名&lt;a href=&#34;https://axdlog.com&#34;&gt;&lt;strong&gt;AxdLog&lt;/strong&gt;&lt;/a&gt;。由於&lt;a href=&#34;https://pages.github.com&#34; title=&#34;Hosted directly from your GitHub repository. Just edit, push, and your changes are live.&#34;&gt;Github Pages&lt;/a&gt;對自有域名不提供SSL證書，故須額外部署。&lt;a href=&#34;https://www.cloudflare.com&#34;&gt;CloudFlare&lt;/a&gt;提供免費的SSL證書，並且提供防DDOS攻擊功能。&lt;/p&gt;

&lt;p&gt;本文記錄如何配置並使用&lt;a href=&#34;https://www.cloudflare.com&#34;&gt;CloudFlare&lt;/a&gt;的SSL證書。&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;h2 id=&#34;配置-cloudflare&#34;&gt;配置 Cloudflare&lt;/h2&gt;

&lt;p&gt;須先註冊&lt;a href=&#34;https://www.cloudflare.com&#34;&gt;CloudFlare&lt;/a&gt;帳號，若已經有，直接登入。&lt;/p&gt;

&lt;h3 id=&#34;添加站點&#34;&gt;添加站點&lt;/h3&gt;

&lt;p&gt;若是新註冊用戶，登入後，出現 &lt;strong&gt;Add your site&lt;/strong&gt; 頁面，輸入需要配置的域名。此處輸入&lt;code&gt;axdlog.com&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-11_cloudflare_free_ssl/2018-04-11_14-17-14_add_site.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;點擊&lt;code&gt;Add site&lt;/code&gt;按鈕後，出現 &lt;strong&gt;We&amp;rsquo;re querying your DNS records&lt;/strong&gt; 頁面&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-11_cloudflare_free_ssl/2018-04-11_14-18-08_query_dns_records.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;點擊&lt;code&gt;Next&lt;/code&gt;按鈕，出現 &lt;strong&gt;Select a Plan&lt;/strong&gt; 頁面。&lt;/p&gt;

&lt;h3 id=&#34;選擇cloudflare套餐&#34;&gt;選擇CloudFlare套餐&lt;/h3&gt;

&lt;p&gt;套餐價格如下&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;left&#34;&gt;type&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;price&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;Free Website&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;$0/mon&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;Pro Website&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;$20/mon&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;Business Website&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;$200/mon&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;Enterprise&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Get in touch&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-11_cloudflare_free_ssl/2018-04-11_14-18-26_select_plan.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;建議有經濟能力的選擇&lt;code&gt;Pro&lt;/code&gt;或&lt;code&gt;Business&lt;/code&gt;套餐，一是功能更多，二也算支持&lt;a href=&#34;https://www.cloudflare.com&#34;&gt;Cloudflare&lt;/a&gt;發展。此處，選擇&lt;code&gt;Free Website&lt;/code&gt;，點擊按鈕&lt;code&gt;Confirm Plan&lt;/code&gt;，出現 &lt;strong&gt;DNS query results&lt;/strong&gt; 頁面&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-11_cloudflare_free_ssl/2018-04-11_14-18-52_dns_query_result.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;添加dns記錄&#34;&gt;添加DNS記錄&lt;/h3&gt;

&lt;p&gt;顯示該域名當前的DNS記錄，刪除所有已有的記錄，新建2個&lt;code&gt;CNAME&lt;/code&gt;記錄。&lt;/p&gt;

&lt;p&gt;以下是本人的DNS Records&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;left&#34;&gt;Type&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Name&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Value&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;TTL&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Status&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;&lt;strong&gt;CNAME&lt;/strong&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;axdlog.com&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;maxdsre.github.io&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Automatic&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;On CloudFlare&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;&lt;strong&gt;CNAME&lt;/strong&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;www&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;maxdsre.github.io&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;Automatic&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;On CloudFlare&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-11_cloudflare_free_ssl/2018-04-11_14-23-30_dns_records_setting.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;操作完成後，出現 &lt;strong&gt;Change your Nameservers&lt;/strong&gt; 頁面&lt;/p&gt;

&lt;h3 id=&#34;更換-nameservers&#34;&gt;更換 Nameservers&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://www.cloudflare.com&#34;&gt;CloudFlare&lt;/a&gt;提供了2組DNS地址&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;dina.ns.cloudflare.com&lt;/li&gt;
&lt;li&gt;roan.ns.cloudflare.com&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-11_cloudflare_free_ssl/2018-04-11_14-24-23_change_nameserver.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;本人的域名註冊商是&lt;a href=&#34;https://www.namecheap.com/&#34;&gt;Namecheap&lt;/a&gt;，在&lt;code&gt;Domain List&lt;/code&gt;中選擇目標域名，在&lt;code&gt;NAMESERVERS&lt;/code&gt;中選擇&lt;code&gt;custom dns&lt;/code&gt;，將&lt;a href=&#34;https://www.cloudflare.com&#34;&gt;CloudFlare&lt;/a&gt;提供的2組DNS地址添加進去。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-11_cloudflare_free_ssl/2018-04-11_14-26-23_change_nameserver.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;操作完成後，返回&lt;a href=&#34;https://www.cloudflare.com&#34;&gt;CloudFlare&lt;/a&gt;的 &lt;strong&gt;Change your Nameservers&lt;/strong&gt; 頁面，點擊&lt;code&gt;Continue&lt;/code&gt;按鈕。&lt;/p&gt;

&lt;h3 id=&#34;更新-nameservers&#34;&gt;更新 Nameservers&lt;/h3&gt;

&lt;p&gt;頁面顯示如下信息&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Status: Website not active (DNS modification pending)&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Please ensure your website is using the nameservers provided:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;brianna.ns.cloudflare.com&lt;/li&gt;
&lt;li&gt;kurt.ns.cloudflare.com&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Allow up to 24 hours for this change to be processed. There will be no downtime when you switch your name servers. Traffic will gracefully roll from your old name servers to the new name servers without interruption. Your site will remain available throughout the switch&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-11_cloudflare_free_ssl/2018-04-11_14-27-22_panel_overview.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;當在域名提供商處修改好&lt;code&gt;Nameservers&lt;/code&gt;後，可點擊右側的&lt;code&gt;Recheck Nameservers&lt;/code&gt;檢測是否生效。此處請耐心等待，域名解析需要等一段時間才能生效。&lt;/p&gt;

&lt;p&gt;如果檢測通過，則 &lt;strong&gt;&lt;code&gt;Status: Pending&lt;/code&gt;&lt;/strong&gt; 會變成 &lt;strong&gt;&lt;code&gt;Status: Active&lt;/code&gt;&lt;/strong&gt;，並提示&lt;code&gt;This website is active on CloudFlare.&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-11_cloudflare_free_ssl/2018-04-11_14-28-57_check_status_result.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;crypto-配置&#34;&gt;Crypto 配置&lt;/h3&gt;

&lt;blockquote&gt;
&lt;p&gt;Manage Cryptography settings for your website.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;返回頁面頂部，有&lt;code&gt;Cryptos&lt;/code&gt;圖標點擊進入。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;code&gt;SSL&lt;/code&gt;&lt;/strong&gt; 選項有四種選擇&lt;code&gt;Off&lt;/code&gt;、&lt;code&gt;Flexible&lt;/code&gt;、&lt;code&gt;Full&lt;/code&gt;、&lt;code&gt;Strict&lt;/code&gt;，點擊下方的&lt;code&gt;Help&lt;/code&gt;，可查看相關解釋說明。&lt;/p&gt;

&lt;p&gt;查閱的參考教程大都推薦&lt;code&gt;Flexible&lt;/code&gt;，而本人則參考&lt;a href=&#34;https://zaicheng.me/2016/01/02/hexo-blog-with-custom-domain-and-cloudflare/#Setup_github_pages_CNAME_record&#34;&gt;Set up cloudflare&lt;/a&gt;，選擇&lt;code&gt;Full&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;接下來設置&lt;code&gt;HTTP Strict Transport Security (HSTS)&lt;/code&gt;，點擊其右側的&lt;code&gt;Enable HSTS&lt;/code&gt;進入，勾選&lt;code&gt;I understand&lt;/code&gt;，點擊&lt;code&gt;Nest step&lt;/code&gt;，開啓如下兩項&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Apply HSTS policy to subdomains (includeSubDomains)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;No-Sniff Header&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;點擊&lt;code&gt;Save&lt;/code&gt;保存退出。&lt;/p&gt;

&lt;p&gt;其餘的功能，可自行設置。&lt;/p&gt;

&lt;h2 id=&#34;配置-hugo&#34;&gt;配置 Hugo&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://gohugo.io&#34; title=&#34;The world’s fastest framework for building websites&#34;&gt;Hugo&lt;/a&gt;的設置要比&lt;a href=&#34;https://hexo.io&#34; title=&#34;A fast, simple &amp;amp; powerful blog framework&#34;&gt;Hexo&lt;/a&gt;簡單，只需在repo(maxdsre.github.io)的&lt;code&gt;master&lt;/code&gt;分支中添加名爲&lt;code&gt;CNAME&lt;/code&gt;的文件即可。將自有域名地址寫入該文件，此處寫入&lt;code&gt;axdlog.com&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;因爲是通過&lt;a href=&#34;https://travis-ci.org&#34; title=&#34;Test and Deploy with Confidence&#34;&gt;Travis CI&lt;/a&gt;進行集成部署，故而只需在&lt;code&gt;.travis.yml&lt;/code&gt;文件添加一行設置。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yml&#34; data-lang=&#34;yml&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yml&#34; data-lang=&#34;yml&#34;&gt;script&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;-&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;hugo&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# 添加行&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;-&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;echo&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;axdlog.com&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;sd&#34;&gt;&amp;gt; public/CNAME&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;測試&#34;&gt;測試&lt;/h2&gt;

&lt;p&gt;在瀏覽器中測試，能正常跳轉到&lt;code&gt;https&lt;/code&gt;，並顯示綠色小鎖。在&lt;code&gt;Google Chrome&lt;/code&gt;和&lt;code&gt;Mozilla Firefox&lt;/code&gt;上測試通過。&lt;/p&gt;

&lt;p&gt;當初爲&lt;a href=&#34;https://hexo.io&#34; title=&#34;A fast, simple &amp;amp; powerful blog framework&#34;&gt;Hexo&lt;/a&gt;配置SSL證書耗費了5個多小時，而現在整個過程不超過半個小時。&lt;/p&gt;

&lt;h2 id=&#34;參考資料&#34;&gt;參考資料&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://sheharyar.me/blog/free-ssl-for-github-pages-with-custom-domains/&#34;&gt;Set Up SSL on Github Pages With Custom Domains for Free&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.goyllo.com/github/pages/free-cloudflare-ssl-for-custom-domain/&#34;&gt;How To Add Free Cloudflare SSL in Github Pages with Custom Domain?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://zaicheng.me/2016/01/02/hexo-blog-with-custom-domain-and-cloudflare/&#34;&gt;Hexo blog with custom domain and cloudflare&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;更新日誌&#34;&gt;更新日誌&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;2018.04.11 16:05 Wed America/Boston

&lt;ul&gt;
&lt;li&gt;初稿完成&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;</description>
      
    </item>
    
    <item>
      <title>Using Hugo and Travis CI To Deploy Blog To Github Pages Automatically</title>
      <link>/2018/using-hugo-and-travis-ci-to-deploy-blog-to-github-pages-automatically/</link>
      <pubDate>Wed, 11 Apr 2018 00:20:07 -0400</pubDate>
      
      <guid>/2018/using-hugo-and-travis-ci-to-deploy-blog-to-github-pages-automatically/</guid>
      
        <description>&lt;p&gt;My personal static blog is hosted on &lt;a href=&#34;https://github.com&#34;&gt;Github&lt;/a&gt;. I used &lt;a href=&#34;https://hexo.io&#34; title=&#34;A fast, simple &amp;amp; powerful blog framework&#34;&gt;Hexo&lt;/a&gt; before, but as its complicated package dependence and cumbersome deployment process, I have to encapsulated the whole deploying environment into Docker image for rapid deployment. But it was still too complex. Now I switch to &lt;a href=&#34;https://gohugo.io&#34; title=&#34;The world’s fastest framework for building websites&#34;&gt;Hugo&lt;/a&gt; which is faster, simpler.&lt;/p&gt;

&lt;p&gt;This article documents how to automatically synchronize blog contents generated by &lt;a href=&#34;https://gohugo.io&#34; title=&#34;The world’s fastest framework for building websites&#34;&gt;Hugo&lt;/a&gt; to &lt;a href=&#34;https://github.com&#34;&gt;Github&lt;/a&gt; through &lt;a href=&#34;https://travis-ci.org&#34; title=&#34;Test and Deploy with Confidence&#34;&gt;Travis CI&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Attention&lt;/strong&gt;: The following operation process will not involve account registration, Git configuration.&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;h2 id=&#34;prerequisite&#34;&gt;Prerequisite&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;Registering a &lt;a href=&#34;https://github.com&#34;&gt;Github&lt;/a&gt; account;&lt;/li&gt;
&lt;li&gt;Registering a &lt;a href=&#34;https://travis-ci.org&#34; title=&#34;Test and Deploy with Confidence&#34;&gt;Travis CI&lt;/a&gt; account (login with Github account);&lt;/li&gt;
&lt;li&gt;Installing &lt;code&gt;git&lt;/code&gt;, &lt;code&gt;hugo&lt;/code&gt; in your system;&lt;/li&gt;
&lt;li&gt;Personal domain (optional, here my domain is &lt;code&gt;axdlog.com&lt;/code&gt;);&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&#34;official-docs&#34;&gt;Official Docs&lt;/h2&gt;

&lt;p&gt;The relevant operations in this document are based on the official document as the operation credentials:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Github

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://help.github.com/categories/github-pages-basics/&#34;&gt;GitHub Pages Basics&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://help.github.com/articles/user-organization-and-project-pages/&#34;&gt;User, Organization, and Project Pages&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://help.github.com/articles/creating-project-pages-using-the-command-line/&#34;&gt;Creating Project Pages using the command line&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://help.github.com/articles/configuring-a-publishing-source-for-github-pages/&#34;&gt;Configuring a publishing source for GitHub Pages&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Hugo

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://gohugo.io/hosting-and-deployment/hosting-on-github/&#34;&gt;Host on GitHub&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Travis CI

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://docs.travis-ci.com/user/deployment/pages/&#34; title=&#34;Travis CI - GitHub Pages Deployment&#34;&gt;GitHub Pages Deployment&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://docs.travis-ci.com/user/languages/python/&#34;&gt;Building a Python Project&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://docs.travis-ci.com/user/best-practices-security/&#34;&gt;Best Practices in Securing Your Data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://docs.travis-ci.com/user/customizing-the-build/&#34;&gt;Customizing the Build&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;hugo-installation&#34;&gt;Hugo Installation&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Github url: &lt;a href=&#34;https://github.com/gohugoio/hugo&#34;&gt;https://github.com/gohugoio/hugo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Downloading page: &lt;a href=&#34;https://github.com/gohugoio/hugo/releases&#34;&gt;https://github.com/gohugoio/hugo/releases&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Release Info API:  &lt;a href=&#34;https://api.github.com/repos/gohugoio/hugo/releases/latest&#34;&gt;https://api.github.com/repos/gohugoio/hugo/releases/latest&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href=&#34;https://gohugo.io/getting-started/installing/&#34;&gt;Install Hugo&lt;/a&gt; is the official installation document of &lt;a href=&#34;https://gohugo.io&#34; title=&#34;The world’s fastest framework for building websites&#34;&gt;Hugo&lt;/a&gt;. If you&amp;rsquo;re using GNU/Linux, you may consider using my &lt;a href=&#34;https://github.com/MaxdSre/Python-learning-quiz/blob/master/LearningQuiz/Hugo-StaticSiteGeneratorInstallation.ipynb&#34;&gt;Python script&lt;/a&gt; to install it.&lt;/p&gt;

&lt;p&gt;Current release version info&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# which hugo
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;/usr/local/bin/hugo

&lt;span class=&#34;c1&#34;&gt;# hugo version
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;Hugo Static Site Generator v0.38.2 linux/amd64 BuildDate: &lt;span class=&#34;m&#34;&gt;2018&lt;/span&gt;-04-09T08:17:17Z&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&#34;create-a-new-site&#34;&gt;Create A New Site&lt;/h3&gt;

&lt;p&gt;You can reference official document &lt;a href=&#34;https://gohugo.io/getting-started/&#34;&gt;Get Started&lt;/a&gt;、&lt;a href=&#34;https://gohugo.io/getting-started/quick-start/&#34;&gt;Quick Start&lt;/a&gt; to know how to create a new site through &lt;a href=&#34;https://gohugo.io&#34; title=&#34;The world’s fastest framework for building websites&#34;&gt;Hugo&lt;/a&gt;.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;If this is your first time using Hugo and you’ve &lt;a href=&#34;https://gohugo.io/getting-started/installing/&#34;&gt;already installed Hugo on your machine&lt;/a&gt;, we recommend the &lt;a href=&#34;https://gohugo.io/getting-started/quick-start/&#34;&gt;quick start&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Here I name the site to &lt;code&gt;quickstart&lt;/code&gt; (it is just the directory name, not the final site name).&lt;/p&gt;

&lt;p&gt;Generated directory structure by Hugo:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# tree -L 2
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;.
├── archetypes
│   └── default.md
├── config.toml
├── content
│   ├── about.md
│   └── post
├── data
├── layouts
├── static
└── themes
    └── even

&lt;span class=&#34;m&#34;&gt;8&lt;/span&gt; directories, &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt; files&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Attention&lt;/strong&gt;: These files are not the final blog contents, they are just used to generate the blog contents.&lt;/p&gt;

&lt;p&gt;Directory &lt;code&gt;content&lt;/code&gt; is used to store your blog file (Markdown file).&lt;/p&gt;

&lt;p&gt;If you wanna preview the final effect, just executing command &lt;code&gt;hugo server&lt;/code&gt; to set up a local server which is listening port &lt;code&gt;1313&lt;/code&gt;. And opening the link in your browser.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;Web Server is available at http://localhost:1313/ &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;bind&lt;/span&gt; address &lt;span class=&#34;m&#34;&gt;127&lt;/span&gt;.0.0.1&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
Press Ctrl+C to stop&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Executing command &lt;code&gt;hugo&lt;/code&gt; in your project directory, it will generate a directory named &lt;code&gt;public&lt;/code&gt;. This directory contains the final blog contents. What you need to do is push all the files in this directory to the branch &lt;code&gt;master&lt;/code&gt; of your GitHub repository.&lt;/p&gt;

&lt;p&gt;The demonstration process is as follows:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# hugo
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
                   &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; EN   
+------------------+-----+
  Pages            &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;426&lt;/span&gt;  
  Paginator pages  &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;  &lt;span class=&#34;m&#34;&gt;24&lt;/span&gt;  
  Non-page files   &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;  
  Static files     &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;  &lt;span class=&#34;m&#34;&gt;34&lt;/span&gt;  
  Processed images &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;  
  Aliases          &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;  &lt;span class=&#34;m&#34;&gt;95&lt;/span&gt;  
  Sitemaps         &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;  
  Cleaned          &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;  

Total in &lt;span class=&#34;m&#34;&gt;403&lt;/span&gt; ms

&lt;span class=&#34;c1&#34;&gt;# tree -L 1
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;.
├── archetypes
├── config.toml
├── content
├── data
├── layouts
├── public
├── static
└── themes

&lt;span class=&#34;m&#34;&gt;7&lt;/span&gt; directories, &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; file&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;github-repository-operation&#34;&gt;Github Repository Operation&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;Important&lt;/strong&gt;: The handling ideas and operations of this section are very important. Not involving Git setting procedure.&lt;/p&gt;

&lt;p&gt;If you use Github Page to host blog, you need to create a repository named &lt;code&gt;&amp;lt;username&amp;gt;.github.io&lt;/code&gt;. Then putting the files generated by Hugo to the branch &lt;code&gt;master&lt;/code&gt; of this repository.&lt;/p&gt;

&lt;p&gt;I create 2 branches via command &lt;code&gt;git checkout --orphan&lt;/code&gt; to store source files and blog contents in directory &lt;code&gt;public&lt;/code&gt; separately.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;branch &lt;code&gt;code&lt;/code&gt; stores source files;&lt;/li&gt;
&lt;li&gt;branch &lt;code&gt;master&lt;/code&gt; stores blog contents in directory &lt;code&gt;public&lt;/code&gt;;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Attention please, this method is different from official document &lt;a href=&#34;https://help.github.com/articles/configuring-a-publishing-source-for-github-pages/&#34;&gt;Configuring a publishing source for GitHub Pages&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&#34;create-empty-repository&#34;&gt;Create Empty Repository&lt;/h3&gt;

&lt;p&gt;My GitHub account is &lt;code&gt;MaxdSre&lt;/code&gt;, so I need to create a repository named &lt;code&gt;maxdsre.github.io&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;After creating the repository, it will prompts&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;or create a new repository on the command line&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;# maxdsre.github.io&amp;#34;&lt;/span&gt; &amp;gt;&amp;gt; README.md
git init
git add README.md
git commit -m &lt;span class=&#34;s2&#34;&gt;&amp;#34;first commit&amp;#34;&lt;/span&gt;
git remote add origin git@github.com:MaxdSre/maxdsre.github.io.git
git push -u origin master&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;or push an existing repository from the command line&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;git remote add origin git@github.com:MaxdSre/maxdsre.github.io.git
git push -u origin master&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&#34;pushing-repository&#34;&gt;Pushing Repository&lt;/h3&gt;

&lt;p&gt;There are 4 steps:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Initializing Git repository via command &lt;code&gt;git init&lt;/code&gt; in project directory;&lt;/li&gt;
&lt;li&gt;Creating branch &lt;code&gt;code&lt;/code&gt;, pushing source files to remote repository;&lt;/li&gt;
&lt;li&gt;Executing command &lt;code&gt;hugo&lt;/code&gt; to generate &lt;code&gt;public&lt;/code&gt; directory; Transferring all the files in this directory to another temporary directory, empty project directory, then move the files store in temporary directory back to project directory;&lt;/li&gt;
&lt;li&gt;Creating branch &lt;code&gt;master&lt;/code&gt; via command &lt;code&gt;git checkout --orphan&lt;/code&gt;, then pushing all files store in current directory to remote repository.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Entering the target directory (here is &lt;code&gt;/PATH/quickstart/&lt;/code&gt;), then executing the following commands in sequence.&lt;/p&gt;

&lt;h4 id=&#34;branch-code&#34;&gt;Branch code&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Initialized empty Git repository in /PATH/.git/
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;git init

&lt;span class=&#34;c1&#34;&gt;# Switched to a new branch &amp;#39;code&amp;#39;, equal to &amp;#39;git branch code &amp;amp;&amp;amp; git checkout code&amp;#39;
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;git checkout -b code

&lt;span class=&#34;c1&#34;&gt;# exclude dir public/
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;/public/&amp;#39;&lt;/span&gt; &amp;gt;&amp;gt; .gitignore
sed -r -i &lt;span class=&#34;s1&#34;&gt;&amp;#39;/^\/public\/$/{$!d}&amp;#39;&lt;/span&gt; .gitignore

&lt;span class=&#34;c1&#34;&gt;# Add file contents to the index
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;git add .

&lt;span class=&#34;c1&#34;&gt;# Show the working tree status
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;# git status
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# Record changes to the repository
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;git commit -m &lt;span class=&#34;s2&#34;&gt;&amp;#34;Hugo generator code&amp;#34;&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Manage set of tracked repositories
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;git remote add origin git@github.com:MaxdSre/maxdsre.github.io.git

&lt;span class=&#34;c1&#34;&gt;# Update remote refs along with associated objects to branch &amp;#39;code&amp;#39;
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;git push -u origin code&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h4 id=&#34;branch-master&#34;&gt;Branch master&lt;/h4&gt;

&lt;p&gt;Executing command &lt;code&gt;hugo&lt;/code&gt; in project directly to generate directly &lt;code&gt;public&lt;/code&gt;. If you wanna check the branch info of this repository, just executing command &lt;code&gt;git branch -a&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# execute command hugo
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;hugo

&lt;span class=&#34;c1&#34;&gt;# create temporary dir
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;HUGO_TEMP_DIR&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;mktemp -d&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;
cp -R public/* &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$HUGO_TEMP_DIR&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# create orphan branch &amp;#39;master&amp;#39;
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;git checkout --orphan master

&lt;span class=&#34;c1&#34;&gt;# empty current dir
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;rm .git/index
git clean -fdx

&lt;span class=&#34;c1&#34;&gt;# copy back contents in dir public/
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;cp -R &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$HUGO_TEMP_DIR&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;/. .

&lt;span class=&#34;c1&#34;&gt;# add, commit, push
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;git add .
&lt;span class=&#34;c1&#34;&gt;# git status
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;git commit -m &lt;span class=&#34;s1&#34;&gt;&amp;#39;initial blog content&amp;#39;&lt;/span&gt;
git push -u origin master

&lt;span class=&#34;c1&#34;&gt;# remove temp dir
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -d &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$HUGO_TEMP_DIR&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; rm -rf &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$HUGO_TEMP_DIR&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h4 id=&#34;branch-image&#34;&gt;Branch image&lt;/h4&gt;

&lt;p&gt;This section is optional. In order to store images in GitHub directly, I create the third branch &lt;code&gt;image&lt;/code&gt;. All images used in blog will be saved in this branch.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;git checkout --orphan image
rm .git/index
git clean -fdx

&lt;span class=&#34;c1&#34;&gt;# add content to this branch
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
git add .
git commit -m &lt;span class=&#34;s1&#34;&gt;&amp;#39;initial blog images&amp;#39;&lt;/span&gt;
git push -u origin image&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;travis-ci-configuration&#34;&gt;Travis CI Configuration&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://docs.travis-ci.com/user/deployment/pages/&#34; title=&#34;Travis CI - GitHub Pages Deployment&#34;&gt;GitHub Pages Deployment&lt;/a&gt; is the official document of &lt;a href=&#34;https://travis-ci.org&#34; title=&#34;Test and Deploy with Confidence&#34;&gt;Travis CI&lt;/a&gt;。&lt;/p&gt;

&lt;h3 id=&#34;github-access-token-generation&#34;&gt;Github Access Token Generation&lt;/h3&gt;

&lt;blockquote&gt;
&lt;p&gt;You’ll need to generate a &lt;a href=&#34;https://help.github.com/articles/creating-an-access-token-for-command-line-use/&#34;&gt;personal access token&lt;/a&gt; with the public_repo or repo scope (repo is required for private repositories). Since the token should be private, you’ll want to pass it to Travis securely in your &lt;a href=&#34;https://docs.travis-ci.com/user/environment-variables#Defining-Variables-in-Repository-Settings&#34;&gt;repository settings&lt;/a&gt; or via &lt;a href=&#34;https://docs.travis-ci.com/user/environment-variables#Defining-encrypted-variables-in-.travis.yml&#34;&gt;encrypted variables&lt;/a&gt; in .travis.yml.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Generating &lt;code&gt;personal access tokens&lt;/code&gt; in GitHub page &lt;a href=&#34;https://github.com/settings/tokens&#34;&gt;Developer settings&lt;/a&gt;. If it is a private repository, choose &lt;code&gt;repo&lt;/code&gt;. Otherwise, just choose &lt;code&gt;public_repo&lt;/code&gt;. Here I choose &lt;code&gt;public_repo&lt;/code&gt;, &lt;code&gt;repo:status&lt;/code&gt;, &lt;code&gt;repo_deployment&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;The length of the generated token is 40, please keep is private.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-10-go_travisci_github_page/2018-04-11_00-13-54-github-access-token.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;environment-variables-setting&#34;&gt;Environment Variables Setting&lt;/h3&gt;

&lt;p&gt;Generated &lt;code&gt;token&lt;/code&gt; is used in &lt;a href=&#34;https://travis-ci.org&#34; title=&#34;Test and Deploy with Confidence&#34;&gt;Travis CI&lt;/a&gt;, the page url of target repository in &lt;a href=&#34;https://travis-ci.org&#34; title=&#34;Test and Deploy with Confidence&#34;&gt;Travis CI&lt;/a&gt; is  &lt;a href=&#34;https://travis-ci.org/MaxdSre/maxdsre.github.io/settings&#34;&gt;https://travis-ci.org/MaxdSre/maxdsre.github.io/settings&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-10-go_travisci_github_page/2018-04-11_00-11-05-travisci-system-var-setting.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Don&amp;rsquo;t forget to check &lt;code&gt;Build only if .travis.yml is present&lt;/code&gt;, &lt;code&gt;Build pushed branches&lt;/code&gt;, &lt;code&gt;Build pushed pull requests&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-10-go_travisci_github_page/2018-04-11_00-10-39-travisci-general-setting.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;The default name of &lt;code&gt;token&lt;/code&gt; defined in official document &lt;a href=&#34;https://docs.travis-ci.com/user/deployment/pages/&#34; title=&#34;Travis CI - GitHub Pages Deployment&#34;&gt;GitHub Pages Deployment&lt;/a&gt; is &lt;code&gt;GITHUB_TOKEN&lt;/code&gt;, this document alse lists other directives.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Notice that the values are not escaped when your builds are executed. Special characters (for bash) should be escaped accordingly.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Defining variables, it will be used in file &lt;code&gt;.travis.yml&lt;/code&gt; latter.&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Environment Variables&lt;/th&gt;
&lt;th&gt;Value&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;GITHUB_USERNAME&lt;/td&gt;
&lt;td&gt;MaxdSre&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;GITHUB_EMAIL&lt;/td&gt;
&lt;td&gt;maxdsre@gmail.com&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;GITHUB_TOKEN&lt;/td&gt;
&lt;td&gt;75e8b72618ebf48df0b235cp4affd79e167b2489 (假設值)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&#34;travis-yml-directives&#34;&gt;.travis.yml directives&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://gohugo.io&#34; title=&#34;The world’s fastest framework for building websites&#34;&gt;Hugo&lt;/a&gt; is written by Golang. So I chose &lt;code&gt;language: go&lt;/code&gt; in &lt;code&gt;.travis.yml&lt;/code&gt; primitively, but the process of build Golang environment costed too much time (a few minutes). What worse is the container fail to install &lt;code&gt;hugo&lt;/code&gt;. I find someone use Python to deploy successfully, then chose Python as operation environment. As the containers of &lt;a href=&#34;https://travis-ci.org&#34; title=&#34;Test and Deploy with Confidence&#34;&gt;Travis CI&lt;/a&gt; is based on Ubuntu, I can use command &lt;code&gt;dpkg&lt;/code&gt;, &lt;code&gt;apt-get&lt;/code&gt;, but it needs &lt;code&gt;sudo&lt;/code&gt; privilege.&lt;/p&gt;

&lt;p&gt;Through repeated tests, the final code is as follow&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yml&#34; data-lang=&#34;yml&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yml&#34; data-lang=&#34;yml&#34;&gt;&lt;span class=&#34;c&#34;&gt;# https://docs.travis-ci.com/user/deployment/pages/&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# https://docs.travis-ci.com/user/languages/python/&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;language&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;python&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;python&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;-&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;3.6&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;install&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# install latest release version&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;-&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;wget&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;$(wget&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-qO-&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;https&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;//api.github.com/repos/gohugoio/hugo/releases/latest&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;sd&#34;&gt;| sed -r -n &amp;#39;/browser_download_url/{/Linux-64bit.deb/{s@[^:]*:[[:space:]]*&amp;#34;([^&amp;#34;]*)&amp;#34;.*@\1@g;p}}&amp;#39;)
&lt;/span&gt;&lt;span class=&#34;sd&#34;&gt;    - sudo dpkg -i hugo*.deb
&lt;/span&gt;&lt;span class=&#34;sd&#34;&gt;    - pip install Pygments
&lt;/span&gt;&lt;span class=&#34;sd&#34;&gt;    - rm -rf public 2&amp;gt; /dev/null&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;script&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;-&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;hugo&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;-&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;echo&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;axdlog.com&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;sd&#34;&gt;&amp;gt; public/CNAME&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;deploy&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;provider&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;pages&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;skip-cleanup&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;github-token&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;$GITHUB_TOKEN&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# Set in travis-ci.org dashboard, marked secure&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;email&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;$GITHUB_EMAIL&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;name&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;$GITHUB_USERNAME&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;verbose&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;keep-history&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;local-dir&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;public&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;target_branch&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;master&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# branch contains blog content&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;on&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;branch&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;code&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# branch contains Hugo generator code&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Writing it into file &lt;code&gt;.travis.yml&lt;/code&gt;, and push file &lt;code&gt;.travis.yml&lt;/code&gt; to the branch &lt;code&gt;code&lt;/code&gt; of remote repository.&lt;/p&gt;

&lt;h2 id=&#34;continuous-integration&#34;&gt;Continuous Integration&lt;/h2&gt;

&lt;p&gt;After all operations are finished. If you push your changed source file to branch &lt;code&gt;code&lt;/code&gt;. &lt;a href=&#34;https://travis-ci.org&#34; title=&#34;Test and Deploy with Confidence&#34;&gt;Travis CI&lt;/a&gt; will automatically execute directives defined in file &lt;code&gt;.travis.yml&lt;/code&gt;, then pushing the generated blog contents to branch &lt;code&gt;master&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-10-go_travisci_github_page/2018-04-11_00-35-56-travisci-deploy-status.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Deploying log&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-10-go_travisci_github_page/2018-04-11_00-36-29-travisci-deploy-log.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-10-go_travisci_github_page/2018-04-11_00-36-57-travisci-deploy-log.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;references&#34;&gt;References&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://jellis18.github.io/post/2017-12-03-continuous-integration-hugo/&#34;&gt;Continuous Integration of Hugo Website using Travis CI and Github&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/ldez/travis-continuous-delivery-hugo-deploy&#34;&gt;Travis continuous delivery&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://medium.com/zendesk-engineering/how-to-create-a-website-like-freshswift-net-using-hugo-travis-ci-and-github-pages-67be6f480298&#34;&gt;How to create a website like freshswift.net using Hugo, Travis CI, and GitHub Pages&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.leowkahman.com/2017/09/10/gitlab-ci-remove-priority-zero-from-hugo-sitemap/&#34;&gt;GitLab CI remove priority zero from Hugo sitemap&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;change-logs&#34;&gt;Change logs&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;2018-04-11 00:20 Wed America/Boston

&lt;ul&gt;
&lt;li&gt;first draft&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- End --&gt;</description>
      
    </item>
    
    <item>
      <title>利用Travis CI和Hugo將Blog自動部署到Github Pages</title>
      <link>/2018/using-hugo-and-travis-ci-to-deploy-blog-to-github-pages-automatically/</link>
      <pubDate>Wed, 11 Apr 2018 00:20:07 -0400</pubDate>
      
      <guid>/2018/using-hugo-and-travis-ci-to-deploy-blog-to-github-pages-automatically/</guid>
      
        <description>&lt;p&gt;個人Blog採用靜態Blog形式託管在&lt;a href=&#34;https://github.com&#34;&gt;Github&lt;/a&gt;上。此前使用的是&lt;a href=&#34;https://hexo.io&#34; title=&#34;A fast, simple &amp;amp; powerful blog framework&#34;&gt;Hexo&lt;/a&gt;，因其包依賴關係複雜，部署流程繁瑣，故將整個部署環境封裝到Docker鏡像中以實現快速部署，但仍較爲繁瑣。現轉用執行速度快、操作簡便的&lt;a href=&#34;https://gohugo.io&#34; title=&#34;The world’s fastest framework for building websites&#34;&gt;Hugo&lt;/a&gt;。本文記錄如何在GNU/Linux中通過&lt;a href=&#34;https://travis-ci.org&#34; title=&#34;Test and Deploy with Confidence&#34;&gt;Travis CI&lt;/a&gt;將&lt;a href=&#34;https://gohugo.io&#34; title=&#34;The world’s fastest framework for building websites&#34;&gt;Hugo&lt;/a&gt;生成的Blog內容自動同步到&lt;a href=&#34;https://github.com&#34;&gt;Github&lt;/a&gt;，實現持續集成、部署。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;注意&lt;/strong&gt;：本文旨在記錄關鍵操作，不涉及帳號註冊、Git安裝配置等過程。&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;h2 id=&#34;準備工作&#34;&gt;準備工作&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;在&lt;a href=&#34;https://github.com&#34;&gt;Github&lt;/a&gt;註冊帳號；&lt;/li&gt;
&lt;li&gt;在&lt;a href=&#34;https://travis-ci.org&#34; title=&#34;Test and Deploy with Confidence&#34;&gt;Travis CI&lt;/a&gt;註冊帳號(可通過Github帳號登入)；&lt;/li&gt;
&lt;li&gt;本地系統安裝&lt;code&gt;git&lt;/code&gt;，&lt;code&gt;hugo&lt;/code&gt;；&lt;/li&gt;
&lt;li&gt;個人域名(可選，此處指定域名&lt;code&gt;axdlog.com&lt;/code&gt;)；&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&#34;官方文檔&#34;&gt;官方文檔&lt;/h2&gt;

&lt;p&gt;本文中的相關操作皆以官方文檔爲操作憑據&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Github

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://help.github.com/categories/github-pages-basics/&#34;&gt;GitHub Pages Basics&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://help.github.com/articles/user-organization-and-project-pages/&#34;&gt;User, Organization, and Project Pages&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://help.github.com/articles/creating-project-pages-using-the-command-line/&#34;&gt;Creating Project Pages using the command line&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://help.github.com/articles/configuring-a-publishing-source-for-github-pages/&#34;&gt;Configuring a publishing source for GitHub Pages&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Hugo

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://gohugo.io/hosting-and-deployment/hosting-on-github/&#34;&gt;Host on GitHub&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Travis CI

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://docs.travis-ci.com/user/deployment/pages/&#34; title=&#34;Travis CI - GitHub Pages Deployment&#34;&gt;GitHub Pages Deployment&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://docs.travis-ci.com/user/languages/python/&#34;&gt;Building a Python Project&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://docs.travis-ci.com/user/best-practices-security/&#34;&gt;Best Practices in Securing Your Data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://docs.travis-ci.com/user/customizing-the-build/&#34;&gt;Customizing the Build&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;安裝-hugo&#34;&gt;安裝 Hugo&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Github 地址: &lt;a href=&#34;https://github.com/gohugoio/hugo&#34;&gt;https://github.com/gohugoio/hugo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;下載頁: &lt;a href=&#34;https://github.com/gohugoio/hugo/releases&#34;&gt;https://github.com/gohugoio/hugo/releases&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;版本信息API:  &lt;a href=&#34;https://api.github.com/repos/gohugoio/hugo/releases/latest&#34;&gt;https://api.github.com/repos/gohugoio/hugo/releases/latest&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href=&#34;https://gohugo.io&#34; title=&#34;The world’s fastest framework for building websites&#34;&gt;Hugo&lt;/a&gt;官方的安裝文檔頁&lt;a href=&#34;https://gohugo.io/getting-started/installing/&#34;&gt;Install Hugo&lt;/a&gt;，如果使用的是GNU/Linux，可考慮使用本人寫的&lt;a href=&#34;https://github.com/MaxdSre/Python-learning-quiz/blob/master/LearningQuiz/Hugo-StaticSiteGeneratorInstallation.ipynb&#34;&gt;Python script&lt;/a&gt;安裝。&lt;/p&gt;

&lt;p&gt;當前版本信息&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# which hugo
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;/usr/local/bin/hugo

&lt;span class=&#34;c1&#34;&gt;# hugo version
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;Hugo Static Site Generator v0.38.2 linux/amd64 BuildDate: &lt;span class=&#34;m&#34;&gt;2018&lt;/span&gt;-04-09T08:17:17Z&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&#34;創建新項目&#34;&gt;創建新項目&lt;/h3&gt;

&lt;p&gt;如何通過&lt;a href=&#34;https://gohugo.io&#34; title=&#34;The world’s fastest framework for building websites&#34;&gt;Hugo&lt;/a&gt;創建一個新的站點，詳見官方文檔 &lt;a href=&#34;https://gohugo.io/getting-started/&#34;&gt;Get Started&lt;/a&gt;、&lt;a href=&#34;https://gohugo.io/getting-started/quick-start/&#34;&gt;Quick Start&lt;/a&gt;。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;If this is your first time using Hugo and you’ve &lt;a href=&#34;https://gohugo.io/getting-started/installing/&#34;&gt;already installed Hugo on your machine&lt;/a&gt;, we recommend the &lt;a href=&#34;https://gohugo.io/getting-started/quick-start/&#34;&gt;quick start&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;此處且將站點名稱命名爲&lt;code&gt;quickstart&lt;/code&gt;(其實就是目錄名，不一定是最終的網站名稱)。&lt;/p&gt;

&lt;p&gt;Hugo生成的目錄結構如下&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# tree -L 2
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;.
├── archetypes
│   └── default.md
├── config.toml
├── content
│   ├── about.md
│   └── post
├── data
├── layouts
├── static
└── themes
    └── even

&lt;span class=&#34;m&#34;&gt;8&lt;/span&gt; directories, &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt; files&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;注意&lt;/strong&gt;：這些不是最終的Blog內容，是用於生成Blog內容的文件。&lt;/p&gt;

&lt;p&gt;目錄&lt;code&gt;content&lt;/code&gt;中存放自己需要發佈的Blog (Markdown文件)；&lt;/p&gt;

&lt;p&gt;如果要預覽Blog最終效果，可通過命令&lt;code&gt;hugo server&lt;/code&gt;在本地開啓一個Web服務器，端口號&lt;code&gt;1313&lt;/code&gt;，在瀏覽器中打開即可。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;Web Server is available at http://localhost:1313/ &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;bind&lt;/span&gt; address &lt;span class=&#34;m&#34;&gt;127&lt;/span&gt;.0.0.1&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
Press Ctrl+C to stop&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;在項目所在目錄中執行命令&lt;code&gt;hugo&lt;/code&gt;，會生成名爲&lt;code&gt;public&lt;/code&gt;的目錄，該目錄存放着最終的Blog內容文件。將&lt;code&gt;public&lt;/code&gt;目錄中的所有內容上傳至Github的&lt;code&gt;master&lt;/code&gt;分支中即可。&lt;/p&gt;

&lt;p&gt;演示過程如下&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# hugo
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
                   &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; EN   
+------------------+-----+
  Pages            &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;426&lt;/span&gt;  
  Paginator pages  &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;  &lt;span class=&#34;m&#34;&gt;24&lt;/span&gt;  
  Non-page files   &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;  
  Static files     &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;  &lt;span class=&#34;m&#34;&gt;34&lt;/span&gt;  
  Processed images &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;  
  Aliases          &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;  &lt;span class=&#34;m&#34;&gt;95&lt;/span&gt;  
  Sitemaps         &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;  
  Cleaned          &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;  

Total in &lt;span class=&#34;m&#34;&gt;403&lt;/span&gt; ms

&lt;span class=&#34;c1&#34;&gt;# tree -L 1
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;.
├── archetypes
├── config.toml
├── content
├── data
├── layouts
├── public
├── static
└── themes

&lt;span class=&#34;m&#34;&gt;7&lt;/span&gt; directories, &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; file&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;配置-github-倉庫&#34;&gt;配置 Github 倉庫&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;重要&lt;/strong&gt;：本部分的處理思路、操作非常重要，Git配置步驟省略。&lt;/p&gt;

&lt;p&gt;使用Github Page託管Blog內容，需要創建名爲&lt;code&gt;&amp;lt;username&amp;gt;.github.io&lt;/code&gt;的倉庫，並將Hugo生成的Blog內容提交到倉庫的&lt;code&gt;master&lt;/code&gt;中。&lt;/p&gt;

&lt;p&gt;因Hugo生成的內容分爲兩部分，源文件和&lt;code&gt;public&lt;/code&gt;目錄中的Blog內容。故通過&lt;code&gt;git checkout --orphan&lt;/code&gt;在同一倉庫中創建2個分支：&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;分支&lt;code&gt;code&lt;/code&gt;用於存放源文件；&lt;/li&gt;
&lt;li&gt;分支&lt;code&gt;master&lt;/code&gt;用於存放&lt;code&gt;public&lt;/code&gt;目錄中的Blog內容；&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;處理思路與官方文檔 &lt;a href=&#34;https://help.github.com/articles/configuring-a-publishing-source-for-github-pages/&#34;&gt;Configuring a publishing source for GitHub Pages&lt;/a&gt;不同，需要注意。&lt;/p&gt;

&lt;h3 id=&#34;創建空倉庫&#34;&gt;創建空倉庫&lt;/h3&gt;

&lt;p&gt;本人GitHub帳號名爲&lt;code&gt;MaxdSre&lt;/code&gt;，故創建倉庫&lt;code&gt;maxdsre.github.io&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;創建倉庫後，出現如下提示信息&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;or create a new repository on the command line&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;# maxdsre.github.io&amp;#34;&lt;/span&gt; &amp;gt;&amp;gt; README.md
git init
git add README.md
git commit -m &lt;span class=&#34;s2&#34;&gt;&amp;#34;first commit&amp;#34;&lt;/span&gt;
git remote add origin git@github.com:MaxdSre/maxdsre.github.io.git
git push -u origin master&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;or push an existing repository from the command line&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;git remote add origin git@github.com:MaxdSre/maxdsre.github.io.git
git push -u origin master&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&#34;分支操作&#34;&gt;分支操作&lt;/h3&gt;

&lt;p&gt;操作分爲4步：&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;初始化Git倉庫(&lt;code&gt;git init&lt;/code&gt;)；&lt;/li&gt;
&lt;li&gt;創建&lt;code&gt;code&lt;/code&gt;分支，提交源文件代碼到倉庫；&lt;/li&gt;
&lt;li&gt;在目標目錄中執行&lt;code&gt;hugo&lt;/code&gt;生成&lt;code&gt;public&lt;/code&gt;目錄，將&lt;code&gt;public&lt;/code&gt;目錄中內容轉移到臨時目錄中， 清空目標目錄，將臨時目錄中文件複製到該目錄中；&lt;/li&gt;
&lt;li&gt;通過命令&lt;code&gt;git checkout --orphan&lt;/code&gt;創建&lt;code&gt;master&lt;/code&gt;分支，將目錄中內容提交到倉庫。&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;進入目標目錄（此處爲&lt;code&gt;/PATH/quickstart/&lt;/code&gt;）後，順序執行如下操作命令&lt;/p&gt;

&lt;h4 id=&#34;code-分支&#34;&gt;code 分支&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Initialized empty Git repository in /PATH/.git/
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;git init

&lt;span class=&#34;c1&#34;&gt;# Switched to a new branch &amp;#39;code&amp;#39;, equal to &amp;#39;git branch code &amp;amp;&amp;amp; git checkout code&amp;#39;
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;git checkout -b code

&lt;span class=&#34;c1&#34;&gt;# exclude dir public/
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;/public/&amp;#39;&lt;/span&gt; &amp;gt;&amp;gt; .gitignore
sed -r -i &lt;span class=&#34;s1&#34;&gt;&amp;#39;/^\/public\/$/{$!d}&amp;#39;&lt;/span&gt; .gitignore

&lt;span class=&#34;c1&#34;&gt;# Add file contents to the index
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;git add .

&lt;span class=&#34;c1&#34;&gt;# Show the working tree status
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;# git status
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# Record changes to the repository
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;git commit -m &lt;span class=&#34;s2&#34;&gt;&amp;#34;Hugo generator code&amp;#34;&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Manage set of tracked repositories
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;git remote add origin git@github.com:MaxdSre/maxdsre.github.io.git

&lt;span class=&#34;c1&#34;&gt;# Update remote refs along with associated objects to branch &amp;#39;code&amp;#39;
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;git push -u origin code&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h4 id=&#34;master-分支&#34;&gt;master 分支&lt;/h4&gt;

&lt;p&gt;在目錄中執行&lt;code&gt;hugo&lt;/code&gt;生成&lt;code&gt;public&lt;/code&gt;目錄。通過命令&lt;code&gt;git branch -a&lt;/code&gt;可查看倉庫的分支信息。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# execute command hugo
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;hugo

&lt;span class=&#34;c1&#34;&gt;# create temporary dir
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;HUGO_TEMP_DIR&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;mktemp -d&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;
cp -R public/* &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$HUGO_TEMP_DIR&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# create orphan branch &amp;#39;master&amp;#39;
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;git checkout --orphan master

&lt;span class=&#34;c1&#34;&gt;# empty current dir
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;rm .git/index
git clean -fdx

&lt;span class=&#34;c1&#34;&gt;# copy back contents in dir public/
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;cp -R &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$HUGO_TEMP_DIR&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;/. .

&lt;span class=&#34;c1&#34;&gt;# add, commit, push
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;git add .
&lt;span class=&#34;c1&#34;&gt;# git status
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;git commit -m &lt;span class=&#34;s1&#34;&gt;&amp;#39;initial blog content&amp;#39;&lt;/span&gt;
git push -u origin master

&lt;span class=&#34;c1&#34;&gt;# remove temp dir
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -d &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$HUGO_TEMP_DIR&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; rm -rf &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$HUGO_TEMP_DIR&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h4 id=&#34;image-分支&#34;&gt;image 分支&lt;/h4&gt;

&lt;p&gt;此操作爲可選操作，本人創建第3個分支&lt;code&gt;image&lt;/code&gt;用作圖牀，本文中的圖片即存放在該分支中。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;git checkout --orphan image
rm .git/index
git clean -fdx

&lt;span class=&#34;c1&#34;&gt;# add content to this branch
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
git add .
git commit -m &lt;span class=&#34;s1&#34;&gt;&amp;#39;initial blog images&amp;#39;&lt;/span&gt;
git push -u origin image&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;travis-ci-配置&#34;&gt;Travis CI 配置&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://travis-ci.org&#34; title=&#34;Test and Deploy with Confidence&#34;&gt;Travis CI&lt;/a&gt;官方說明文檔 &lt;a href=&#34;https://docs.travis-ci.com/user/deployment/pages/&#34; title=&#34;Travis CI - GitHub Pages Deployment&#34;&gt;GitHub Pages Deployment&lt;/a&gt;。&lt;/p&gt;

&lt;h3 id=&#34;生成-github-訪問-token&#34;&gt;生成 Github 訪問 Token&lt;/h3&gt;

&lt;blockquote&gt;
&lt;p&gt;You’ll need to generate a &lt;a href=&#34;https://help.github.com/articles/creating-an-access-token-for-command-line-use/&#34;&gt;personal access token&lt;/a&gt; with the public_repo or repo scope (repo is required for private repositories). Since the token should be private, you’ll want to pass it to Travis securely in your &lt;a href=&#34;https://docs.travis-ci.com/user/environment-variables#Defining-Variables-in-Repository-Settings&#34;&gt;repository settings&lt;/a&gt; or via &lt;a href=&#34;https://docs.travis-ci.com/user/environment-variables#Defining-encrypted-variables-in-.travis.yml&#34;&gt;encrypted variables&lt;/a&gt; in .travis.yml.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;在Github的&lt;a href=&#34;https://github.com/settings/tokens&#34;&gt;Developer settings&lt;/a&gt;頁面中生成&lt;code&gt;personal access tokens&lt;/code&gt;，若是私有倉庫，勾選&lt;code&gt;repo&lt;/code&gt;；若是公開倉庫，勾選&lt;code&gt;public_repo&lt;/code&gt;。此處本人選擇了 &lt;code&gt;public_repo&lt;/code&gt;, &lt;code&gt;repo:status&lt;/code&gt;, &lt;code&gt;repo_deployment&lt;/code&gt;三項。&lt;/p&gt;

&lt;p&gt;生成的是長度爲&lt;code&gt;40&lt;/code&gt;的隨機字符串，注意請勿泄漏。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-10-go_travisci_github_page/2018-04-11_00-13-54-github-access-token.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;設置環境變量&#34;&gt;設置環境變量&lt;/h3&gt;

&lt;p&gt;生成的&lt;code&gt;token&lt;/code&gt;須在&lt;a href=&#34;https://travis-ci.org&#34; title=&#34;Test and Deploy with Confidence&#34;&gt;Travis CI&lt;/a&gt;的目標Repo中設置，頁面地址爲 &lt;a href=&#34;https://travis-ci.org/MaxdSre/maxdsre.github.io/settings&#34;&gt;https://travis-ci.org/MaxdSre/maxdsre.github.io/settings&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-10-go_travisci_github_page/2018-04-11_00-11-05-travisci-system-var-setting.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;確保&lt;code&gt;General&lt;/code&gt;中的&lt;code&gt;Build only if .travis.yml is present&lt;/code&gt;, &lt;code&gt;Build pushed branches&lt;/code&gt;, &lt;code&gt;Build pushed pull requests&lt;/code&gt;已啓用。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-10-go_travisci_github_page/2018-04-11_00-10-39-travisci-general-setting.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;官方文檔&lt;a href=&#34;https://docs.travis-ci.com/user/deployment/pages/&#34; title=&#34;Travis CI - GitHub Pages Deployment&#34;&gt;GitHub Pages Deployment&lt;/a&gt;定義的默認&lt;code&gt;token&lt;/code&gt;名爲&lt;code&gt;GITHUB_TOKEN&lt;/code&gt;，其它指令詳見文檔。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Notice that the values are not escaped when your builds are executed. Special characters (for bash) should be escaped accordingly.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;此處定義相關變量，稍後會寫入&lt;code&gt;.travis.yml&lt;/code&gt;文件。&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Environment Variables&lt;/th&gt;
&lt;th&gt;Value&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;GITHUB_USERNAME&lt;/td&gt;
&lt;td&gt;MaxdSre&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;GITHUB_EMAIL&lt;/td&gt;
&lt;td&gt;maxdsre@gmail.com&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;GITHUB_TOKEN&lt;/td&gt;
&lt;td&gt;75e8b72618ebf48df0b235cp4affd79e167b2489 (假設值)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&#34;travis-yml-指令&#34;&gt;.travis.yml 指令&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://gohugo.io&#34; title=&#34;The world’s fastest framework for building websites&#34;&gt;Hugo&lt;/a&gt;是用Golang構建的，故最開始在&lt;code&gt;.travis.yml&lt;/code&gt;中用&lt;code&gt;language: go&lt;/code&gt;，但&lt;a href=&#34;https://travis-ci.org&#34; title=&#34;Test and Deploy with Confidence&#34;&gt;Travis CI&lt;/a&gt;構建Golang環境耗時太長(數分鐘)，且出現&lt;code&gt;hugo&lt;/code&gt;安裝失敗的清空。看到他人教程中有用Python的，恰巧最近在學習Python，便選擇Python做爲構建環境。因&lt;a href=&#34;https://travis-ci.org&#34; title=&#34;Test and Deploy with Confidence&#34;&gt;Travis CI&lt;/a&gt;的容器環境是基於Ubuntu的，故可以使用&lt;code&gt;dpkg&lt;/code&gt;、&lt;code&gt;apt-get&lt;/code&gt;等命令，但需要添加&lt;code&gt;sudo&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;經過反復測試，最終指令如下&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yml&#34; data-lang=&#34;yml&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yml&#34; data-lang=&#34;yml&#34;&gt;&lt;span class=&#34;c&#34;&gt;# https://docs.travis-ci.com/user/deployment/pages/&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# https://docs.travis-ci.com/user/languages/python/&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;language&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;python&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;python&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;-&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;3.6&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;install&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# install latest release version&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;-&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;wget&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;$(wget&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-qO-&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;https&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;//api.github.com/repos/gohugoio/hugo/releases/latest&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;sd&#34;&gt;| sed -r -n &amp;#39;/browser_download_url/{/Linux-64bit.deb/{s@[^:]*:[[:space:]]*&amp;#34;([^&amp;#34;]*)&amp;#34;.*@\1@g;p}}&amp;#39;)
&lt;/span&gt;&lt;span class=&#34;sd&#34;&gt;    - sudo dpkg -i hugo*.deb
&lt;/span&gt;&lt;span class=&#34;sd&#34;&gt;    - pip install Pygments
&lt;/span&gt;&lt;span class=&#34;sd&#34;&gt;    - rm -rf public 2&amp;gt; /dev/null&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;script&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;-&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;hugo&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;-&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;echo&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;axdlog.com&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;sd&#34;&gt;&amp;gt; public/CNAME&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;deploy&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;provider&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;pages&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;skip-cleanup&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;github-token&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;$GITHUB_TOKEN&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# Set in travis-ci.org dashboard, marked secure&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;email&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;$GITHUB_EMAIL&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;name&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;$GITHUB_USERNAME&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;verbose&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;keep-history&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;local-dir&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;public&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;target_branch&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;master&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# branch contains blog content&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;on&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;branch&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;code&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# branch contains Hugo generator code&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;將指令寫入到文件&lt;code&gt;.travis.yml&lt;/code&gt;中，並將該&lt;code&gt;.travis.yml&lt;/code&gt;上傳至repo的&lt;code&gt;code&lt;/code&gt;分支中。&lt;/p&gt;

&lt;h2 id=&#34;持續集成&#34;&gt;持續集成&lt;/h2&gt;

&lt;p&gt;所有操作完成後，只需將需要發佈的Blog上傳到repo的&lt;code&gt;code&lt;/code&gt;分支中，&lt;a href=&#34;https://travis-ci.org&#34; title=&#34;Test and Deploy with Confidence&#34;&gt;Travis CI&lt;/a&gt;會自動進行部署操作，將更新的Blog內容更新到repo的&lt;code&gt;master&lt;/code&gt;分支中，實現Blog的持續集成，自動部署。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-10-go_travisci_github_page/2018-04-11_00-35-56-travisci-deploy-status.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;部署過程日誌&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-10-go_travisci_github_page/2018-04-11_00-36-29-travisci-deploy-log.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/MaxdSre/maxdsre.github.io/image/blog-image/2018-04-10-go_travisci_github_page/2018-04-11_00-36-57-travisci-deploy-log.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;參考資料&#34;&gt;參考資料&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://jellis18.github.io/post/2017-12-03-continuous-integration-hugo/&#34;&gt;Continuous Integration of Hugo Website using Travis CI and Github&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/ldez/travis-continuous-delivery-hugo-deploy&#34;&gt;Travis continuous delivery&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://medium.com/zendesk-engineering/how-to-create-a-website-like-freshswift-net-using-hugo-travis-ci-and-github-pages-67be6f480298&#34;&gt;How to create a website like freshswift.net using Hugo, Travis CI, and GitHub Pages&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.leowkahman.com/2017/09/10/gitlab-ci-remove-priority-zero-from-hugo-sitemap/&#34;&gt;GitLab CI remove priority zero from Hugo sitemap&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;更新日誌&#34;&gt;更新日誌&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;2018-04-11 00:20 Wed America/Boston

&lt;ul&gt;
&lt;li&gt;初稿完成&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- End --&gt;</description>
      
    </item>
    
    <item>
      <title>简介</title>
      <link>/about.zh/</link>
      <pubDate>Sun, 11 Mar 2018 11:32:12 +0800</pubDate>
      
      <guid>/about.zh/</guid>
      
        <description>

&lt;h2 id=&#34;簡介&#34;&gt;簡介&lt;/h2&gt;

&lt;h2 id=&#34;工作經歷&#34;&gt;工作經歷&lt;/h2&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;時間線&lt;/th&gt;
&lt;th&gt;經歷&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;!-- End --&gt;
</description>
      
    </item>
    
    <item>
      <title>Cleaning Text Data Which Delimiter Is Special Character Using Sed &amp; Awk</title>
      <link>/2018/cleaning-text-data-which-delimiter-is-special-character-using-sed-and-awk/</link>
      <pubDate>Fri, 09 Mar 2018 01:26:21 -0400</pubDate>
      
      <guid>/2018/cleaning-text-data-which-delimiter-is-special-character-using-sed-and-awk/</guid>
      
        <description>&lt;p&gt;需要對一份招聘相關的數據樣本(160多萬行)進行數據分析，妻子在用Python處理時出現報錯。經過分析,原因出在&lt;code&gt;分隔符&lt;/code&gt;、&lt;code&gt;換行符&lt;/code&gt;等特殊符號上，此外還有一條數據分散爲兩行的情況。本人通過對異常數據進行分析，整理出特殊情況類別，在GNU/Linux系統下用&lt;code&gt;sed&lt;/code&gt;和&lt;code&gt;awk&lt;/code&gt;對數據進行初步清洗，實現預期要求。&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;h2 id=&#34;analysis&#34;&gt;Analysis&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;數據樣本有近160多萬行，有11個字段;&lt;/li&gt;
&lt;li&gt;字段間分隔符爲製表空格符&lt;code&gt;\t&lt;/code&gt;(vim中通過&lt;code&gt;set list&lt;/code&gt;顯示爲&lt;code&gt;^I&lt;/code&gt;，可通過 &lt;em&gt;Ctrl+V+I&lt;/em&gt; 組合鍵輸出)；&lt;/li&gt;
&lt;li&gt;回車換行符&lt;code&gt;\r\n&lt;/code&gt;(vim中顯示爲&lt;code&gt;^M&lt;/code&gt;，可通過 &lt;em&gt;Ctrl+V+M&lt;/em&gt; 組合鍵輸出)，該字符後有斜線&lt;code&gt;\&lt;/code&gt;，表示後一行與該行本應該是一行，須將其合併爲一行；&lt;/li&gt;
&lt;li&gt;有多個&lt;code&gt;\^I&lt;/code&gt;連續在一起或夾雜在字符串中，經過分析，可將其視爲空格；&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;樣本中示例&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;origin item&lt;/th&gt;
&lt;th&gt;usge&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;\^I^I&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;^I&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Jonathan\^IBartlett&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;Jonathan IBartletts&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;code&gt;\^I\^I^I&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;^I&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;code&gt;\^I\^I\^I^I&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;^I&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;源文件分析&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# file /tmp/members.tsv
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;/tmp/members.tsv: UTF-8 Unicode text

&lt;span class=&#34;c1&#34;&gt;# wc /tmp/members.tsv
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;m&#34;&gt;1607521&lt;/span&gt;  &lt;span class=&#34;m&#34;&gt;22258307&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;165505405&lt;/span&gt; /tmp/members.tsv

&lt;span class=&#34;c1&#34;&gt;# 按分隔符`^I`切分， 左側是出現次數，右側是每一行的字段數
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;# awk -F&amp;#34;   &amp;#34; &amp;#39;{print NF}&amp;#39; /tmp/members.tsv | sort | uniq -c
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1607506&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;11&lt;/span&gt;
      &lt;span class=&#34;m&#34;&gt;9&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;12&lt;/span&gt;
      &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;13&lt;/span&gt;
      &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;14&lt;/span&gt;
      &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;
      &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;8&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# awk &amp;#39;END{print NR}&amp;#39; /tmp/members.tsv
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1607521&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;processing&#34;&gt;Processing&lt;/h2&gt;

&lt;p&gt;完整操作命令&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;源文件 /tmp/members.tsv&lt;/li&gt;
&lt;li&gt;臨時文件 /tmp/members_temp.tsv&lt;/li&gt;
&lt;li&gt;處理後文件 /tmp/members_new.tsv&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 通過sed的`N`特性，合併含有 ^M\ 的行及後一行， 將結果輸出到臨時文件
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;sed -r -n &lt;span class=&#34;s1&#34;&gt;&amp;#39;/^M\\$/{N;s@\n@@g;s@^M\\@@g;p};s@[[:blank:]]*$@@g;p&amp;#39;&lt;/span&gt; /tmp/members.tsv &amp;gt; /tmp/members_temp.tsv

awk -F&lt;span class=&#34;s2&#34;&gt;&amp;#34;   &amp;#34;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;NF!=11{print $0}&amp;#39;&lt;/span&gt; /tmp/members_temp.tsv &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed -r -n &lt;span class=&#34;s1&#34;&gt;&amp;#39;s@\\     @ @g;p&amp;#39;&lt;/span&gt; &amp;gt; /tmp/members_new.tsv

awk -F&lt;span class=&#34;s2&#34;&gt;&amp;#34;   &amp;#34;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;NF!=11{print $0}&amp;#39;&lt;/span&gt; /tmp/members_temp.tsv &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed -r -n &lt;span class=&#34;s1&#34;&gt;&amp;#39;s@\\     @ @g;p&amp;#39;&lt;/span&gt; &amp;gt; /tmp/members_new.tsv&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&#34;step-1&#34;&gt;Step 1&lt;/h3&gt;

&lt;p&gt;去除&lt;code&gt;^M\&lt;/code&gt;，將之後行與該行合併爲一行&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;sed -r -n &lt;span class=&#34;s1&#34;&gt;&amp;#39;/^M\\$/{N;s@\n@@g;s@^M\\@@g;p};s@[[:blank:]]*$@@g;p&amp;#39;&lt;/span&gt; /tmp/members.tsv &amp;gt; /tmp/members_temp.tsv&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;awk -F&lt;span class=&#34;s2&#34;&gt;&amp;#34;   &amp;#34;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;{print NF}&amp;#39;&lt;/span&gt; /tmp/members_temp.tsv &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sort &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; uniq -c
&lt;span class=&#34;m&#34;&gt;1607510&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;11&lt;/span&gt;
      &lt;span class=&#34;m&#34;&gt;9&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;12&lt;/span&gt;
      &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;13&lt;/span&gt;
      &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;14&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&#34;step-2&#34;&gt;Step 2&lt;/h3&gt;

&lt;p&gt;提取字段不是11個的，單獨處理，將&lt;code&gt;\^I&lt;/code&gt;轉換爲空格，寫入文件&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;awk -F&lt;span class=&#34;s2&#34;&gt;&amp;#34;   &amp;#34;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;NF!=11{print $0}&amp;#39;&lt;/span&gt; /tmp/members_temp.tsv &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed -r -n &lt;span class=&#34;s1&#34;&gt;&amp;#39;s@\\     @ @g;p&amp;#39;&lt;/span&gt; &amp;gt; /tmp/members_new.tsv&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;awk -F&lt;span class=&#34;s2&#34;&gt;&amp;#34;   &amp;#34;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;{print NF}&amp;#39;&lt;/span&gt; /tmp/members_new.tsv &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sort &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; uniq -c
     &lt;span class=&#34;m&#34;&gt;11&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;11&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;此處會出現一個情況：被替換掉的&lt;code&gt;\^I&lt;/code&gt;變成了空格，會導致分隔符兩邊有空格，此處暫不做處理。&lt;/p&gt;

&lt;h3 id=&#34;step-3&#34;&gt;Step 3&lt;/h3&gt;

&lt;p&gt;提取members_temp.tsv中字段爲11個的數據到/tmp/members_new.tsv中&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;awk -F&lt;span class=&#34;s2&#34;&gt;&amp;#34;   &amp;#34;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;NF==11{print}&amp;#39;&lt;/span&gt; /tmp/members_temp.tsv &amp;gt;&amp;gt; /tmp/members_new.tsv&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;awk -F&lt;span class=&#34;s2&#34;&gt;&amp;#34;   &amp;#34;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;{print NF}&amp;#39;&lt;/span&gt; /tmp/members_new.tsv &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sort &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; uniq -c
&lt;span class=&#34;m&#34;&gt;1607521&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;11&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&#34;setp-4&#34;&gt;Setp 4&lt;/h3&gt;

&lt;p&gt;校驗&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;wc -l /tmp/members.tsv /tmp/members_new.tsv
  &lt;span class=&#34;m&#34;&gt;1607521&lt;/span&gt; /tmp/members.tsv
  &lt;span class=&#34;m&#34;&gt;1607521&lt;/span&gt; /tmp/members_new.tsv
  &lt;span class=&#34;m&#34;&gt;3215042&lt;/span&gt; total&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;data-example&#34;&gt;Data Example&lt;/h2&gt;

&lt;p&gt;通過命令&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;awk -F&lt;span class=&#34;s2&#34;&gt;&amp;#34;   &amp;#34;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;NF!=11{print $0}&amp;#39;&lt;/span&gt; /tmp/members_temp.tsv&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;提取出的異常數據&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;11175037^I2012-01-16 12:25:10^Iyahoo.com^Imakke\^I^I\N^I\N^I60000^IBachelor^I2001^I0.0891283^IAdmin Assistant Job$
11294840^I2012-01-24 10:06:25^Isbcglobal.net^Ikim\^I^ILIVONIA^IMI^I48154^IAssociate^I1984^I0.169424^Inursing home application$
12267559^I2012-04-05 20:28:20^IYahoo.com^IRoberta\^I^INEWTON UPPER FALLS^IMA^I02464^ISome College^I1974^I0.280936^Irent-a-center careers$
14597145^I2012-08-22 01:18:02^Iameritrade.com^IJonathan\^IBartlett^ISAN DIEGO^ICA^I92101^ISome College^I2009^I0.220914^IHiring$
14884873^I2012-09-05 17:45:41^Igmail.com^ISabrina\^I^IPORT SAINT LUCIE^IFL^I34953^IGED^I2008^I0.266815^Imcdonalds career$
14901409^I2012-09-06 12:58:19^Iyahoo.com^IRegina\^I\^I^ITUSCALOOSA^IAL^I35401^IHS^I1992^I0.217793^Iwalmart application$
14913467^I2012-09-06 18:00:01^Iyahoo.com^IKaimba\^I^ILAS VEGAS^INV^I89147^ISome HS^I2013^I0.119687^Isubway.com$
15001091^I2012-09-11 13:08:26^Ihotmail.com^I \^Ikiramat^I\N^I\N^I25000^IMaster^I1991^I0.116966^Ijobs opportunities$
15073984^I2012-09-13 18:01:59^Ilive.com^Isameh\^I^IASTORIA^INY^I11102^ISome HS^I1989^I0.096791^Iwalmart application$
15198033^I2012-09-19 10:17:00^Iyahoo.com^ITyrone\^I\^I\^I^IJACKSONVILLE^IFL^I32209^ISome College^I1999^I0.313548^IKelly Services Job$
15225560^I2012-09-20 10:31:29^Iyahoo.com^Isameh\^I^IASTORIA^INY^I11102^IHS^I1997^I0.236401^Iwalmart application$&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;經過處理後的數據&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;11175037^I2012-01-16 12:25:10^Iyahoo.com^Imakke ^I\N^I\N^I60000^IBachelor^I2001^I0.0891283^IAdmin Assistant Job$
11294840^I2012-01-24 10:06:25^Isbcglobal.net^Ikim ^ILIVONIA^IMI^I48154^IAssociate^I1984^I0.169424^Inursing home application$
12267559^I2012-04-05 20:28:20^IYahoo.com^IRoberta ^INEWTON UPPER FALLS^IMA^I02464^ISome College^I1974^I0.280936^Irent-a-center careers$
14597145^I2012-08-22 01:18:02^Iameritrade.com^IJonathan Bartlett^ISAN DIEGO^ICA^I92101^ISome College^I2009^I0.220914^IHiring$   
14884873^I2012-09-05 17:45:41^Igmail.com^ISabrina ^IPORT SAINT LUCIE^IFL^I34953^IGED^I2008^I0.266815^Imcdonalds career$
14901409^I2012-09-06 12:58:19^Iyahoo.com^IRegina  ^ITUSCALOOSA^IAL^I35401^IHS^I1992^I0.217793^Iwalmart application$
14913467^I2012-09-06 18:00:01^Iyahoo.com^IKaimba ^ILAS VEGAS^INV^I89147^ISome HS^I2013^I0.119687^Isubway.com$
15001091^I2012-09-11 13:08:26^Ihotmail.com^I  kiramat^I\N^I\N^I25000^IMaster^I1991^I0.116966^Ijobs opportunities$
15073984^I2012-09-13 18:01:59^Ilive.com^Isameh ^IASTORIA^INY^I11102^ISome HS^I1989^I0.096791^Iwalmart application$
15198033^I2012-09-19 10:17:00^Iyahoo.com^ITyrone   ^IJACKSONVILLE^IFL^I32209^ISome College^I1999^I0.313548^IKelly Services Job$
15225560^I2012-09-20 10:31:29^Iyahoo.com^Isameh ^IASTORIA^INY^I11102^IHS^I1997^I0.236401^Iwalmart application$&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;結果比對&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# awk -F&amp;#34;   &amp;#34; &amp;#39;{print NF}&amp;#39; /tmp/111 | sort | uniq -c
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;      &lt;span class=&#34;m&#34;&gt;9&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;12&lt;/span&gt;
      &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;13&lt;/span&gt;
      &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;14&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# awk -F&amp;#34;   &amp;#34; &amp;#39;{print NF}&amp;#39; /tmp/222 | sort | uniq -c
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;     &lt;span class=&#34;m&#34;&gt;11&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;11&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;change-log&#34;&gt;Change Log&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;2018.03.08 12:21 Thu America/Boston

&lt;ul&gt;
&lt;li&gt;初稿完成&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;2018.04.11 10:31 Wed America/Boston

&lt;ul&gt;
&lt;li&gt;勘誤，遷移到新Blog&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- End --&gt;</description>
      
    </item>
    
    <item>
      <title>Extracting API Requests Counts From Nginx Access Log Per week</title>
      <link>/2017/extracting-api-requests-counts-from-nginx-access-log-per-week/</link>
      <pubDate>Tue, 12 Dec 2017 19:58:34 +0800</pubDate>
      
      <guid>/2017/extracting-api-requests-counts-from-nginx-access-log-per-week/</guid>
      
        <description>&lt;p&gt;2017年7月3日寫過一篇 &lt;code&gt;Extracting API Requests Info From Nginx Access Log&lt;/code&gt;，主要記錄從Nginx日誌中提取各自有API的請求頻次。最近一段時間，線上環境服務器的CPU、內存時常會被佔滿，導致線上服務宕掉。爲了解決該問題，其中一項舉措是要求運維這邊每週提取一次各API接口的請求數據，該任務仍有本人來操作。本文主要記錄在當前需求下，數據的提取過程。&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;h2 id=&#34;preface&#34;&gt;Preface&lt;/h2&gt;

&lt;p&gt;如今再看，個人對之前那篇操作說明並不滿意，原因是操作過程耗時過長。再次進行該項工作時，不得不想辦法提高處理速度。&lt;/p&gt;

&lt;p&gt;個人辦公電腦操作系統&lt;code&gt;Debian Stretch&lt;/code&gt;，線上主機操作系統&lt;code&gt;CentOS 6.9&lt;/code&gt;，整個過程主要使用命令&lt;code&gt;sed&lt;/code&gt;和&lt;code&gt;awk&lt;/code&gt;。&lt;code&gt;awk&lt;/code&gt;只使用一個CPU核心，無法使用多核心，本人目前尚未實現如何通過&lt;code&gt;parallel&lt;/code&gt;調用&lt;code&gt;awk&lt;/code&gt;(命令複雜)進行多核心操作。&lt;/p&gt;

&lt;p&gt;故而只能在實現思路上想辦法，調整後的代碼執行效率極大提高。&lt;/p&gt;

&lt;h2 id=&#34;shell-script&#34;&gt;Shell Script&lt;/h2&gt;

&lt;p&gt;以下是Shell腳本內容&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#!/usr/bin/env bash
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;# Dec 12, 2017 Tue +0800
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# variable setting
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;log_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;/data/log/api.deerbus.com_access.log&amp;#39;&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;extract_log_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;mktemp -t XXXXX.log&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# get date range
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;# last week monday
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;start_date&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;date --date&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;last monday 7 days ago&amp;#39;&lt;/span&gt; +&lt;span class=&#34;s1&#34;&gt;&amp;#39;%d/%b/%Y&amp;#39;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# this monday
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;stop_date&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;date --date&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;last monday&amp;#39;&lt;/span&gt; +&lt;span class=&#34;s1&#34;&gt;&amp;#39;%d/%b/%Y&amp;#39;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# increase file descriptor value
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;file_descriptor_val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;file_descriptor_val&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;1024&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;file_descriptor_val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;ulimit&lt;/span&gt; -n&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;ulimit&lt;/span&gt; -n &lt;span class=&#34;m&#34;&gt;655360&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# extract log in specified date range (a week)
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;start_line_no&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;grep -c &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;start_date&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;log_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt; -gt &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;start_line_no&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;start_date&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;

sed -r -n &lt;span class=&#34;s1&#34;&gt;&amp;#39;/\[&amp;#39;&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;start_line_no&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;////&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;/,/\[&amp;#39;&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;stop_date&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;////&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;/{/&amp;#39;&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;stop_date&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;////&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;/d;/^$/d;s@-[[:space:]]@@g;s@[[:space:]]*\+[[:digit:]]+@@g;s@\&amp;#34;[[:upper:]]+ ([^[:space:]]*) .*@\1@g;s@(\[|\])@@g;s@ @|@g;s@([[:digit:]]{4}):@\1 @g;s@([[:digit:]]{1,2})/([[:alpha:]]+)/([[:digit:]]{4})@\1 \2 \3@g;p}&amp;#39;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;log_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;  &amp;gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;extract_log_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# output sample
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;# 58.38.100.200|10 Dec 2017 23:59:57|/buspay/buildPayParams.do
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# extract specific info according differect degrees
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;# 1 - all api per seconds
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;awk -F&lt;span class=&#34;se&#34;&gt;\|&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;BEGIN{OFS=&amp;#34;|&amp;#34;}{arr[$2]++}END{for (i in arr) print i,arr[i]}&amp;#39;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;extract_log_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sort -b -f -t&lt;span class=&#34;s2&#34;&gt;&amp;#34;|&amp;#34;&lt;/span&gt; -k 2nr,2 &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; awk -F&lt;span class=&#34;se&#34;&gt;\|&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;{if($2&amp;gt;50){&amp;#34;date --date=\&amp;#34;&amp;#34;$1&amp;#34;\&amp;#34; +\&amp;#34;%F %T\&amp;#34;&amp;#34; | getline a;printf(&amp;#34;%s|%s\n&amp;#34;,a,$2)}}&amp;#39;&lt;/span&gt; &amp;gt; /tmp/total_counts_per_second.txt

&lt;span class=&#34;c1&#34;&gt;# 2 - per api per seconds
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;awk -F&lt;span class=&#34;se&#34;&gt;\|&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;BEGIN{OFS=&amp;#34;|&amp;#34;}{arr[$NF,$2]++}END{for (i in arr) {split(i,j,SUBSEP);print j[2],j[1],arr[i]}}&amp;#39;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;extract_log_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sort -b -f -t&lt;span class=&#34;s2&#34;&gt;&amp;#34;|&amp;#34;&lt;/span&gt; -k 3nr,3 -k 1nr,1 &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; awk -F&lt;span class=&#34;se&#34;&gt;\|&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;{if($3&amp;gt;10){&amp;#34;date --date=\&amp;#34;&amp;#34;$1&amp;#34;\&amp;#34; +\&amp;#34;%F %T\&amp;#34;&amp;#34; | getline a;printf(&amp;#34;%s|%s|%s\n&amp;#34;,a,$2,$3)}}&amp;#39;&lt;/span&gt; &amp;gt; /tmp/total_counts_per_second.txt

&lt;span class=&#34;c1&#34;&gt;# 3 - total counts for specific api
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;awk -F&lt;span class=&#34;se&#34;&gt;\|&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;BEGIN{OFS=&amp;#34;|&amp;#34;}{arr[$3]++}END{for (i in arr) print i,arr[i]}&amp;#39;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;extract_log_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sort -b -f -t&lt;span class=&#34;s2&#34;&gt;&amp;#34;|&amp;#34;&lt;/span&gt; -k 2nr,2 &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; awk -F&lt;span class=&#34;se&#34;&gt;\|&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;{if($2&amp;gt;50) print}&amp;#39;&lt;/span&gt; &amp;gt; /tmp/total_counts_per_api.txt


&lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -f &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;extract_log_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; /bin/rm -f &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;extract_log_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;ulimit&lt;/span&gt; -n &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;file_descriptor_val&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;

# Script End&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;explanation&#34;&gt;Explanation&lt;/h2&gt;

&lt;p&gt;通過&lt;code&gt;all api per seconds&lt;/code&gt;這個維度說明代碼優化思路&lt;/p&gt;

&lt;p&gt;舊代碼&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;awk -F&lt;span class=&#34;se&#34;&gt;\|&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;BEGIN{OFS=&amp;#34;|&amp;#34;}{&amp;#34;date --date=\&amp;#34;&amp;#34;$(NF-1)&amp;#34;\&amp;#34; +\&amp;#34;%F %T\&amp;#34;&amp;#34; | getline a;arr[a]++}END{for (i in arr) print i,arr[i]}&amp;#39;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;extract_log_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sort -b -f -t&lt;span class=&#34;s2&#34;&gt;&amp;#34;|&amp;#34;&lt;/span&gt; -k 2r,2 &amp;gt; /tmp/total_counts_per_second.txt&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;新代碼&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;awk -F&lt;span class=&#34;se&#34;&gt;\|&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;BEGIN{OFS=&amp;#34;|&amp;#34;}{arr[$2]++}END{for (i in arr) print i,arr[i]}&amp;#39;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;extract_log_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sort -b -f -t&lt;span class=&#34;s2&#34;&gt;&amp;#34;|&amp;#34;&lt;/span&gt; -k 2nr,2 &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; awk -F&lt;span class=&#34;se&#34;&gt;\|&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;{if($2&amp;gt;50){&amp;#34;date --date=\&amp;#34;&amp;#34;$1&amp;#34;\&amp;#34; +\&amp;#34;%F %T\&amp;#34;&amp;#34; | getline a;printf(&amp;#34;%s|%s\n&amp;#34;,a,$2)}}&amp;#39;&lt;/span&gt; &amp;gt; /tmp/total_counts_per_second.txt&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;最大的區別是將在&lt;code&gt;awk&lt;/code&gt;中調用系統&lt;code&gt;date&lt;/code&gt;命令進行日期格式化的操作放到的命令的最後。&lt;/p&gt;

&lt;p&gt;在&lt;code&gt;awk&lt;/code&gt;中調用系統&lt;code&gt;date&lt;/code&gt;命令非常消耗CPU資源，且需臨時打開大量的文件描述符(file descriptor)，須臨時提高&lt;code&gt;ulimit -n&lt;/code&gt;的閾值。&lt;/p&gt;

&lt;p&gt;進行該操作是爲了將日期從&lt;code&gt;10 Dec 2017 23:59:57&lt;/code&gt;格式化成&lt;code&gt;2017-12-10 23:59:57&lt;/code&gt;，將格式化後的字符串作爲&lt;code&gt;awk&lt;/code&gt;數據中的索引(index/key)。因&lt;code&gt;awk&lt;/code&gt;是逐行讀取目標文件，故而每讀取一行都要先進行日期的格式化操作，增加了單行數據的操作時間。而這種操作需要進行數百萬次，直接導致運行效率極大降低。&lt;/p&gt;

&lt;p&gt;優化後的命令是將該操作放置到最後執行，理由是未經格式化的日期字符串一樣可以作爲數據的索引，只需在輸出之前進行格式化操作。這樣做的好處是，需要格式化的數據行數從數百萬降到了一萬以內，甚至更少。整體運行效率極大提升。&lt;/p&gt;

&lt;p&gt;但因爲仍舊是使用的是CPU的一個核心，如果能夠解決&lt;code&gt;parallel&lt;/code&gt;和&lt;code&gt;awk&lt;/code&gt;的組合使用問題，效率必將進一步提升。&lt;/p&gt;

&lt;h2 id=&#34;data-output&#34;&gt;Data Output&lt;/h2&gt;

&lt;p&gt;以下是數據展示，每個維度只列出前20條。&lt;/p&gt;

&lt;h3 id=&#34;all-api-per-seconds&#34;&gt;all api per seconds&lt;/h3&gt;

&lt;p&gt;上一週所有api每秒請求數 (共 &lt;strong&gt;6145&lt;/strong&gt; 條)&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;request time&lt;/th&gt;
&lt;th&gt;request count&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:46&lt;/td&gt;
&lt;td&gt;1349&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:45&lt;/td&gt;
&lt;td&gt;1308&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:55&lt;/td&gt;
&lt;td&gt;1307&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:36&lt;/td&gt;
&lt;td&gt;1305&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:44&lt;/td&gt;
&lt;td&gt;1301&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:53&lt;/td&gt;
&lt;td&gt;1300&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:40&lt;/td&gt;
&lt;td&gt;1294&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:51&lt;/td&gt;
&lt;td&gt;1293&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:30&lt;/td&gt;
&lt;td&gt;1281&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:33&lt;/td&gt;
&lt;td&gt;1277&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:32&lt;/td&gt;
&lt;td&gt;1275&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-04 14:02:06&lt;/td&gt;
&lt;td&gt;1269&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:35&lt;/td&gt;
&lt;td&gt;1269&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:38&lt;/td&gt;
&lt;td&gt;1267&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:37&lt;/td&gt;
&lt;td&gt;1263&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:28&lt;/td&gt;
&lt;td&gt;1257&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:31&lt;/td&gt;
&lt;td&gt;1255&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:57&lt;/td&gt;
&lt;td&gt;1252&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:52&lt;/td&gt;
&lt;td&gt;1250&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:54&lt;/td&gt;
&lt;td&gt;1243&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:41&lt;/td&gt;
&lt;td&gt;1238&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:56&lt;/td&gt;
&lt;td&gt;1236&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:48&lt;/td&gt;
&lt;td&gt;1232&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-04 14:02:08&lt;/td&gt;
&lt;td&gt;1228&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:47&lt;/td&gt;
&lt;td&gt;1222&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&#34;per-api-per-seconds&#34;&gt;per api per seconds　&lt;/h3&gt;

&lt;p&gt;上一週每個api每秒請求數 (共 &lt;strong&gt;15647&lt;/strong&gt; 條)&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;request time&lt;/th&gt;
&lt;th&gt;api&lt;/th&gt;
&lt;th&gt;request count&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:46&lt;/td&gt;
&lt;td&gt;/bususer/findRouteDetail.do&lt;/td&gt;
&lt;td&gt;1348&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:45&lt;/td&gt;
&lt;td&gt;/bususer/findRouteDetail.do&lt;/td&gt;
&lt;td&gt;1308&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:36&lt;/td&gt;
&lt;td&gt;/bususer/findRouteDetail.do&lt;/td&gt;
&lt;td&gt;1305&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:55&lt;/td&gt;
&lt;td&gt;/bususer/findRouteDetail.do&lt;/td&gt;
&lt;td&gt;1303&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:44&lt;/td&gt;
&lt;td&gt;/bususer/findRouteDetail.do&lt;/td&gt;
&lt;td&gt;1300&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:53&lt;/td&gt;
&lt;td&gt;/bususer/findRouteDetail.do&lt;/td&gt;
&lt;td&gt;1296&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:40&lt;/td&gt;
&lt;td&gt;/bususer/findRouteDetail.do&lt;/td&gt;
&lt;td&gt;1294&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:51&lt;/td&gt;
&lt;td&gt;/bususer/findRouteDetail.do&lt;/td&gt;
&lt;td&gt;1293&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:30&lt;/td&gt;
&lt;td&gt;/bususer/findRouteDetail.do&lt;/td&gt;
&lt;td&gt;1277&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:33&lt;/td&gt;
&lt;td&gt;/bususer/findRouteDetail.do&lt;/td&gt;
&lt;td&gt;1274&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:32&lt;/td&gt;
&lt;td&gt;/bususer/findRouteDetail.do&lt;/td&gt;
&lt;td&gt;1271&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:35&lt;/td&gt;
&lt;td&gt;/bususer/findRouteDetail.do&lt;/td&gt;
&lt;td&gt;1269&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:38&lt;/td&gt;
&lt;td&gt;/bususer/findRouteDetail.do&lt;/td&gt;
&lt;td&gt;1267&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:37&lt;/td&gt;
&lt;td&gt;/bususer/findRouteDetail.do&lt;/td&gt;
&lt;td&gt;1263&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:57&lt;/td&gt;
&lt;td&gt;/bususer/findRouteDetail.do&lt;/td&gt;
&lt;td&gt;1250&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:52&lt;/td&gt;
&lt;td&gt;/bususer/findRouteDetail.do&lt;/td&gt;
&lt;td&gt;1247&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:28&lt;/td&gt;
&lt;td&gt;/bususer/findRouteDetail.do&lt;/td&gt;
&lt;td&gt;1245&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:31&lt;/td&gt;
&lt;td&gt;/bususer/findRouteDetail.do&lt;/td&gt;
&lt;td&gt;1241&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:54&lt;/td&gt;
&lt;td&gt;/bususer/findRouteDetail.do&lt;/td&gt;
&lt;td&gt;1240&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:41&lt;/td&gt;
&lt;td&gt;/bususer/findRouteDetail.do&lt;/td&gt;
&lt;td&gt;1236&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:48&lt;/td&gt;
&lt;td&gt;/bususer/findRouteDetail.do&lt;/td&gt;
&lt;td&gt;1232&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:56&lt;/td&gt;
&lt;td&gt;/bususer/findRouteDetail.do&lt;/td&gt;
&lt;td&gt;1232&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:47&lt;/td&gt;
&lt;td&gt;/bususer/findRouteDetail.do&lt;/td&gt;
&lt;td&gt;1219&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:27&lt;/td&gt;
&lt;td&gt;/bususer/findRouteDetail.do&lt;/td&gt;
&lt;td&gt;1204&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-05 11:18:34&lt;/td&gt;
&lt;td&gt;/bususer/findRouteDetail.do&lt;/td&gt;
&lt;td&gt;1195&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&#34;total-counts-for-specific-api&#34;&gt;total counts for specific api&lt;/h3&gt;

&lt;p&gt;上一週各個api請求總數 (共 &lt;strong&gt;15647&lt;/strong&gt; 條)&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;api&lt;/th&gt;
&lt;th&gt;request count&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;/driver/uploadGPS.do&lt;/td&gt;
&lt;td&gt;475306&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;/bususer/getRealTimeRouteInfo.do&lt;/td&gt;
&lt;td&gt;249580&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;/bususer/getBusPosition.do&lt;/td&gt;
&lt;td&gt;247360&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;/bususer/getUserTickets.do&lt;/td&gt;
&lt;td&gt;245309&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;/serve/optServer.do&lt;/td&gt;
&lt;td&gt;200337&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;/bususer/v2/getUserInfo.do&lt;/td&gt;
&lt;td&gt;179476&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;/bususer/flybusLogin.do&lt;/td&gt;
&lt;td&gt;175028&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;/bususer/fuzzyQueryStopInfo.do&lt;/td&gt;
&lt;td&gt;153243&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;/bususer/findRouteList.do&lt;/td&gt;
&lt;td&gt;117275&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;/bususer/getContentResources.do&lt;/td&gt;
&lt;td&gt;92414&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;/bususer/findRouteDetail.do&lt;/td&gt;
&lt;td&gt;90649&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;/bususer/getBanner.do&lt;/td&gt;
&lt;td&gt;69184&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;/bususer/myCouponList.do&lt;/td&gt;
&lt;td&gt;49917&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;/bususer/findOpenDays.do&lt;/td&gt;
&lt;td&gt;41468&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;/bususer/checkTicketWithPosition.do&lt;/td&gt;
&lt;td&gt;41320&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;/bususer/saveToken.do&lt;/td&gt;
&lt;td&gt;40905&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;/bususer/search.do&lt;/td&gt;
&lt;td&gt;30504&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;/buspay/queryPayResult.do&lt;/td&gt;
&lt;td&gt;27401&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;/bususer/activityNumsCheck.do&lt;/td&gt;
&lt;td&gt;24236&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;/bususer/getTicektsByDate.do&lt;/td&gt;
&lt;td&gt;24138&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;/bususer/routeWeather.do&lt;/td&gt;
&lt;td&gt;21518&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;/bususer/getCompanyRoute.do&lt;/td&gt;
&lt;td&gt;15481&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;/bususer/buyTicket.do&lt;/td&gt;
&lt;td&gt;15359&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;/buspay/buildPayParams.do&lt;/td&gt;
&lt;td&gt;13832&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;/bususer/getTicketDetilByShift.do&lt;/td&gt;
&lt;td&gt;13255&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&#34;change-logs&#34;&gt;Change Logs&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;2017.12.12 19:59 Tue Asia/Shanghai

&lt;ul&gt;
&lt;li&gt;初稿完成&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;2018.04.11 10:21 Wed America/Boston

&lt;ul&gt;
&lt;li&gt;勘誤，遷移到新Blog&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- End --&gt;</description>
      
    </item>
    
    <item>
      <title>Deploying Project Codes To Multiple Remote Hosts Via SSH</title>
      <link>/2017/deploying-project-codes-to-multiple-remote-hosts-via-ssh/</link>
      <pubDate>Tue, 24 Oct 2017 16:46:16 +0800</pubDate>
      
      <guid>/2017/deploying-project-codes-to-multiple-remote-hosts-via-ssh/</guid>
      
        <description>&lt;p&gt;截至目前(2017-10)，公司測試、驗證、生產環境的代碼仍使用人工手動部署，其中緣由，歷史與現實原因皆有。數月前，研發部門對系統架構進行了一次更改，其中加入了負載均衡(load balance)功能。架構更改後，項目由單節點(主機)運行變成多節點(主機)運行，服務器數量增加了近一倍，加之公司有30多個自有項目在運行。若仍使用人工部署方式，一則運維同事壓力巨大，二則嚴重影響生產效率。在IT運維部經理的要求下，本人着手進行代碼部署的自動化工作。&lt;/p&gt;

&lt;p&gt;本文記錄如何使用&lt;code&gt;SSH&lt;/code&gt;將項目代碼傳輸到遠程內網主機中，進行代碼部署操作，並給出Shell Script代碼(簡易版)。&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;h2 id=&#34;existing-conditions-requirements&#34;&gt;Existing Conditions &amp;amp; Requirements&lt;/h2&gt;

&lt;p&gt;現有前提條件&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;公司服務器託管於多個IDC機房，每個機房配置一臺跳板主機，配置有MFA多重認證；同一機房中的其它主機爲內網主機，只能通過跳板主機登錄；&lt;/li&gt;
&lt;li&gt;跳板主機的&lt;code&gt;/etc/hosts&lt;/code&gt;中有各內網主機的別名，跳板主機通過&lt;code&gt;SSH Keys&lt;/code&gt;連接各內網主機；&lt;/li&gt;
&lt;li&gt;跳板主機通過&lt;code&gt;SSH Keys&lt;/code&gt;連接各內網主機；&lt;/li&gt;
&lt;li&gt;項目運行在各內網主機中；&lt;/li&gt;
&lt;li&gt;代碼打包後，測試人員提供ftp下載地址，運維人員下載後進行部署(需登入每一臺相關的內網主機)；&lt;/li&gt;
&lt;li&gt;項目名、代碼包名、部署目錄名不一致，驗證和生產環境的項目部署路徑不一致；&lt;/li&gt;
&lt;li&gt;開發語言Java，項目通過&lt;code&gt;Tomcat&lt;/code&gt;和&lt;code&gt;Maven&lt;/code&gt;運行；&lt;/li&gt;
&lt;li&gt;代碼包格式有&lt;code&gt;.wav&lt;/code&gt;、&lt;code&gt;.zip&lt;/code&gt;、&lt;code&gt;.tar.gz&lt;/code&gt;等；&lt;/li&gt;
&lt;li&gt;Java的安裝路徑不一致；&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;關於需求，部門經理的要求是能夠通過ftp下載地址自動識別、部署。&lt;/p&gt;

&lt;h2 id=&#34;analysis&#34;&gt;Analysis&lt;/h2&gt;

&lt;p&gt;根據現有情況，進行分析&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;一機房中的其它主機爲內網主機，只能通過跳板主機登錄；&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;逐個登入項目所在的內網主機進行部署，不太好操作。直接在跳板主機中操作，通過SSH傳輸執行腳本到特定內網主機。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;項目名、代碼包名、部署目錄名不一致，驗證和生產環境的項目部署路徑不一致&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;要求研發部門、IT運維部門對項目名稱、部署路徑進行一致性處理的難度非常大，此爲歷史遺留問題。考慮通過整理一份關係對應表解決該問題，但工作量巨大，本人需花長時間整理。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;開發語言Java，項目通過&lt;code&gt;Tomcat&lt;/code&gt;和&lt;code&gt;Maven&lt;/code&gt;運行&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;將項目部署方式一併加入對應關係表中。&lt;/p&gt;

&lt;h2 id=&#34;challenge&#34;&gt;Challenge&lt;/h2&gt;

&lt;p&gt;遇到的問題&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;如何在跳板主機中將相關代碼傳輸到特定的內網主機中並執行?&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;通過&lt;code&gt;SSH&lt;/code&gt;和管道符&lt;code&gt;|&lt;/code&gt;將代碼傳輸到內網主機，代碼示例&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;nv&#34;&gt;operation_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;operation_path&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;/PATH/operation.sh&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;

cat &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;operation_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; ssh REMOTE_HOST &lt;span class=&#34;s2&#34;&gt;&amp;#34;dd of=/tmp/kjw_operation.sh &amp;amp;&amp;gt; /dev/null; bash /tmp/kjw_operation.sh; rm -f /tmp/kjw_operation.sh 1&amp;gt;/dev/null&amp;#34;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;考慮到謹慎部署，採用&lt;code&gt;while&lt;/code&gt;循環進行遍歷操作，而非使用&lt;code&gt;parallel&lt;/code&gt;進行並行操作。&lt;/p&gt;

&lt;h2 id=&#34;code-snippet&#34;&gt;Code Snippet&lt;/h2&gt;

&lt;p&gt;整個腳本分爲3部分&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;核心配置文件&lt;/li&gt;
&lt;li&gt;入口文件(在跳板主機中執行)&lt;/li&gt;
&lt;li&gt;執行文件(在內網主機中執行)&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;config-file&#34;&gt;Config File&lt;/h3&gt;

&lt;p&gt;配置文件格式爲&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;主機 - 部署類型 - 部署路徑名 - 項目路徑名 - 安裝包名 -是否已啓動&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;示例如下&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;APP1|tomcat|tomcat-flycar-business-web|flycar-business-web|flycar-business-web
APP1|tomcat|tomcat-flycar-chargestation|flycar-chargestation|flycar-chargestation
APP1|tomcat|tomcat-flycar-driver|flycar-driver|flycar-car-driver
APP1|tomcat|tomcat-flycar-finance|flycar-finance|flycar-finance
APP1|tomcat|tomcat-flycar-lgwx|flycar-lgwx|flybuscar-weixin
APP1|tomcat|tomcat-flycar-pc-dispatch|flycar-pc-dispatch|flycar-pc-dispatch
APP1|tomcat|tomcat-flycar-user-mobile|flycar-user-mobile|flycar-user-mobile
APP1|tomcat|tomcat-flycar-user-web|flycar-user-web|flycar-user-web
APP1|tomcat|tomcat-flycar-weixin|flycar-weixin|flycar-weixin
APP1|maven||tomcat-sms-auth|sms-auth
APP1|maven||tomcat-sms-bi|sms-bi
APP1|maven||tomcat-sms-bpm|sms-bpm
APP1|maven||tomcat-sms-bs|sms-bs
APP1|maven||tomcat-sms-qywx|sms-qywx&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&#34;entry-file&#34;&gt;Entry File&lt;/h3&gt;

&lt;p&gt;入口文件，將驗證和生產環境的部署腳本整合在一起。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;52
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;53
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;54
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;55
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;56
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;57
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;58
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;59
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;60
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;61
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;62
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;63
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;64
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;65
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;66
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;67
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;68
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;69
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;70
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;71
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;72
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;73
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;74
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;75
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;76
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;77
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;78
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;79
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;80
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;81
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#!/usr/bin/env bash
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; -u
&lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; -o pipefail

funcExitStatement&lt;span class=&#34;o&#34;&gt;(){&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;local&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -n &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$#&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; -eq &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; -e &lt;span class=&#34;s2&#34;&gt;&amp;#34;本脚本用法如下:&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; -e &lt;span class=&#34;s2&#34;&gt;&amp;#34;bash /PATH/deploy.sh ftp_link deploy_environment\n&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; -e &lt;span class=&#34;s2&#34;&gt;&amp;#34;ftp_link: 安装包ftp下载链接&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; -e &lt;span class=&#34;s2&#34;&gt;&amp;#34;deploy_environment: 部署环境类型(生产或验证环境)，可用字母p和v指定，若未指定则默认为生产环境\n&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; -e &lt;span class=&#34;s2&#34;&gt;&amp;#34;注意 JAVA_HOME 变量值&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# 脚本所在路径
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;script_saved_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;script_saved_path&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;script_saved_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;dirname &lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;readlink -f &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$0&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;))&lt;/span&gt;

&lt;span class=&#34;nv&#34;&gt;deploy_environment_type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;deploy_environment_type&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# 主机 - 部署类型 - 部署路径名 - 项目路径名 - 安装包名 -是否已启动
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;config_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;config_path&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;curl_command&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;curl_command&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;deploy_environment_type&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,,&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; in
    verify&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;v &lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;# 验证环境
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;nv&#34;&gt;config_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;script_saved_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/config_verify.txt&amp;#34;&lt;/span&gt;
        &lt;span class=&#34;nv&#34;&gt;curl_command&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;curl -u XXXXX:XXXXXX&amp;#34;&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;;;&lt;/span&gt;
    product&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;p&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;* &lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;# 生产环境
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;nv&#34;&gt;config_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;script_saved_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/config_product.txt&amp;#34;&lt;/span&gt;
        &lt;span class=&#34;nv&#34;&gt;curl_command&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;curl -u YYYYY:YYYYYY&amp;#34;&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;;;&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;esac&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -s &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;config_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; funcExitStatement &lt;span class=&#34;s1&#34;&gt;&amp;#39;未找到代码部署配置文件，脚本即将退出!&amp;#39;&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;operation_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;operation_path&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;script_saved_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/operation.sh&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -s &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;operation_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; funcExitStatement &lt;span class=&#34;s1&#34;&gt;&amp;#39;未找到代码部署脚本，脚本即将退出!&amp;#39;&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# 1.获取下载链接、下载安装包
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
    funcExitStatement &lt;span class=&#34;s1&#34;&gt;&amp;#39;未指定下载链接，脚本即将退出!&amp;#39;&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;elif&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; ! &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;~ ^ftp:// &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
    funcExitStatement &lt;span class=&#34;s1&#34;&gt;&amp;#39;下载链接必须以ftp://开头!&amp;#39;&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;
    &lt;span class=&#34;nv&#34;&gt;$curl_command&lt;/span&gt; -I &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&amp;gt;/dev/null
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$?&lt;/span&gt; -eq &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;经测试下载链接有效&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;
        funcExitStatement &lt;span class=&#34;s1&#34;&gt;&amp;#39;经测试: 下载链接无效，请确定部署环境，脚本即将退出!&amp;#39;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;

&lt;span class=&#34;nv&#34;&gt;download_link&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;download_link&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;package_full_name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_full_name&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;download_link&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;##*/&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;package_name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_name&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;package_name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_full_name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed -r &lt;span class=&#34;s1&#34;&gt;&amp;#39;s/^([^[:digit:]]+)-.*/\1/g&amp;#39;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -z &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; funcExitStatement &lt;span class=&#34;s1&#34;&gt;&amp;#39;无法提取安装包名，脚本即将退出!&amp;#39;&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# 提取安装包对应的主机、服务等信息
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_info_list&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_info_list&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;project_info_list&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;awk -F&lt;span class=&#34;se&#34;&gt;\|&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;match($5,/&amp;#39;&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;/){print}&amp;#39;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;config_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -z &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_info_list&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; funcExitStatement &lt;span class=&#34;s2&#34;&gt;&amp;#34;未查询到 &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; 对应的服务，脚本即将退出!&amp;#34;&lt;/span&gt;

&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_info_list&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;IFS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;|&amp;#34;&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;read&lt;/span&gt; -r host_name deploy_type deploy_path_name project_path_name package_name is_running&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;do&lt;/span&gt;

    &lt;span class=&#34;nv&#34;&gt;config_info&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;host_name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;deploy_type&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;deploy_path_name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_path_name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;# $1  download_link   /  $2  config_info   / $3  curl_command
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    cat &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;operation_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; ssh &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;host_name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;dd of=/tmp/kjw_operation.sh &amp;amp;&amp;gt; /dev/null; bash /tmp/kjw_operation.sh \&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;download_link&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;\&amp;#34; \&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;config_info&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;\&amp;#34; \&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;curl_command&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;\&amp;#34;; rm -f /tmp/kjw_operation.sh 1&amp;gt;/dev/null&amp;#34;&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;done&lt;/span&gt;

# Script End&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&#34;execution-file&#34;&gt;Execution File&lt;/h3&gt;

&lt;p&gt;執行文件&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;  1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 52
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 53
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 54
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 55
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 56
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 57
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 58
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 59
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 60
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 61
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 62
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 63
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 64
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 65
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 66
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 67
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 68
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 69
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 70
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 71
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 72
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 73
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 74
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 75
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 76
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 77
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 78
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 79
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 80
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 81
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 82
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 83
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 84
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 85
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 86
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 87
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 88
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 89
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 90
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 91
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 92
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 93
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 94
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 95
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 96
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 97
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 98
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 99
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;100
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;101
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;102
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;103
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;104
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;105
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;106
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;107
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;108
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;109
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;110
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;111
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;112
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;113
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;114
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;115
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;116
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;117
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;118
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;119
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;120
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;121
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;122
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;123
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;124
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;125
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;126
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;127
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;128
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;129
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;130
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;131
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;132
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;133
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;134
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;135
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;136
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;137
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;138
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;139
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;140
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;141
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;142
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;143
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;144
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;145
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;146
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;147
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;148
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;149
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;150
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;151
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;152
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;153
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;154
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;155
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;156
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;157
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;158
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;159
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;160
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;161
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;162
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;163
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;164
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;165
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;166
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;167
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;168
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;169
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;170
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;171
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;172
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;173
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;174
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;175
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;176
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;177
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;178
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;179
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;180
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;181
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;182
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;183
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;184
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;185
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;186
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;187
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;188
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;189
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;190
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;191
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;192
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;193
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;194
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#!/usr/bin/env bash
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; -u
&lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; -o pipefail

&lt;span class=&#34;nv&#34;&gt;download_link&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;download_link&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;config_info&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;config_info&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;curl_command&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;curl_command&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;nv&#34;&gt;deploy_default_dir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;deploy_default_dir&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;/usr/local/webmiddleware&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;project_default_dir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_default_dir&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;/project&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;package_save_dir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_save_dir&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;/tmp&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;nv&#34;&gt;package_full_name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_full_name&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;download_link&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;##*/&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;package_name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_name&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;package_name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_full_name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed -r &lt;span class=&#34;s1&#34;&gt;&amp;#39;s/^([^[:digit:]]+)-.*/\1/g&amp;#39;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;nv&#34;&gt;suffix_type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;suffix_type&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_full_name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;~ tar.gz$ &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
    &lt;span class=&#34;nv&#34;&gt;suffix_type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;tar.gz&amp;#39;&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;elif&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_full_name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;~ .zip$ &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
    &lt;span class=&#34;nv&#34;&gt;suffix_type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;zip&amp;#39;&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;elif&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_full_name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;~ .war$ &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
    &lt;span class=&#34;nv&#34;&gt;suffix_type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;war&amp;#39;&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;


funcExitStatement&lt;span class=&#34;o&#34;&gt;(){&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;local&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -n &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

funcStartProjectProcess&lt;span class=&#34;o&#34;&gt;(){&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;local&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;l_deploy_type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;local&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;l_deploy_dir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;local&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;l_project_dir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;# 设置JAVA环境变量
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;JAVA_HOME&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/java
    &lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/java:&lt;span class=&#34;nv&#34;&gt;$PATH&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;l_deploy_type&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; in
        &lt;span class=&#34;s1&#34;&gt;&amp;#39;tomcat&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -d &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;l_deploy_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; -s &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;l_deploy_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/bin/startup.sh&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
                /bin/bash &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;l_deploy_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/bin/startup.sh&amp;#34;&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;;;&lt;/span&gt;
        &lt;span class=&#34;s1&#34;&gt;&amp;#39;maven&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -d &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;l_project_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt;  -s &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;l_project_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/bin/start.sh&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
                /bin/bash &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;l_project_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/bin/start.sh&amp;#34;&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;;;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;esac&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;nb&#34;&gt;readonly&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;c_normal&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;\e[0m&amp;#39;&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;readonly&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;c_red&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;\e[31;1m&amp;#39;&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;readonly&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;c_blue&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;\e[34m&amp;#39;&lt;/span&gt;

&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;config_info&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;IFS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;|&amp;#34;&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;read&lt;/span&gt; -r host_name deploy_type deploy_path_name project_path_name package_name is_running&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;do&lt;/span&gt;
    &lt;span class=&#34;nv&#34;&gt;deploy_dir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;deploy_default_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;deploy_path_name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;nv&#34;&gt;project_dir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_default_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_path_name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;

    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; -e &lt;span class=&#34;s2&#34;&gt;&amp;#34;\n&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;c_red&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;主机名:&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;c_normal&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;host_name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;c_red&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;安装包:&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;c_normal&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;c_red&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;部署路径:&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;c_normal&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;deploy_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;c_red&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;项目路径:&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;c_normal&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;\n&amp;#34;&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; ! -d &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;deploy_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;部署目录 &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; 不存在，请核实，自动跳过&amp;#34;&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;continue&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;# 下载安装包
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nv&#34;&gt;package_save_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_save_path&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_save_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_full_name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;准备下载安装包:&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;nv&#34;&gt;$curl_command&lt;/span&gt; -fL# -o &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_save_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;download_link&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -s &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_save_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;安装包 &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_full_name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; 下载成功&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;
        /bin/rm -f &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_save_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;链接 &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;download_link&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; 下载失败，自动跳过&amp;#34;&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;continue&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;# 查询已存在的备份
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nv&#34;&gt;existed_backup_list&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;existed_backup_list&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;nv&#34;&gt;existed_backup_list&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;find &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_default_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/&amp;#34;&lt;/span&gt; -maxdepth &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; -type d -name &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_path_name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;-*.bak&amp;#34;&lt;/span&gt; -print&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;# 移除旧备份目录
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -n &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;existed_backup_list&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; -e &lt;span class=&#34;s2&#34;&gt;&amp;#34;\n准备移除已存在的备份目录&amp;#34;&lt;/span&gt;

        &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;existed_backup_list&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;IFS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;read&lt;/span&gt; -r line&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;do&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -d &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;line&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
                /bin/rm -rf &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;line&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
                &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -d &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;line&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;成功移除备份目录: &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;line&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;done&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;# 创建新备份目录
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nv&#34;&gt;current_date&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;current_date&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;date +&lt;span class=&#34;s2&#34;&gt;&amp;#34;%Y%m%d-%H%M&amp;#34;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;nv&#34;&gt;project_dir_backup&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_dir_backup&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;current_date&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;.bak&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; ! -d &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; -e &lt;span class=&#34;s2&#34;&gt;&amp;#34;\n项目目录 &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; 检测不存在，准备创建&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; -e &lt;span class=&#34;s2&#34;&gt;&amp;#34;\n项目目录 &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; 检测存在，准备进行备份操作&amp;#34;&lt;/span&gt;
        cp -R &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_dir_backup&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -d &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_dir_backup&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;成功创建备份目录 &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_dir_backup&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;

        &lt;span class=&#34;c1&#34;&gt;# Kill进程ID
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;nv&#34;&gt;pid_old&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;pid_old&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;nv&#34;&gt;pid_old&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;ps -ef &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;$0~/java.*&amp;#39;&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;deploy_dir&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;##*/&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;/&amp;amp;&amp;amp;$0!~/awk.*print/{print $2;exit}&amp;#39;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;pid_old&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
            &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; -e &lt;span class=&#34;s2&#34;&gt;&amp;#34;\n未侦测到&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;进程\n&amp;#34;&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;elif&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;pid_old&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; -gt &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
            &lt;span class=&#34;nb&#34;&gt;kill&lt;/span&gt; -9 &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;pid_old&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
            &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; -e &lt;span class=&#34;s2&#34;&gt;&amp;#34;\n侦测到&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;进程(PID &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;pid_old&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;)，进程停止成功\n&amp;#34;&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;

        &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;准备移除项目目录 &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
        /bin/rm -rf &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -d &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;成功移除项目目录 &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;准备重新创建项目目录 &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;# 创建新项目目录
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    mkdir -p &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -d &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;成功创建项目目录 &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;# 解压
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; -e &lt;span class=&#34;s2&#34;&gt;&amp;#34;\n准备解压安装包 &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_full_name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;suffix_type&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; in
        &lt;span class=&#34;s1&#34;&gt;&amp;#39;tar.gz&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
            tar xf &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_save_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; -C &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;;;&lt;/span&gt;
        zip&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;war &lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
            unzip &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_save_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; -d &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&amp;gt;/dev/null
            &lt;span class=&#34;p&#34;&gt;;;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;esac&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;ls -A &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; wc -l&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt; -ne &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;安装包解压成功&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;安装包解压失败，自动跳过&amp;#34;&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;continue&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;

    &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -s &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_save_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; /bin/rm -f &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_save_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;


    &lt;span class=&#34;c1&#34;&gt;# 启动进程
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; -e &lt;span class=&#34;s2&#34;&gt;&amp;#34;\n准备启动&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;服务&amp;#34;&lt;/span&gt;
    funcStartProjectProcess &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;deploy_type&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;deploy_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;

    &lt;span class=&#34;nv&#34;&gt;pid_new&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;pid_new&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;nv&#34;&gt;pid_new&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;ps -ef &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;$0~/java.*&amp;#39;&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;deploy_dir&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;##*/&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;/&amp;amp;&amp;amp;$0!~/awk.*print/{print $2;exit}&amp;#39;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;pid_new&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; -gt &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; -e &lt;span class=&#34;s2&#34;&gt;&amp;#34;\n&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;进程启动成功，新进程ID: &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;pid_new&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; -e &lt;span class=&#34;s2&#34;&gt;&amp;#34;\n项目&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;部署完毕，部署路径: &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
        &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; -e &lt;span class=&#34;s2&#34;&gt;&amp;#34;\n进程详情&amp;#34;&lt;/span&gt;
        ps -ef &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;$0~/java.*&amp;#39;&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;deploy_dir&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;##*/&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;/&amp;amp;&amp;amp;$0!~/awk.*print/{print;exit}&amp;#39;&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; -d &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; /bin/rm -rf &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;

        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; ! -d &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_dir_backup&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
            &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;项目&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;启动失败，自动跳过!&amp;#34;&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;continue&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;
            &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;项目&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;启动失败，准备执行回滚操作&amp;#34;&lt;/span&gt;
            mv &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_dir_backup&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
            funcStartProjectProcess &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;deploy_type&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;deploy_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;project_dir&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;

            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;ps -ef &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;$0~/java.*&amp;#39;&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;deploy_dir&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;##*/&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;/&amp;amp;&amp;amp;$0!~/awk.*print/{print $2;exit}&amp;#39;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt; -gt &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
                &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;项目&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;已回滚&amp;#34;&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;
                &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;项目&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;package_name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;回滚失败，请核查，自动跳过&amp;#34;&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;continue&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;

        &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;

    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; -e &lt;span class=&#34;s2&#34;&gt;&amp;#34;\n&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;c_red&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;---------------  Split Line  ---------------&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;c_normal&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;\n\n&amp;#34;&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;done&lt;/span&gt;

# Script End&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;example&#34;&gt;Example&lt;/h2&gt;

&lt;p&gt;實例演示&lt;/p&gt;

&lt;p&gt;執行&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;bash deploy.sh ftp://XXX.XXX.XXX.XXX/PATH/flybus-provider-XXX.war&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;輸出如下&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;  1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 52
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 53
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 54
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 55
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 56
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 57
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 58
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 59
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 60
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 61
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 62
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 63
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 64
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 65
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 66
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 67
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 68
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 69
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 70
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 71
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 72
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 73
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 74
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 75
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 76
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 77
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 78
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 79
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 80
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 81
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 82
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 83
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 84
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 85
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 86
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 87
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 88
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 89
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 90
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 91
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 92
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 93
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 94
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 95
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 96
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 97
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 98
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 99
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;100
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;101
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;102
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;103
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;104
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;105
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;106
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;107
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;108
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;109
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;110
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;111
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;112
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;113
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;114
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;115
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;116
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;117
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;118
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;119
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;120
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;121
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;122
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;123
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;124
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;125
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;126
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;127
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;128
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;129
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;130
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;131
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;132
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;133
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;134
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;135
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;136
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;137
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;138
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;139
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;140
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;141
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;142
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;143
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;144
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;145
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;146
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;147
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;148
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;149
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;150
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;151
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;152
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;153
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;154
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;155
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;经测试下载链接有效

主机名: CORE1
安装包: flybus-provider
部署路径: /usr/local/webmiddleware/tomcat-flybus-provider1
项目路径: /project/flybus-provider1

准备下载安装包:
&lt;span class=&#34;c1&#34;&gt;######################################################################## 100.0%
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;安装包 flybus-provider-3.9.0-release-20171129093531.war 下载成功

准备移除已存在的备份目录
成功移除备份目录: /project/flybus-provider1-20171128-1558.bak

项目目录 /project/flybus-provider1 检测存在，准备进行备份操作
成功创建备份目录 /project/flybus-provider1-20171130-0932.bak

侦测到flybus-provider进程&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;PID &lt;span class=&#34;m&#34;&gt;16238&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;，进程停止成功

准备移除项目目录 /project/flybus-provider1
成功移除项目目录 /project/flybus-provider1
准备重新创建项目目录 /project/flybus-provider1
成功创建项目目录 /project/flybus-provider1

准备解压安装包 flybus-provider-3.9.0-release-20171129093531.war
安装包解压成功

准备启动flybus-provider服务
Tomcat started.

flybus-provider进程启动成功，新进程ID: &lt;span class=&#34;m&#34;&gt;33089&lt;/span&gt;

项目flybus-provider部署完毕，部署路径: /project/flybus-provider1

进程详情
root      &lt;span class=&#34;m&#34;&gt;33089&lt;/span&gt;      &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;  &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;09&lt;/span&gt;:32 ?        &lt;span class=&#34;m&#34;&gt;00&lt;/span&gt;:00:00 /usr/local/java/bin/java -Djava.util.logging.config.file&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/webmiddleware/tomcat-flybus-provider1/conf/logging.properties -Djava.util.logging.manager&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;org.apache.juli.ClassLoaderLogManager -server -Xms2048m -Xmx2048m -XX:PermSize&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;128M -XX:MaxPermSize&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;256m -Djava.awt.headless&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;true&lt;/span&gt; -Djmagick.systemclassloader&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;false&lt;/span&gt; -XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:../logs/bus_provider_gc.log -XX:+PrintHeapAtGC -XX:+PrintGC -Duser.timezone&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;GMT+8 -Djava.endorsed.dirs&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/webmiddleware/tomcat-flybus-provider1/endorsed -classpath /usr/local/webmiddleware/tomcat-flybus-provider1/bin/bootstrap.jar:/usr/local/webmiddleware/tomcat-flybus-provider1/bin/tomcat-juli.jar -Dcatalina.base&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/webmiddleware/tomcat-flybus-provider1 -Dcatalina.home&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/webmiddleware/tomcat-flybus-provider1 -Djava.io.tmpdir&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/webmiddleware/tomcat-flybus-provider1/temp org.apache.catalina.startup.Bootstrap start

---------------  Split Line  ---------------



主机名: CORE1
安装包: flybus-provider
部署路径: /usr/local/webmiddleware/tomcat-flybus-provider2
项目路径: /project/flybus-provider2

准备下载安装包:
&lt;span class=&#34;c1&#34;&gt;######################################################################## 100.0%
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;安装包 flybus-provider-3.9.0-release-20171129093531.war 下载成功

准备移除已存在的备份目录
成功移除备份目录: /project/flybus-provider2-20171128-1558.bak

项目目录 /project/flybus-provider2 检测存在，准备进行备份操作
成功创建备份目录 /project/flybus-provider2-20171130-0932.bak

侦测到flybus-provider进程&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;PID &lt;span class=&#34;m&#34;&gt;16335&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;，进程停止成功

准备移除项目目录 /project/flybus-provider2
成功移除项目目录 /project/flybus-provider2
准备重新创建项目目录 /project/flybus-provider2
成功创建项目目录 /project/flybus-provider2

准备解压安装包 flybus-provider-3.9.0-release-20171129093531.war
安装包解压成功

准备启动flybus-provider服务
Tomcat started.

flybus-provider进程启动成功，新进程ID: &lt;span class=&#34;m&#34;&gt;33186&lt;/span&gt;

项目flybus-provider部署完毕，部署路径: /project/flybus-provider2

进程详情
root      &lt;span class=&#34;m&#34;&gt;33186&lt;/span&gt;      &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;  &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;09&lt;/span&gt;:32 ?        &lt;span class=&#34;m&#34;&gt;00&lt;/span&gt;:00:00 /usr/local/java/bin/java -Djava.util.logging.config.file&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/webmiddleware/tomcat-flybus-provider2/conf/logging.properties -Djava.util.logging.manager&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;org.apache.juli.ClassLoaderLogManager -server -Xms2048m -Xmx2048m -XX:PermSize&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;128M -XX:MaxPermSize&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;256m -Djava.awt.headless&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;true&lt;/span&gt; -Djmagick.systemclassloader&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;false&lt;/span&gt; -XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:../logs/bus_provider_gc.log -XX:+PrintHeapAtGC -XX:+PrintGC -Duser.timezone&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;GMT+8 -Djava.endorsed.dirs&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/webmiddleware/tomcat-flybus-provider2/endorsed -classpath /usr/local/webmiddleware/tomcat-flybus-provider2/bin/bootstrap.jar:/usr/local/webmiddleware/tomcat-flybus-provider2/bin/tomcat-juli.jar -Dcatalina.base&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/webmiddleware/tomcat-flybus-provider2 -Dcatalina.home&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/webmiddleware/tomcat-flybus-provider2 -Djava.io.tmpdir&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/webmiddleware/tomcat-flybus-provider2/temp org.apache.catalina.startup.Bootstrap start

---------------  Split Line  ---------------



主机名: CORE2
安装包: flybus-provider
部署路径: /usr/local/webmiddleware/tomcat-flybus-provider1
项目路径: /project/flybus-provider1

准备下载安装包:
&lt;span class=&#34;c1&#34;&gt;######################################################################## 100.0%
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;安装包 flybus-provider-3.9.0-release-20171129093531.war 下载成功

准备移除已存在的备份目录
成功移除备份目录: /project/flybus-provider1-20171128-1558.bak

项目目录 /project/flybus-provider1 检测存在，准备进行备份操作
成功创建备份目录 /project/flybus-provider1-20171130-0932.bak

侦测到flybus-provider进程&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;PID &lt;span class=&#34;m&#34;&gt;22663&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;，进程停止成功

准备移除项目目录 /project/flybus-provider1
成功移除项目目录 /project/flybus-provider1
准备重新创建项目目录 /project/flybus-provider1
成功创建项目目录 /project/flybus-provider1

准备解压安装包 flybus-provider-3.9.0-release-20171129093531.war
安装包解压成功

准备启动flybus-provider服务
Tomcat started.

flybus-provider进程启动成功，新进程ID: &lt;span class=&#34;m&#34;&gt;5716&lt;/span&gt;

项目flybus-provider部署完毕，部署路径: /project/flybus-provider1

进程详情
root      &lt;span class=&#34;m&#34;&gt;5716&lt;/span&gt;     &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;  &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;09&lt;/span&gt;:32 ?        &lt;span class=&#34;m&#34;&gt;00&lt;/span&gt;:00:00 /usr/local/java/bin/java -Djava.util.logging.config.file&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/webmiddleware/tomcat-flybus-provider1/conf/logging.properties -Djava.util.logging.manager&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;org.apache.juli.ClassLoaderLogManager -server -Xms2048m -Xmx2048m -XX:PermSize&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;128M -XX:MaxPermSize&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;256m -Djava.awt.headless&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;true&lt;/span&gt; -Djmagick.systemclassloader&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;false&lt;/span&gt; -XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:../logs/bus_provider_gc.log -XX:+PrintHeapAtGC -XX:+PrintGC -Duser.timezone&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;GMT+8 -Djava.endorsed.dirs&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/webmiddleware/tomcat-flybus-provider1/endorsed -classpath /usr/local/webmiddleware/tomcat-flybus-provider1/bin/bootstrap.jar:/usr/local/webmiddleware/tomcat-flybus-provider1/bin/tomcat-juli.jar -Dcatalina.base&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/webmiddleware/tomcat-flybus-provider1 -Dcatalina.home&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/webmiddleware/tomcat-flybus-provider1 -Djava.io.tmpdir&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/webmiddleware/tomcat-flybus-provider1/temp org.apache.catalina.startup.Bootstrap start

---------------  Split Line  ---------------



主机名: CORE2
安装包: flybus-provider
部署路径: /usr/local/webmiddleware/tomcat-flybus-provider2
项目路径: /project/flybus-provider2

准备下载安装包:
&lt;span class=&#34;c1&#34;&gt;######################################################################## 100.0%
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;安装包 flybus-provider-3.9.0-release-20171129093531.war 下载成功

准备移除已存在的备份目录
成功移除备份目录: /project/flybus-provider2-20171128-1558.bak

项目目录 /project/flybus-provider2 检测存在，准备进行备份操作
成功创建备份目录 /project/flybus-provider2-20171130-0932.bak

侦测到flybus-provider进程&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;PID &lt;span class=&#34;m&#34;&gt;22746&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;，进程停止成功

准备移除项目目录 /project/flybus-provider2
成功移除项目目录 /project/flybus-provider2
准备重新创建项目目录 /project/flybus-provider2
成功创建项目目录 /project/flybus-provider2

准备解压安装包 flybus-provider-3.9.0-release-20171129093531.war
安装包解压成功

准备启动flybus-provider服务
Tomcat started.

flybus-provider进程启动成功，新进程ID: &lt;span class=&#34;m&#34;&gt;5802&lt;/span&gt;

项目flybus-provider部署完毕，部署路径: /project/flybus-provider2

进程详情
root      &lt;span class=&#34;m&#34;&gt;5802&lt;/span&gt;     &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;  &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;09&lt;/span&gt;:32 ?        &lt;span class=&#34;m&#34;&gt;00&lt;/span&gt;:00:00 /usr/local/java/bin/java -Djava.util.logging.config.file&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/webmiddleware/tomcat-flybus-provider2/conf/logging.properties -Djava.util.logging.manager&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;org.apache.juli.ClassLoaderLogManager -server -Xms2048m -Xmx2048m -XX:PermSize&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;128M -XX:MaxPermSize&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;256m -Djava.awt.headless&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;true&lt;/span&gt; -Djmagick.systemclassloader&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;false&lt;/span&gt; -XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:../logs/bus_provider_gc.log -XX:+PrintHeapAtGC -XX:+PrintGC -Duser.timezone&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;GMT+8 -Djava.endorsed.dirs&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/webmiddleware/tomcat-flybus-provider2/endorsed -classpath /usr/local/webmiddleware/tomcat-flybus-provider2/bin/bootstrap.jar:/usr/local/webmiddleware/tomcat-flybus-provider2/bin/tomcat-juli.jar -Dcatalina.base&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/webmiddleware/tomcat-flybus-provider2 -Dcatalina.home&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/webmiddleware/tomcat-flybus-provider2 -Djava.io.tmpdir&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/webmiddleware/tomcat-flybus-provider2/temp org.apache.catalina.startup.Bootstrap start

---------------  Split Line  ---------------&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;after-the-words&#34;&gt;After The Words&lt;/h2&gt;

&lt;p&gt;在多主機部署代碼是剛需，自動部署可極大減輕運維人員的工作量，有效提高生產效率。&lt;/p&gt;

&lt;p&gt;如果有需要，可將其更改爲併發部署，整個項目部署速度更快。&lt;/p&gt;

&lt;p&gt;腳本經過測試可用，已經上傳至IT運維部的Gitlab代碼庫中。&lt;/p&gt;

&lt;p&gt;然而，今天的上線，運維同事仍舊採用逐個登錄內網主機部署的方式。本人去年用PHP的&lt;code&gt;Symfony&lt;/code&gt;框架開發的 &lt;strong&gt;資產管理平臺&lt;/strong&gt; 也是這樣的境況，心中有些苦澀。&lt;/p&gt;

&lt;h2 id=&#34;change-logs&#34;&gt;Change Logs&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;2017.10.24 18:40 Tue Asia/Shanghai

&lt;ul&gt;
&lt;li&gt;初稿完成&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;2017.11.30 09:42 Thu Asia/Shanghai

&lt;ul&gt;
&lt;li&gt;添加操作實例&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;2018.04.11 10:11 Wed America/Boston

&lt;ul&gt;
&lt;li&gt;勘誤，遷移到新Blog&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- End --&gt;</description>
      
    </item>
    
    <item>
      <title>About</title>
      <link>/about/</link>
      <pubDate>Sun, 20 Aug 2017 21:38:52 +0800</pubDate>
      
      <guid>/about/</guid>
      
        <description>

&lt;h2 id=&#34;introduction&#34;&gt;Introduction&lt;/h2&gt;

&lt;!-- End --&gt;
</description>
      
    </item>
    
    <item>
      <title>Splitting Nginx Log By Date Via GNU Awk</title>
      <link>/2017/splitting-nginx-log-by-date-via-gnu-awk/</link>
      <pubDate>Thu, 10 Aug 2017 16:40:24 +0800</pubDate>
      
      <guid>/2017/splitting-nginx-log-by-date-via-gnu-awk/</guid>
      
        <description>&lt;p&gt;&lt;a href=&#34;https://www.nginx.com/&#34; title=&#34;Nginx&#34;&gt;Nginx&lt;/a&gt;在運行過程中會生成大量&lt;code&gt;access&lt;/code&gt;和&lt;code&gt;error&lt;/code&gt;日誌，默認情況下日誌文件大小持續增長。爲方便操作(如打開、查詢)，需對Nginx日誌進行切割，如按日期，而&lt;a href=&#34;https://www.nginx.com/&#34; title=&#34;Nginx&#34;&gt;Nginx&lt;/a&gt;本身並不提供該功能。&lt;/p&gt;

&lt;p&gt;網路上的方案千篇一律：利用&lt;a href=&#34;https://www.nginx.com/&#34; title=&#34;Nginx&#34;&gt;Nginx&lt;/a&gt;的&lt;a href=&#34;https://www.nginx.com/resources/wiki/start/topics/examples/logrotation/&#34; title=&#34;Nginx&#34;&gt;Log Rotation&lt;/a&gt;功能，操作日誌後，通過&lt;code&gt;USR1&lt;/code&gt;信號重新打開日誌；將操作命令寫入腳本，通過cron任務定時執行。對於該種方案，本人不做任何評價。&lt;/p&gt;

&lt;p&gt;本文主要記錄如何通過&lt;a href=&#34;https://www.gnu.org/software/gawk/&#34; title=&#34;GNU awk&#34;&gt;awk&lt;/a&gt;實現Nginx日誌按年分、月份、周、天、小時等預定方式進行切割。&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;h2 id=&#34;prerequisite&#34;&gt;Prerequisite&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://www.nginx.com/&#34; title=&#34;Nginx&#34;&gt;Nginx&lt;/a&gt;日誌格式通過指令&lt;a href=&#34;https://nginx.org/en/docs/http/ngx_http_log_module.html#log_format&#34;&gt;log_format&lt;/a&gt;實現，默認的配置文件路徑爲&lt;code&gt;/etc/nginx/nginx.conf&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;詳細說明見官方文檔&lt;a href=&#34;https://nginx.org/en/docs/http/ngx_http_log_module.html&#34; title=&#34;Nginx&#34;&gt;Module ngx_http_log_module&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;&lt;code&gt;log_format&lt;/code&gt;的默認格式爲&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;log_format main  &lt;span class=&#34;s1&#34;&gt;&amp;#39;$remote_addr - $remote_user [$time_local] &amp;#39;&lt;/span&gt;
                     &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#34;$request&amp;#34; $status $bytes_sent &amp;#39;&lt;/span&gt;
                     &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#34;$http_referer&amp;#34; &amp;#34;$http_user_agent&amp;#34; &amp;#34;$gzip_ratio&amp;#34;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;生成的日誌格式如下&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;75.97.107.190 - - [10/Aug/2017:13:05:50 +0800] &amp;ldquo;GET /smart HTTP/1.1&amp;rdquo; 200 6452 &amp;ldquo;-&amp;rdquo; &amp;ldquo;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/45.0.2454.93 Safari/537.36&amp;rdquo;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;以按日期分割爲例，通過字符串&lt;code&gt;[10/Aug/2017:13:05:50 +0800]&lt;/code&gt;作爲分割日誌的依據，日期的處理通過&lt;code&gt;date&lt;/code&gt;命令實現，具體見&lt;code&gt;man date&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;本文中&lt;a href=&#34;https://www.gnu.org/software/gawk/&#34; title=&#34;GNU awk&#34;&gt;awk&lt;/a&gt;的操作命令適用於版本&lt;code&gt;3&lt;/code&gt;和版本&lt;code&gt;4&lt;/code&gt;。關於&lt;a href=&#34;https://www.gnu.org/software/gawk/&#34; title=&#34;GNU awk&#34;&gt;awk&lt;/a&gt;的使用，本文不作說明，可自行查閱官方文檔&lt;a href=&#34;https://www.gnu.org/software/gawk/manual/&#34;&gt;Gawk: Effective AWK Programming&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;文中的操作不做條件判斷，如在某一天之後或某一個IP或某個關鍵詞。&lt;/p&gt;

&lt;h2 id=&#34;log-split&#34;&gt;Log Split&lt;/h2&gt;

&lt;p&gt;本文按照日期對日誌進行分割，假設日誌文件名稱爲&lt;code&gt;~/access.log&lt;/code&gt;，結果輸出文件保存路徑爲&lt;code&gt;/tmp&lt;/code&gt;，命名格式&lt;code&gt;nginx-###.log&lt;/code&gt;。&lt;/p&gt;

&lt;h3 id=&#34;yearly&#34;&gt;Yearly&lt;/h3&gt;

&lt;p&gt;按年份&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# %Y     year
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;{a=gensub(/.* \[([^:]*):.*/,&amp;#34;\\1&amp;#34;,&amp;#34;1&amp;#34;,$0);gsub(/\//,&amp;#34;-&amp;#34;,a);&amp;#34;date --date=&amp;#34;a&amp;#34; +\&amp;#34;%Y\&amp;#34;&amp;#34; | getline b; print &amp;gt; &amp;#34;/tmp/nginx-&amp;#34;b&amp;#34;.log&amp;#34;}&amp;#39;&lt;/span&gt; ~/access.log&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;此處&lt;code&gt;/.* \[([^:]*):.*/&lt;/code&gt;匹配的是&lt;code&gt;10/Aug/2017&lt;/code&gt;；建議使用&lt;code&gt;/.* \[([^ ]*) .*/&lt;/code&gt;，匹配&lt;code&gt;10/Aug/2017:13:05:50&lt;/code&gt;。同時將&lt;code&gt;--date=&amp;quot;a&amp;quot;&lt;/code&gt;更改爲&lt;code&gt;--date=\&amp;quot;&amp;quot;a&amp;quot;\&amp;quot;&lt;/code&gt;以增強代碼的 &lt;strong&gt;兼容性&lt;/strong&gt;。&lt;/p&gt;

&lt;p&gt;修改後的代碼如下&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# match 10/Aug/2017
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;{a=gensub(/.* \[([^:]*):.*/,&amp;#34;\\1&amp;#34;,&amp;#34;1&amp;#34;,$0);gsub(/\//,&amp;#34;-&amp;#34;,a);&amp;#34;date --date=\&amp;#34;&amp;#34;a&amp;#34;\&amp;#34; +\&amp;#34;%Y\&amp;#34;&amp;#34; | getline b; print &amp;gt; &amp;#34;/tmp/nginx-&amp;#34;b&amp;#34;.log&amp;#34;}&amp;#39;&lt;/span&gt; ~/access.log

&lt;span class=&#34;c1&#34;&gt;# match 10/Aug/2017:13:05:50
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;{a=gensub(/.* \[([^ ]*) .*/,&amp;#34;\\1&amp;#34;,&amp;#34;1&amp;#34;,$0);gsub(/\//,&amp;#34;-&amp;#34;,a);&amp;#34;date --date=\&amp;#34;&amp;#34;a&amp;#34;\&amp;#34; +\&amp;#34;%Y\&amp;#34;&amp;#34; | getline b; print &amp;gt; &amp;#34;/tmp/nginx-&amp;#34;b&amp;#34;.log&amp;#34;}&amp;#39;&lt;/span&gt; ~/access.log&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;日誌文件的命名如&lt;code&gt;nginx-2017.log&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&#34;quarterly&#34;&gt;Quarterly&lt;/h3&gt;

&lt;p&gt;按季度&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#  %q     quarter of year (1..4)
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;{a=gensub(/.* \[([^:]*):.*/,&amp;#34;\\1&amp;#34;,&amp;#34;1&amp;#34;,$0);gsub(/\//,&amp;#34;-&amp;#34;,a);&amp;#34;date --date=\&amp;#34;&amp;#34;a&amp;#34;\&amp;#34; +\&amp;#34;%Y\&amp;#34;-quarter-\&amp;#34;%q\&amp;#34;&amp;#34; | getline b; print &amp;gt; &amp;#34;/tmp/nginx-&amp;#34;b&amp;#34;.log&amp;#34;}&amp;#39;&lt;/span&gt; ~/access.log&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;日誌文件的命名如&lt;code&gt;nginx-2017-quarter-3.log&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&#34;monthly&#34;&gt;Monthly&lt;/h3&gt;

&lt;p&gt;按月份&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# %b     locale&amp;#39;s abbreviated month name (e.g., Jan)
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;# %m     month (01..12)
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;{a=gensub(/.* \[([^:]*):.*/,&amp;#34;\\1&amp;#34;,&amp;#34;1&amp;#34;,$0);gsub(/\//,&amp;#34;-&amp;#34;,a);&amp;#34;date --date=\&amp;#34;&amp;#34;a&amp;#34;\&amp;#34; +\&amp;#34;%Y\&amp;#34;-\&amp;#34;%m\&amp;#34;-\&amp;#34;%b\&amp;#34;&amp;#34; | getline b; print &amp;gt; &amp;#34;/tmp/nginx-&amp;#34;b&amp;#34;.log&amp;#34;}&amp;#39;&lt;/span&gt; ~/access.log&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;日誌文件的命名如&lt;code&gt;nginx-2017-08-Aug.log&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&#34;weekly&#34;&gt;Weekly&lt;/h3&gt;

&lt;p&gt;按周&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# %U week number of year, with Sunday as first day of week (00..53)
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;{a=gensub(/.* \[([^:]*):.*/,&amp;#34;\\1&amp;#34;,&amp;#34;1&amp;#34;,$0);gsub(/\//,&amp;#34;-&amp;#34;,a);&amp;#34;date --date=\&amp;#34;&amp;#34;a&amp;#34;\&amp;#34; +\&amp;#34;%Y\&amp;#34;-week-\&amp;#34;%U\&amp;#34;&amp;#34; | getline b; print &amp;gt; &amp;#34;/tmp/nginx-&amp;#34;b&amp;#34;.log&amp;#34;}&amp;#39;&lt;/span&gt; ~/access.log&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;日誌文件的命名如&lt;code&gt;nginx-2017-week-32.log&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&#34;daily&#34;&gt;Daily&lt;/h3&gt;

&lt;p&gt;按天&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#  %F     full date; same as %Y-%m-%d
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;#  %a     locale&amp;#39;s abbreviated weekday name (e.g., Sun)
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;{a=gensub(/.* \[([^:]*):.*/,&amp;#34;\\1&amp;#34;,&amp;#34;1&amp;#34;,$0);gsub(/\//,&amp;#34;-&amp;#34;,a);&amp;#34;date --date=\&amp;#34;&amp;#34;a&amp;#34;\&amp;#34; +\&amp;#34;%F\&amp;#34;&amp;#34; | getline b; print &amp;gt; &amp;#34;/tmp/nginx-&amp;#34;b&amp;#34;.log&amp;#34;}&amp;#39;&lt;/span&gt; ~/access.log

&lt;span class=&#34;c1&#34;&gt;# file name has weekday name
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;{a=gensub(/.* \[([^:]*):.*/,&amp;#34;\\1&amp;#34;,&amp;#34;1&amp;#34;,$0);gsub(/\//,&amp;#34;-&amp;#34;,a);&amp;#34;date --date=\&amp;#34;&amp;#34;a&amp;#34;\&amp;#34; +\&amp;#34;%F\&amp;#34;-\&amp;#34;%a\&amp;#34;&amp;#34; | getline b; print &amp;gt; &amp;#34;/tmp/nginx-&amp;#34;b&amp;#34;.log&amp;#34;}&amp;#39;&lt;/span&gt; ~/access.log&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;日誌文件的命名如&lt;code&gt;nginx-2017-08-10-Thu.log&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&#34;hourly&#34;&gt;Hourly&lt;/h3&gt;

&lt;p&gt;按小時&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# %H     hour (00..23)
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;{a=gensub(/.* \[([^ ]*) .*/,&amp;#34;\\1&amp;#34;,&amp;#34;1&amp;#34;,$0);a=gensub(/\:/,&amp;#34; &amp;#34;,&amp;#34;1&amp;#34;,a);gsub(/\//,&amp;#34;-&amp;#34;,a);&amp;#34;date --date=\&amp;#34;&amp;#34;a&amp;#34;\&amp;#34; +\&amp;#34;%F\&amp;#34;-hour-\&amp;#34;%H\&amp;#34;&amp;#34; | getline b; print &amp;gt; &amp;#34;/tmp/nginx-&amp;#34;b&amp;#34;.log&amp;#34;}&amp;#39;&lt;/span&gt; ~/access.log&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;日誌文件的命名如&lt;code&gt;nginx-2017-08-10-hour-13.log&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&#34;per-minute&#34;&gt;Per Minute&lt;/h3&gt;

&lt;p&gt;按分鐘&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# %M     minute (00..59)
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;{a=gensub(/.* \[([^ ]*) .*/,&amp;#34;\\1&amp;#34;,&amp;#34;1&amp;#34;,$0);a=gensub(/\:/,&amp;#34; &amp;#34;,&amp;#34;1&amp;#34;,a);gsub(/\//,&amp;#34;-&amp;#34;,a);&amp;#34;date --date=\&amp;#34;&amp;#34;a&amp;#34;\&amp;#34; +\&amp;#34;%Y%m%d\&amp;#34;-\&amp;#34;%H:%M\&amp;#34;&amp;#34; | getline b; print &amp;gt; &amp;#34;/tmp/nginx-&amp;#34;b&amp;#34;.log&amp;#34;}&amp;#39;&lt;/span&gt; ~/access.log&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;日誌文件的命名如&lt;code&gt;nginx-20170810-13:36.log&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&#34;per-second&#34;&gt;Per Second&lt;/h3&gt;

&lt;p&gt;按秒&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# %S     second (00..60)
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;# %T     time; same as %H:%M:%S
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;{a=gensub(/.* \[([^ ]*) .*/,&amp;#34;\\1&amp;#34;,&amp;#34;1&amp;#34;,$0);a=gensub(/\:/,&amp;#34; &amp;#34;,&amp;#34;1&amp;#34;,a);gsub(/\//,&amp;#34;-&amp;#34;,a);&amp;#34;date --date=\&amp;#34;&amp;#34;a&amp;#34;\&amp;#34; +\&amp;#34;%Y%m%d\&amp;#34;-\&amp;#34;%T\&amp;#34;&amp;#34; | getline b; print &amp;gt; &amp;#34;/tmp/nginx-&amp;#34;b&amp;#34;.log&amp;#34;}&amp;#39;&lt;/span&gt; ~/access.log&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;日誌文件的命名如&lt;code&gt;nginx-20170810-13:36:09.log&lt;/code&gt;&lt;/p&gt;

&lt;h2 id=&#34;compression&#34;&gt;Compression&lt;/h2&gt;

&lt;h3 id=&#34;gzip-gz&#34;&gt;gzip gz&lt;/h3&gt;

&lt;p&gt;如果日誌文件已經被壓縮保存，可先解壓，在通過管道符&lt;code&gt;|&lt;/code&gt;將數據傳輸給&lt;code&gt;awk&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# .gz
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;zcat ~/access.log.gz &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;{a=gensub(/.* \[([^ ]*) .*/,&amp;#34;\\1&amp;#34;,&amp;#34;1&amp;#34;,$0);a=gensub(/\:/,&amp;#34; &amp;#34;,&amp;#34;1&amp;#34;,a);gsub(/\//,&amp;#34;-&amp;#34;,a);&amp;#34;date --date=\&amp;#34;&amp;#34;a&amp;#34;\&amp;#34; +\&amp;#34;%F\&amp;#34;-hour-\&amp;#34;%H\&amp;#34;&amp;#34; | getline b; print &amp;gt; &amp;#34;/tmp/nginx-&amp;#34;b&amp;#34;.log&amp;#34;}&amp;#39;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;example&#34;&gt;Example&lt;/h2&gt;

&lt;p&gt;以日誌&lt;code&gt;/var/log/baseserver_access.log&lt;/code&gt;爲例，文件大小&lt;code&gt;7.9G&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;按月份分割，操作命令如下&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;{a=gensub(/.* \[([^:]*):.*/,&amp;#34;\\1&amp;#34;,&amp;#34;1&amp;#34;,$0);gsub(/\//,&amp;#34;-&amp;#34;,a);&amp;#34;date --date=\&amp;#34;&amp;#34;a&amp;#34;\&amp;#34; +\&amp;#34;%Y\&amp;#34;-\&amp;#34;%m\&amp;#34;-\&amp;#34;%b\&amp;#34;&amp;#34; | getline b; print &amp;gt; &amp;#34;/tmp/nginx-&amp;#34;b&amp;#34;.log&amp;#34;}&amp;#39;&lt;/span&gt; /var/log/baseserver_access.log&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;生成的文件如下&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;-rw-r--r-- &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; root root  101M Aug &lt;span class=&#34;m&#34;&gt;10&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;14&lt;/span&gt;:37 /tmp/nginx-2016-10-Oct.log
-rw-r--r-- &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; root root  656M Aug &lt;span class=&#34;m&#34;&gt;10&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;14&lt;/span&gt;:37 /tmp/nginx-2016-11-Nov.log
-rw-r--r-- &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; root root  729M Aug &lt;span class=&#34;m&#34;&gt;10&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;14&lt;/span&gt;:37 /tmp/nginx-2016-12-Dec.log
-rw-r--r-- &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; root root  650M Aug &lt;span class=&#34;m&#34;&gt;10&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;14&lt;/span&gt;:37 /tmp/nginx-2017-01-Jan.log
-rw-r--r-- &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; root root  735M Aug &lt;span class=&#34;m&#34;&gt;10&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;14&lt;/span&gt;:37 /tmp/nginx-2017-02-Feb.log
-rw-r--r-- &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; root root  876M Aug &lt;span class=&#34;m&#34;&gt;10&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;14&lt;/span&gt;:37 /tmp/nginx-2017-03-Mar.log
-rw-r--r-- &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; root root  831M Aug &lt;span class=&#34;m&#34;&gt;10&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;14&lt;/span&gt;:37 /tmp/nginx-2017-04-Apr.log
-rw-r--r-- &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; root root  937M Aug &lt;span class=&#34;m&#34;&gt;10&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;14&lt;/span&gt;:37 /tmp/nginx-2017-05-May.log
-rw-r--r-- &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; root root 1022M Aug &lt;span class=&#34;m&#34;&gt;10&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;14&lt;/span&gt;:37 /tmp/nginx-2017-06-Jun.log
-rw-r--r-- &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; root root  &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;.1G Aug &lt;span class=&#34;m&#34;&gt;10&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;14&lt;/span&gt;:37 /tmp/nginx-2017-07-Jul.log
-rw-r--r-- &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; root root  388M Aug &lt;span class=&#34;m&#34;&gt;10&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;14&lt;/span&gt;:37 /tmp/nginx-2017-08-Aug.log&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;通過&lt;code&gt;time&lt;/code&gt;得到的操作時間如下&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;real	40m45.080s
user	39m59.076s
sys	0m21.479s&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;將近8G的日誌，操作耗時超過&lt;code&gt;40&lt;/code&gt;分鐘，原因是awk默認只使用單核心處理器。&lt;/p&gt;

&lt;h2 id=&#34;change-logs&#34;&gt;Change Logs&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;2017.08.10 16:39 Thu Asia/Shanghai

&lt;ul&gt;
&lt;li&gt;初稿完成&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;2018.04.11 10:44 Wed America/Boston

&lt;ul&gt;
&lt;li&gt;勘誤，遷移到新Blog&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- End --&gt;</description>
      
    </item>
    
    <item>
      <title>Extracting API Requests Info From Nginx Access Log</title>
      <link>/2017/extracting-api-requests-info-from-nginx-access-log/</link>
      <pubDate>Mon, 03 Jul 2017 11:43:21 +0800</pubDate>
      
      <guid>/2017/extracting-api-requests-info-from-nginx-access-log/</guid>
      
        <description>&lt;p&gt;運維部接到研發經理的需求，從Nginx日誌中提取某一天API接口調用信息，並根據指定的維度進行彙總。因日誌文件在線上生產環境中，且單個文件大小達數GB，爲了減少操作對生產環境的穩定性造成影響。將初步提取的數據下載到本地環境，進行進一步的彙總分析。&lt;/p&gt;

&lt;p&gt;以前是將提取的數據導入MySQL數據庫，通過SQL進行提取分析，雖方便但數據導入過程過於漫長。本文
操作主要使用&lt;code&gt;sed&lt;/code&gt;、&lt;code&gt;awk&lt;/code&gt;命令，並大量使用了一些高級特性，如&lt;code&gt;sed&lt;/code&gt;的添加行號、&lt;a href=&#34;https://www.gnu.org/software/sed/manual/html_node/Character-Classes-and-Bracket-Expressions.html&#34; title=&#34;Character Class&#34;&gt;字符类&lt;/a&gt;、正则、&lt;a href=&#34;https://www.gnu.org/software/sed/manual/html_node/Back_002dreferences-and-Subexpressions.html&#34; title=&#34;Back-references and Subexpressions&#34;&gt;後向引用&lt;/a&gt;；&lt;code&gt;awk&lt;/code&gt;的getline、&lt;a href=&#34;https://www.gnu.org/software/gawk/manual/html_node/Controlling-Scanning.html&#34; title=&#34;Controlling Array Traversal&#34;&gt;預定義數組掃描排序&lt;/a&gt;、&lt;a href=&#34;https://www.gnu.org/software/gawk/manual/html_node/Multidimensional.html&#34; title=&#34;Multidimensional Arrays&#34;&gt;多維數組&lt;/a&gt;等，算是後積薄發的一次展現。&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;注意&lt;/strong&gt;：本文只記錄需求實現過程，對於關鍵文件，只顯示文件名，不列出路徑。&lt;/p&gt;

&lt;h2 id=&#34;requirements&#34;&gt;Requirements&lt;/h2&gt;

&lt;h3 id=&#34;target&#34;&gt;Target&lt;/h3&gt;

&lt;p&gt;提取&lt;a href=&#34;http://www.deerbus.com&#34; title=&#34;飛路巴士&#34;&gt;飛路巴士&lt;/a&gt;於2017年06月26日的API接口調用數據，具體需求爲：&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;每秒請求數量最多的Top10時間段及數量，精確到秒；&lt;/li&gt;
&lt;li&gt;每秒請求頻次最高的接口及數量Top10；&lt;/li&gt;
&lt;li&gt;執行最慢的SQL及耗時、發生時間；&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&#34;data-source&#34;&gt;Data Source&lt;/h3&gt;

&lt;p&gt;具體的API域名爲&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;api.deerbus.com&lt;/li&gt;
&lt;li&gt;api.feilu66.com&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;通過域名在Nginx配置文件中提取到&lt;a href=&#34;http://www.deerbus.com&#34; title=&#34;飛路巴士&#34;&gt;飛路巴士&lt;/a&gt;相關服務對應的訪問日誌，具體信息如下&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;API Domain&lt;/th&gt;
&lt;th&gt;Path&lt;/th&gt;
&lt;th&gt;Size&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;api.deerbus.com&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;api.deerbus.com_access.log&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;5.5G&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;api.feilu66.com&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;api.feilu66.com_access.log&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;1.7G&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&#34;nginx-log-format&#34;&gt;Nginx Log Format&lt;/h3&gt;

&lt;p&gt;指令&lt;code&gt;log_format&lt;/code&gt;在Nginx配置文件中的定義如下&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;$remote_addr - $remote_user [$time_local] &amp;#34;$request&amp;#34; $status $body_bytes_sent &amp;#34;$http_referer&amp;#34; &amp;#34;$http_user_agent&amp;#34; &amp;#34;$http_x_forwarded_for&amp;#34;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;注意&lt;/strong&gt;：當某個指定的值爲空時，用字符&lt;code&gt;-&lt;/code&gt;表示其內容。&lt;/p&gt;

&lt;p&gt;提取日誌&lt;code&gt;api.deerbus.com_access.log&lt;/code&gt;中的一條數據用於分析&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;223.104.213.12 - - [30/Jun/2017:13:27:56 +0800] &amp;ldquo;POST /bususer/nearbyRoute.do HTTP/1.1&amp;rdquo; 200 2703 &amp;ldquo;-&amp;rdquo; &amp;ldquo;%E9%A3%9E%E8%B7%AF%E5%B7%B4%E5%A3%AB/3.6.0 CFNetwork/758.0.2 Darwin/15.0.0&amp;rdquo;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;分析如下&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;parameter&lt;/th&gt;
&lt;th&gt;value&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;$remote_addr&lt;/td&gt;
&lt;td&gt;&lt;code&gt;223.104.213.12&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;$remote_user&lt;/td&gt;
&lt;td&gt;&lt;code&gt;-&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;[$time_local]&lt;/td&gt;
&lt;td&gt;&lt;code&gt;[30/Jun/2017:13:27:56 +0800]&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;$request&lt;/td&gt;
&lt;td&gt;&lt;code&gt;&amp;quot;POST /bususer/nearbyRoute.do HTTP/1.1&amp;quot;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;$status&lt;/td&gt;
&lt;td&gt;&lt;code&gt;200&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;$body_bytes_sent&lt;/td&gt;
&lt;td&gt;&lt;code&gt;2703&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;$http_referer&lt;/td&gt;
&lt;td&gt;&lt;code&gt;-&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;$http_user_agent&lt;/td&gt;
&lt;td&gt;&lt;code&gt;&amp;quot;%E9%A3%9E%E8%B7%AF%E5%B7%B4%E5%A3%AB/3.6.0 CFNetwork/758.0.2 Darwin/15.0.0&amp;quot;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;$http_x_forwarded_for&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;需要使用到的指令有&lt;code&gt;$remote_addr&lt;/code&gt;、&lt;code&gt;[$time_local]&lt;/code&gt;、&lt;code&gt;$request&lt;/code&gt;，此處僅以&lt;code&gt;$remote_addr&lt;/code&gt;、&lt;code&gt;[$time_local]&lt;/code&gt;二者確定一次API接口的訪問請求。&lt;/p&gt;

&lt;p&gt;初步提取出的數據格式爲&lt;code&gt;remote_addr|time_local|api&lt;/code&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;223.104.213.12|30 Jun 2017:13:27:56|/bususer/nearbyRoute.do&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h4 id=&#34;outlier-data&#34;&gt;Outlier Data&lt;/h4&gt;

&lt;p&gt;Nginx日誌文件中存在格式異常的數據，如&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;223.104.212.38 - - [26/Jun/2017:223.104.212.76 - - [26/Jun/2017:07:25:18 +0800] &amp;ldquo;POST /serve/driver/getInfo.do HTTP/1.1&amp;rdquo; 200 761 &amp;ldquo;-&amp;rdquo; &amp;ldquo;okhttp/3.1.2&amp;rdquo;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;數據處理時，須考慮對異常數據對操作命令的影響。&lt;/p&gt;

&lt;h2 id=&#34;data-extraction&#34;&gt;Data Extraction&lt;/h2&gt;

&lt;p&gt;將目標日期當天所有符合條件的API接口調用數據提取出來，存儲到臨時文件中作進一步分析用。此處定義相關臨時文件路徑：&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;api domain&lt;/th&gt;
&lt;th&gt;temp file&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;api.deerbus.com&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/tmp/api_deerbus.txt&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;api.feilu66.com&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;/tmp/api_feilu66.txt&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&#34;command&#34;&gt;Command&lt;/h3&gt;

&lt;p&gt;提取命令如下&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# api.deerbus.com
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;sed -r -n &lt;span class=&#34;s1&#34;&gt;&amp;#39;/\[26\/Jun\/2017:/{s@-[[:space:]]@@g;s@[[:space:]]*\+[[:digit:]]+@@g;s@\&amp;#34;[[:upper:]]+ ([^[:space:]]*) .*@\1@g;s@(\[|\])@@g;s@ @|@g;s@([[:digit:]]{4}):@\1 @g;s@([[:digit:]]{1,2})/([[:alpha:]]+)/([[:digit:]]{4})@\1 \2 \3@g;p}&amp;#39;&lt;/span&gt; /PATH/api.deerbus.com_access.log &amp;gt; /tmp/api_deerbus.txt&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;通過&lt;code&gt;sed&lt;/code&gt;的&lt;a href=&#34;https://www.gnu.org/software/sed/manual/html_node/Character-Classes-and-Bracket-Expressions.html&#34; title=&#34;Character Class&#34;&gt;字符類&lt;/a&gt;、&lt;a href=&#34;https://www.gnu.org/software/sed/manual/html_node/Back_002dreferences-and-Subexpressions.html&#34; title=&#34;Back-references and Subexpressions&#34;&gt;後向引用&lt;/a&gt;、正則表達式的配合使用實現。&lt;/p&gt;

&lt;p&gt;&lt;code&gt;api.feilu66.com&lt;/code&gt;的日誌提取同上。&lt;/p&gt;

&lt;h3 id=&#34;data-format&#34;&gt;Data Format&lt;/h3&gt;

&lt;p&gt;提取出的數據格式如下&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#head -n 2 /tmp/api_deerbus.txt
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;101&lt;/span&gt;.90.253.174&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;26&lt;/span&gt; Jun &lt;span class=&#34;m&#34;&gt;2017&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;00&lt;/span&gt;:00:00&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;/bususer/search.do
&lt;span class=&#34;m&#34;&gt;180&lt;/span&gt;.159.44.125&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;26&lt;/span&gt; Jun &lt;span class=&#34;m&#34;&gt;2017&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;00&lt;/span&gt;:00:00&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;/bususer/search.do

&lt;span class=&#34;c1&#34;&gt;#head -n 2 /tmp/api_feilu66.txt
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;58&lt;/span&gt;.33.50.235&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;26&lt;/span&gt; Jun &lt;span class=&#34;m&#34;&gt;2017&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;00&lt;/span&gt;:00:08&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;/serve/driver/uploadGPS.do
&lt;span class=&#34;m&#34;&gt;183&lt;/span&gt;.193.190.67&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;26&lt;/span&gt; Jun &lt;span class=&#34;m&#34;&gt;2017&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;00&lt;/span&gt;:00:09&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;/serve/driver/uploadGPS.do&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;提取操作相關信息&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;temp file&lt;/th&gt;
&lt;th&gt;lines&lt;/th&gt;
&lt;th&gt;size&lt;/th&gt;
&lt;th&gt;time consuming&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;/tmp/api_deerbus.txt&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;392,712&lt;/td&gt;
&lt;td&gt;23M&lt;/td&gt;
&lt;td&gt;53.983s&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;/tmp/api_feilu66.txt&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;39,100&lt;/td&gt;
&lt;td&gt;2.6M&lt;/td&gt;
&lt;td&gt;14.411s&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&#34;analyzing&#34;&gt;Analyzing&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;注意&lt;/strong&gt;：&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;此處的分析不作 &lt;code&gt;去重&lt;/code&gt;處理；&lt;/li&gt;
&lt;li&gt;爲避免過度佔用線上主機的CPU資源，將文件下載至個人工作電腦(&lt;code&gt;ThinkPad E450&lt;/code&gt;)中進行操作；&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&#34;requests-per-second&#34;&gt;Requests Per Second&lt;/h3&gt;

&lt;p&gt;按時間(精度爲秒)，每一秒的API接口請求數&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# api.deerbus.com
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;awk -F&lt;span class=&#34;se&#34;&gt;\|&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;BEGIN{OFS=&amp;#34;|&amp;#34;}{&amp;#34;date --date=\&amp;#34;&amp;#34;$(NF-1)&amp;#34;\&amp;#34; +\&amp;#34;%F %T\&amp;#34;&amp;#34; | getline a;arr[a]++}END{PROCINFO[&amp;#34;sorted_in&amp;#34;]=&amp;#34;@val_num_desc&amp;#34;;for (i in arr) print i,arr[i] }&amp;#39;&lt;/span&gt; api_deerbus.txt &amp;gt; /tmp/deerbus_total_counts_per_second.txt&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;通過&lt;code&gt;awk&lt;/code&gt;實現，此處使用&lt;code&gt;$(NF-1)&lt;/code&gt;是爲了消除異常數據對操作的影響。&lt;/p&gt;

&lt;p&gt;&lt;code&gt;api.feilu66.com&lt;/code&gt;的日誌提取同上。&lt;/p&gt;

&lt;p&gt;提取操作相關信息&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;temp file&lt;/th&gt;
&lt;th&gt;lines&lt;/th&gt;
&lt;th&gt;time consuming&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;/tmp/deerbus_total_counts_per_second.txt&lt;/td&gt;
&lt;td&gt;52,302&lt;/td&gt;
&lt;td&gt;12m31.617s&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;/tmp/feilu66_total_counts_per_second.txt&lt;/td&gt;
&lt;td&gt;25,364&lt;/td&gt;
&lt;td&gt;3m48.103s&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&#34;requests-per-second-for-specific-api&#34;&gt;Requests Per Second For Specific API&lt;/h3&gt;

&lt;p&gt;按具體接口每秒被調用的次數，接口名和請求時間二者確定一次請求。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# api.deerbus.com
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;awk -F&lt;span class=&#34;se&#34;&gt;\|&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;BEGIN{OFS=&amp;#34;|&amp;#34;}{&amp;#34;date --date=\&amp;#34;&amp;#34;$(NF-1)&amp;#34;\&amp;#34; +\&amp;#34;%F %T\&amp;#34;&amp;#34; | getline a;arr[$NF,a]++}END{PROCINFO[&amp;#34;sorted_in&amp;#34;]=&amp;#34;@val_num_desc&amp;#34;;for (i in arr) {split(i,j,SUBSEP);print j[2],j[1],arr[i]}}&amp;#39;&lt;/span&gt; api_deerbus.txt &amp;gt; /tmp/deerbus_specific_counts_per_second.txt&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;通過&lt;code&gt;awk&lt;/code&gt;的&lt;a href=&#34;https://www.gnu.org/software/gawk/manual/html_node/Multidimensional.html&#34; title=&#34;Multidimensional Arrays&#34;&gt;多維數組&lt;/a&gt;實現2個維度確定一條數據。&lt;/p&gt;

&lt;p&gt;&lt;code&gt;api.feilu66.com&lt;/code&gt;的日誌提取同上。&lt;/p&gt;

&lt;p&gt;提取操作相關信息&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;temp file&lt;/th&gt;
&lt;th&gt;lines&lt;/th&gt;
&lt;th&gt;time consuming&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;/tmp/deerbus_specific_counts_per_second.txt&lt;/td&gt;
&lt;td&gt;210,889&lt;/td&gt;
&lt;td&gt;11m30.479s&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;/tmp/feilu66_specific_counts_per_second.txt&lt;/td&gt;
&lt;td&gt;34,705&lt;/td&gt;
&lt;td&gt;3m26.213s&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&#34;data-output&#34;&gt;Data Output&lt;/h2&gt;

&lt;p&gt;最終數據展示，此處提取前Top20。其中的排列需要通過&lt;code&gt;sed = file | sed &#39;N;s/\n/|/g&#39;&lt;/code&gt;實現。&lt;/p&gt;

&lt;h3 id=&#34;requests-per-second-1&#34;&gt;Requests Per Second&lt;/h3&gt;

&lt;h4 id=&#34;deerbus&#34;&gt;deerbus&lt;/h4&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;No.&lt;/th&gt;
&lt;th&gt;time&lt;/th&gt;
&lt;th&gt;requests&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;08:00:02&lt;/td&gt;
&lt;td&gt;2854&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;07:25:24&lt;/td&gt;
&lt;td&gt;108&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;07:25:17&lt;/td&gt;
&lt;td&gt;105&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;07:25:23&lt;/td&gt;
&lt;td&gt;103&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;07:25:22&lt;/td&gt;
&lt;td&gt;97&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;07:25:25&lt;/td&gt;
&lt;td&gt;92&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;07:25:18&lt;/td&gt;
&lt;td&gt;87&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;07:25:19&lt;/td&gt;
&lt;td&gt;86&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;07:25:29&lt;/td&gt;
&lt;td&gt;85&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;07:25:26&lt;/td&gt;
&lt;td&gt;82&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;11&lt;/td&gt;
&lt;td&gt;07:25:27&lt;/td&gt;
&lt;td&gt;82&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;12&lt;/td&gt;
&lt;td&gt;07:25:38&lt;/td&gt;
&lt;td&gt;82&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;13&lt;/td&gt;
&lt;td&gt;07:25:28&lt;/td&gt;
&lt;td&gt;80&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;14&lt;/td&gt;
&lt;td&gt;07:25:30&lt;/td&gt;
&lt;td&gt;79&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;td&gt;07:25:33&lt;/td&gt;
&lt;td&gt;78&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;16&lt;/td&gt;
&lt;td&gt;07:25:37&lt;/td&gt;
&lt;td&gt;78&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;17&lt;/td&gt;
&lt;td&gt;07:25:20&lt;/td&gt;
&lt;td&gt;77&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;18&lt;/td&gt;
&lt;td&gt;07:25:21&lt;/td&gt;
&lt;td&gt;77&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;19&lt;/td&gt;
&lt;td&gt;07:25:41&lt;/td&gt;
&lt;td&gt;77&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;20&lt;/td&gt;
&lt;td&gt;07:25:31&lt;/td&gt;
&lt;td&gt;72&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h4 id=&#34;feilu66&#34;&gt;feilu66&lt;/h4&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;No.&lt;/th&gt;
&lt;th&gt;time&lt;/th&gt;
&lt;th&gt;requests&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;19:30:02&lt;/td&gt;
&lt;td&gt;49&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;13:10:01&lt;/td&gt;
&lt;td&gt;27&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;12:00:00&lt;/td&gt;
&lt;td&gt;25&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;12:00:01&lt;/td&gt;
&lt;td&gt;25&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;13:10:00&lt;/td&gt;
&lt;td&gt;23&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;19:30:03&lt;/td&gt;
&lt;td&gt;22&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;07:00:19&lt;/td&gt;
&lt;td&gt;19&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;07:56:46&lt;/td&gt;
&lt;td&gt;16&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;09:29:18&lt;/td&gt;
&lt;td&gt;16&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;15:35:43&lt;/td&gt;
&lt;td&gt;16&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;11&lt;/td&gt;
&lt;td&gt;15:34:25&lt;/td&gt;
&lt;td&gt;16&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;12&lt;/td&gt;
&lt;td&gt;07:56:56&lt;/td&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;13&lt;/td&gt;
&lt;td&gt;15:35:54&lt;/td&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;14&lt;/td&gt;
&lt;td&gt;14:16:23&lt;/td&gt;
&lt;td&gt;14&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;td&gt;11:07:38&lt;/td&gt;
&lt;td&gt;14&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;16&lt;/td&gt;
&lt;td&gt;07:59:00&lt;/td&gt;
&lt;td&gt;14&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;17&lt;/td&gt;
&lt;td&gt;07:00:20&lt;/td&gt;
&lt;td&gt;14&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;18&lt;/td&gt;
&lt;td&gt;15:32:34&lt;/td&gt;
&lt;td&gt;14&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;19&lt;/td&gt;
&lt;td&gt;10:19:13&lt;/td&gt;
&lt;td&gt;14&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;20&lt;/td&gt;
&lt;td&gt;10:21:56&lt;/td&gt;
&lt;td&gt;13&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&#34;requests-per-second-for-specific-api-1&#34;&gt;Requests Per Second For Specific API&lt;/h3&gt;

&lt;h4 id=&#34;deerbus-1&#34;&gt;deerbus&lt;/h4&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;No.&lt;/th&gt;
&lt;th&gt;time&lt;/th&gt;
&lt;th&gt;api&lt;/th&gt;
&lt;th&gt;requests&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;08:00:02&lt;/td&gt;
&lt;td&gt;/driver/uploadGPS.do&lt;/td&gt;
&lt;td&gt;864&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;08:00:02&lt;/td&gt;
&lt;td&gt;/bususer/getRealTimeRouteInfo.do&lt;/td&gt;
&lt;td&gt;297&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;08:00:02&lt;/td&gt;
&lt;td&gt;/bususer/getBusPosition.do&lt;/td&gt;
&lt;td&gt;296&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;08:00:02&lt;/td&gt;
&lt;td&gt;/bususer/getUserTickets.do&lt;/td&gt;
&lt;td&gt;202&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;08:00:02&lt;/td&gt;
&lt;td&gt;/serve/optServer.do&lt;/td&gt;
&lt;td&gt;185&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;08:00:02&lt;/td&gt;
&lt;td&gt;/bususer/checkTicketWithPosition.do&lt;/td&gt;
&lt;td&gt;133&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;08:00:02&lt;/td&gt;
&lt;td&gt;/bususer/getUserInfo.do&lt;/td&gt;
&lt;td&gt;129&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;08:00:02&lt;/td&gt;
&lt;td&gt;/bususer/flybusLogin.do&lt;/td&gt;
&lt;td&gt;118&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;08:00:02&lt;/td&gt;
&lt;td&gt;/bususer/search.do&lt;/td&gt;
&lt;td&gt;98&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;08:00:02&lt;/td&gt;
&lt;td&gt;/bususer/findRouteList.do&lt;/td&gt;
&lt;td&gt;84&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;11&lt;/td&gt;
&lt;td&gt;08:00:02&lt;/td&gt;
&lt;td&gt;/bususer/getContentResources.do&lt;/td&gt;
&lt;td&gt;76&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;12&lt;/td&gt;
&lt;td&gt;08:00:02&lt;/td&gt;
&lt;td&gt;/bususer/getBanner.do&lt;/td&gt;
&lt;td&gt;65&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;13&lt;/td&gt;
&lt;td&gt;08:00:02&lt;/td&gt;
&lt;td&gt;/bususer/saveToken.do&lt;/td&gt;
&lt;td&gt;51&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;14&lt;/td&gt;
&lt;td&gt;08:00:02&lt;/td&gt;
&lt;td&gt;/bususer/myCouponList.do&lt;/td&gt;
&lt;td&gt;45&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;td&gt;08:00:02&lt;/td&gt;
&lt;td&gt;/bususer/findOpenDays.do&lt;/td&gt;
&lt;td&gt;37&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;16&lt;/td&gt;
&lt;td&gt;14:38:17&lt;/td&gt;
&lt;td&gt;/bususer/fuzzyQueryStopInfo.do&lt;/td&gt;
&lt;td&gt;32&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;17&lt;/td&gt;
&lt;td&gt;07:25:17&lt;/td&gt;
&lt;td&gt;/bususer/getUserTickets.do&lt;/td&gt;
&lt;td&gt;29&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;18&lt;/td&gt;
&lt;td&gt;07:25:18&lt;/td&gt;
&lt;td&gt;/bususer/getUserTickets.do&lt;/td&gt;
&lt;td&gt;28&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;19&lt;/td&gt;
&lt;td&gt;08:00:02&lt;/td&gt;
&lt;td&gt;/bususer/findRouteDetail.do&lt;/td&gt;
&lt;td&gt;24&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;20&lt;/td&gt;
&lt;td&gt;07:25:23&lt;/td&gt;
&lt;td&gt;/serve/optServer.do&lt;/td&gt;
&lt;td&gt;22&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h4 id=&#34;deerbus-2&#34;&gt;deerbus&lt;/h4&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;No.&lt;/th&gt;
&lt;th&gt;time&lt;/th&gt;
&lt;th&gt;api&lt;/th&gt;
&lt;th&gt;requests&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;19:30:02&lt;/td&gt;
&lt;td&gt;/serve/getNewsBriefList.do&lt;/td&gt;
&lt;td&gt;42&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;13:10:01&lt;/td&gt;
&lt;td&gt;/serve/getNewsBriefList.do&lt;/td&gt;
&lt;td&gt;25&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;12:00:00&lt;/td&gt;
&lt;td&gt;/serve/getNewsBriefList.do&lt;/td&gt;
&lt;td&gt;22&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;12:00:01&lt;/td&gt;
&lt;td&gt;/serve/getNewsBriefList.do&lt;/td&gt;
&lt;td&gt;22&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;19:30:03&lt;/td&gt;
&lt;td&gt;/serve/getNewsBriefList.do&lt;/td&gt;
&lt;td&gt;21&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;13:10:00&lt;/td&gt;
&lt;td&gt;/serve/getNewsBriefList.do&lt;/td&gt;
&lt;td&gt;20&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;07:00:19&lt;/td&gt;
&lt;td&gt;/serve/getNewsBriefList.do&lt;/td&gt;
&lt;td&gt;18&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;09:29:18&lt;/td&gt;
&lt;td&gt;/vehchile/getCarNum.do&lt;/td&gt;
&lt;td&gt;16&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;15:34:25&lt;/td&gt;
&lt;td&gt;/vehchile/getCarNum.do&lt;/td&gt;
&lt;td&gt;16&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;11:07:38&lt;/td&gt;
&lt;td&gt;/vehchile/getCarNum.do&lt;/td&gt;
&lt;td&gt;14&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;11&lt;/td&gt;
&lt;td&gt;15:35:43&lt;/td&gt;
&lt;td&gt;/vehchile/getCarNum.do&lt;/td&gt;
&lt;td&gt;14&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;12&lt;/td&gt;
&lt;td&gt;15:35:54&lt;/td&gt;
&lt;td&gt;/vehchile/getCarNum.do&lt;/td&gt;
&lt;td&gt;14&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;13&lt;/td&gt;
&lt;td&gt;15:32:34&lt;/td&gt;
&lt;td&gt;/vehchile/getCarNum.do&lt;/td&gt;
&lt;td&gt;14&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;14&lt;/td&gt;
&lt;td&gt;10:19:13&lt;/td&gt;
&lt;td&gt;/vehchile/getCarNum.do&lt;/td&gt;
&lt;td&gt;14&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;td&gt;14:16:23&lt;/td&gt;
&lt;td&gt;/vehchile/getCarNum.do&lt;/td&gt;
&lt;td&gt;14&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;16&lt;/td&gt;
&lt;td&gt;15:32:24&lt;/td&gt;
&lt;td&gt;/vehchile/getCarNum.do&lt;/td&gt;
&lt;td&gt;13&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;17&lt;/td&gt;
&lt;td&gt;10:19:03&lt;/td&gt;
&lt;td&gt;/vehchile/getCarNum.do&lt;/td&gt;
&lt;td&gt;13&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;18&lt;/td&gt;
&lt;td&gt;10:21:56&lt;/td&gt;
&lt;td&gt;/vehchile/getCarNum.do&lt;/td&gt;
&lt;td&gt;13&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;19&lt;/td&gt;
&lt;td&gt;07:00:20&lt;/td&gt;
&lt;td&gt;/serve/getNewsBriefList.do&lt;/td&gt;
&lt;td&gt;13&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;20&lt;/td&gt;
&lt;td&gt;12:09:22&lt;/td&gt;
&lt;td&gt;/vehchile/getCarNum.do&lt;/td&gt;
&lt;td&gt;13&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&#34;sql-slow-query&#34;&gt;SQL Slow Query&lt;/h2&gt;

&lt;p&gt;SQL慢查詢日誌來自生成數據庫，因涉及到數據庫表字段，此處不列出具體的SQL語句，只顯示執行時間。&lt;/p&gt;

&lt;p&gt;通過關鍵詞&lt;code&gt;Time: 170626&lt;/code&gt;提取。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;o&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;170626&lt;/span&gt;  &lt;span class=&#34;mi&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;53&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;47&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Query_time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;589281&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;Lock_time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;000688&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Rows_sent&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;90&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;Rows_examined&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;5456950&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;170626&lt;/span&gt;  &lt;span class=&#34;mi&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;53&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;50&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Query_time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;300753&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;Lock_time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;000414&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Rows_sent&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;90&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;Rows_examined&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;5456952&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;170626&lt;/span&gt;  &lt;span class=&#34;mi&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;53&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;51&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Query_time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;318564&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;Lock_time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;000609&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Rows_sent&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;90&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;Rows_examined&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;5456952&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;170626&lt;/span&gt;  &lt;span class=&#34;mi&#34;&gt;9&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;09&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;06&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Query_time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;083190&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;Lock_time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;000229&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Rows_sent&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;Rows_examined&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1342780&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;170626&lt;/span&gt;  &lt;span class=&#34;mi&#34;&gt;9&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;09&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;09&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Query_time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;300643&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;Lock_time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;000252&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Rows_sent&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;18&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;Rows_examined&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1337464&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Query_time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;300645&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;Lock_time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;000252&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Rows_sent&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;18&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;Rows_examined&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1337464&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;SET&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;timestamp&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1498439349&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Query_time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;303412&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;Lock_time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;000165&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Rows_sent&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;30&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;Rows_examined&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1344612&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;SET&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;timestamp&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1498439349&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;170626&lt;/span&gt;  &lt;span class=&#34;mi&#34;&gt;9&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;02&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Query_time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;495894&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;Lock_time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;000265&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Rows_sent&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;Rows_examined&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2702204&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;170626&lt;/span&gt;  &lt;span class=&#34;mi&#34;&gt;9&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;06&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Query_time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;442528&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;Lock_time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;000155&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Rows_sent&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;30&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;Rows_examined&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2702360&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;170626&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;49&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;39&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Query_time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;037750&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;Lock_time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;000758&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Rows_sent&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;Rows_examined&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;816958&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;170626&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;17&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;57&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;06&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Query_time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;962839&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;Lock_time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;000207&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Rows_sent&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;Rows_examined&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1825767&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;170626&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;22&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;29&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;46&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Query_time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;916867&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;Lock_time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;000170&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Rows_sent&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;Rows_examined&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1827446&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;雖然兼任公司的DBA，但手中擁有的權限少得可憐。在面對開發人員的SQL語句時，有一種無力感。&lt;/p&gt;

&lt;h2 id=&#34;change-logs&#34;&gt;Change Logs&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;2017.07.03 11:42 Mon Asia/Shanghai

&lt;ul&gt;
&lt;li&gt;初稿完成&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;2018.04.11 09:59 Wed America/Boston

&lt;ul&gt;
&lt;li&gt;勘誤，遷移到新Blog&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- End --&gt;</description>
      
    </item>
    
    <item>
      <title>Using Sed To Reverse Character Or Line On GNU/Linux</title>
      <link>/2017/using-sed-to-reverse-character-or-line-on-gnu-linux/</link>
      <pubDate>Thu, 15 Jun 2017 11:27:01 +0800</pubDate>
      
      <guid>/2017/using-sed-to-reverse-character-or-line-on-gnu-linux/</guid>
      
        <description>&lt;p&gt;&lt;a href=&#34;https://www.gnu.org/software/sed/&#34; title=&#34;GNU sed&#34;&gt;GNU sed&lt;/a&gt;是一款文本流編輯器(stream editor)，功能強大，官方文檔 &lt;a href=&#34;https://www.gnu.org/software/sed/manual/sed.html&#34;&gt;sed, a stream editor&lt;/a&gt;。網路上也有許多不錯的教程，&lt;a href=&#34;http://pement.org/sed/sed1line.txt&#34;&gt;USEFUL ONE-LINE SCRIPTS FOR SED (Unix stream editor)&lt;/a&gt;便是其中之一。本文主要討論其中 &lt;em&gt;字符串逆序排列&lt;/em&gt; (character reverse)和 &lt;em&gt;文本行倒置&lt;/em&gt; (line reverse，功能類似&lt;code&gt;tac&lt;/code&gt;命令)的實現過程。&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;字符串逆序排列命令： &lt;code&gt;sed &#39;/\n/!G;s/\(.\)\(.*\n\)/&amp;amp;\2\1/;//D;s/.//&#39;&lt;/code&gt;；&lt;/li&gt;
&lt;li&gt;文本行倒置命令：

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;sed &#39;1!G;h;$!d&#39;&lt;/code&gt;；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sed -n &#39;1!G;h;$p&#39;&lt;/code&gt;；&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;character-reverse&#34;&gt;Character Reverse&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;sed &lt;span class=&#34;s1&#34;&gt;&amp;#39;/\n/!G;s/\(.\)\(.*\n\)/&amp;amp;\2\1/;//D;s/.//&amp;#39;&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# 改寫後形式
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;sed -r &lt;span class=&#34;s1&#34;&gt;&amp;#39;/\n/!G;s@(.)(.*\n)@&amp;amp;\2\1@;//D;s@.@@&amp;#39;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&#34;command-explanation&#34;&gt;Command Explanation&lt;/h3&gt;

&lt;p&gt;網路上已有對該命令的解釋&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://stackoverflow.com/questions/9703152/sed-d-command#9703275&#34; title=&#34;StackOverfoow&#34;&gt;sed: &amp;lsquo;//D&amp;rsquo; command&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.catonmat.net/blog/sed-one-liners-explained-part-one/&#34;&gt;Sed One-Liners Explained, Part I: File Spacing, Numbering and Text Conversion and Substitution&lt;/a&gt;的&lt;code&gt;37. Reverse a line (emulates &amp;quot;rev&amp;quot; Unix command).&lt;/code&gt;部分&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;相關指令定義如下：&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;code&gt;G&lt;/code&gt;:  &lt;strong&gt;append&lt;/strong&gt; &lt;em&gt;hold space&lt;/em&gt; to *pattern space*；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;D&lt;/code&gt;:  delete text in the pattern space up to the first newline；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;!&lt;/code&gt;表是取反；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;;&lt;/code&gt;用於分隔操作，順序執行；&lt;/li&gt;
&lt;li&gt;圓括號&lt;code&gt;()&lt;/code&gt;之前的反斜線&lt;code&gt;\&lt;/code&gt;表示轉義，如果使用&lt;code&gt;-r&lt;/code&gt;，則無需使用&lt;code&gt;\&lt;/code&gt;進行轉義；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;//&lt;/code&gt;表示使用正則匹配，如果&lt;code&gt;//&lt;/code&gt;中不包含任何內容，只是單純的&lt;code&gt;//&lt;/code&gt;，則表示最近一次使用正則匹配到的內容。官方說明見：&lt;/li&gt;
&lt;/ol&gt;

&lt;blockquote&gt;
&lt;p&gt;The empty regular expression &lt;code&gt;//&lt;/code&gt; repeats the last regular expression match (the same holds if the empty regular expression is passed to the s command). Note that modifiers to regular expressions are evaluated when the regular expression is compiled, thus it is invalid to specify them together with the empty regular expression. &amp;ndash; &lt;a href=&#34;https://www.gnu.org/software/sed/manual/sed.html#Regexp-Addresses&#34;&gt;4.3 selecting lines by text matching&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h4 id=&#34;step-1&#34;&gt;Step 1&lt;/h4&gt;

&lt;p&gt;&lt;code&gt;/\n/!G&lt;/code&gt;表示對不含有換行符&lt;code&gt;\n&lt;/code&gt;的數據行，將 &lt;em&gt;hold space&lt;/em&gt; 中的內容追加到 &lt;em&gt;pattern space&lt;/em&gt; ，如果 &lt;em&gt;hold space&lt;/em&gt; 爲空，則相當於在每行的下一行添加了一空行。&lt;/p&gt;

&lt;h4 id=&#34;step-2&#34;&gt;Step 2&lt;/h4&gt;

&lt;p&gt;&lt;code&gt;s/\(.\)\(.*\n\)/&amp;amp;\2\1/&lt;/code&gt;表示通過正則查找匹配內容並實現替換。&lt;code&gt;.&lt;/code&gt;表示任意不爲&lt;code&gt;\n&lt;/code&gt;的單個字符，&lt;code&gt;.*&lt;/code&gt;表示任意多個不爲&lt;code&gt;\n&lt;/code&gt;的單個字符(&amp;gt;=0)。&lt;code&gt;\(.\)&lt;/code&gt;、&lt;code&gt;\(.*\n\)&lt;/code&gt;用圓括號包裹起來表示稍後爲用到，分別對應其後的&lt;code&gt;\1&lt;/code&gt;、&lt;code&gt;\2&lt;/code&gt;，這種使用方式叫&lt;code&gt;back-reference&lt;/code&gt;，具體見官方文檔&lt;a href=&#34;https://www.gnu.org/software/sed/manual/sed.html#Back_002dreferences-and-Subexpressions&#34;&gt;5.7 Back-references and Subexpressions&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;此處字符 &lt;strong&gt;&lt;code&gt;&amp;amp;&lt;/code&gt;&lt;/strong&gt; 非常重要，表示最近一次使用正則匹配到的內容，即命令中的&lt;code&gt;\(.\)\(.*\n\)&lt;/code&gt;(或&lt;code&gt;\1\2&lt;/code&gt;)，爲匹配到的內容則仍按最開始的位置顯示。例如字符串&lt;code&gt;dcba&lt;/code&gt;，第一次作用後的格式爲&lt;code&gt;dcba\ncba\nd&lt;/code&gt;，經過&lt;code&gt;//D&lt;/code&gt;作用，第二次的格式是&lt;code&gt;cba\nba\cd&lt;/code&gt;，第二次作用後顯示的內容中，最後一個字符&lt;code&gt;d&lt;/code&gt;是未用正則匹配到的內容，照常顯示，即第二次的&lt;code&gt;&amp;amp;\2\1&lt;/code&gt;是&lt;code&gt;cba\nba\c&lt;/code&gt;，輸出的內容加上未被匹配到的字符&lt;code&gt;d&lt;/code&gt;，形成&lt;code&gt;cba\nba\cd&lt;/code&gt;，這非常重要。&lt;/p&gt;

&lt;h4 id=&#34;step-3&#34;&gt;Step 3&lt;/h4&gt;

&lt;p&gt;&lt;code&gt;//D&lt;/code&gt;是4個步驟中最爲重要的步驟，上文簡要介紹過，單純的&lt;code&gt;//&lt;/code&gt;表示最近一次使用正則匹配到的內容&lt;code&gt;\(.\)\(.*\n\)&lt;/code&gt;(或&lt;code&gt;\1\2&lt;/code&gt;)。即&lt;code&gt;//&lt;/code&gt;等同於&lt;code&gt;/\(.\)\(.*\n\)/&lt;/code&gt;。字符&lt;code&gt;D&lt;/code&gt;表示刪除 &lt;em&gt;pattern space&lt;/em&gt; 中第一個&lt;code&gt;\n&lt;/code&gt;之前的內容，如&lt;code&gt;dcba\ncba\nd&lt;/code&gt;，&lt;code&gt;//&lt;/code&gt;爲&lt;code&gt;/dcba\n/&lt;/code&gt;，經&lt;code&gt;//D&lt;/code&gt;作用後爲&lt;code&gt;cba\nd&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;&lt;code&gt;//D&lt;/code&gt;會對字符串進行 &lt;strong&gt;循環&lt;/strong&gt; 操作，操作命令即前一個命令&lt;code&gt;s/\(.\)\(.*\n\)/&amp;amp;\2\1/&lt;/code&gt;。當無匹配內容時，則跳出開始執行下一個命令。&lt;/p&gt;

&lt;h4 id=&#34;step-4&#34;&gt;Step 4&lt;/h4&gt;

&lt;p&gt;&lt;code&gt;s/.//&lt;/code&gt;表示刪除行首爲&lt;code&gt;newline&lt;/code&gt;字符串的行，可理解爲是空行。&lt;/p&gt;

&lt;h3 id=&#34;divided-process&#34;&gt;Divided Process&lt;/h3&gt;

&lt;p&gt;構建文件&lt;code&gt;/tmp/sed.txt&lt;/code&gt;，內容如下&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;4321&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;分解過程如下&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;count&lt;/th&gt;
&lt;th&gt;&lt;code&gt;s/\(.\)\(.*\n\)/&amp;amp;\2\1/&lt;/code&gt;&lt;/th&gt;
&lt;th&gt;&lt;code&gt;//D&lt;/code&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;&lt;code&gt;4321\n321\n4&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;321\n4&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;&lt;code&gt;321\n21\n3&lt;/code&gt;+&lt;code&gt;4&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;21\n34&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;&lt;code&gt;21\n1\n2&lt;/code&gt;+&lt;code&gt;34&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;1\n234&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;&lt;code&gt;1\n\n1&lt;/code&gt;+&lt;code&gt;234&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;\n1234&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;生成的字符串&lt;code&gt;\n1234&lt;/code&gt;經過&lt;code&gt;s/.//&lt;/code&gt;處理得到&lt;code&gt;1234&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;實例演示&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;maxdsre@Stretch:~$ cat /tmp/sed.txt
dcba
&lt;span class=&#34;m&#34;&gt;4321&lt;/span&gt;
erSdxaM
maxdsre@Stretch:~$ sed &lt;span class=&#34;s1&#34;&gt;&amp;#39;/\n/!G;s/\(.\)\(.*\n\)/&amp;amp;\2\1/;//D;s/.//&amp;#39;&lt;/span&gt; /tmp/sed.txt
abcd
&lt;span class=&#34;m&#34;&gt;1234&lt;/span&gt;
MaxdSre
maxdsre@Stretch:~$ sed -r &lt;span class=&#34;s1&#34;&gt;&amp;#39;/\n/!G;s@(.)(.*\n)@&amp;amp;\2\1@;//D;s@.@@&amp;#39;&lt;/span&gt; /tmp/sed.txt
abcd
&lt;span class=&#34;m&#34;&gt;1234&lt;/span&gt;
MaxdSre
maxdsre@Stretch:~$&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;line-reverse&#34;&gt;Line Reverse&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;sed &lt;span class=&#34;s1&#34;&gt;&amp;#39;1!G;h;$!d&amp;#39;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&#34;command-explanation-1&#34;&gt;Command Explanation&lt;/h3&gt;

&lt;p&gt;相關指令定義如下：&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;code&gt;G&lt;/code&gt;:  &lt;strong&gt;append&lt;/strong&gt; &lt;em&gt;hold space&lt;/em&gt; to &lt;em&gt;pattern space&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;h&lt;/code&gt;:  &lt;strong&gt;copy&lt;/strong&gt; &lt;em&gt;pattern space&lt;/em&gt; to &lt;em&gt;hold space&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;d&lt;/code&gt;:  &lt;strong&gt;delete&lt;/strong&gt; &lt;em&gt;pattern space&lt;/em&gt;.  start next cycle.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;!&lt;/code&gt;表是取反；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;;&lt;/code&gt;用於分隔操作，順序執行。&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&#34;divided-process-1&#34;&gt;Divided Process&lt;/h3&gt;

&lt;p&gt;構建文件&lt;code&gt;/tmp/sed.txt&lt;/code&gt;，內容如下&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;a
b
c
d&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;分解過程如下&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;pattern&lt;/th&gt;
&lt;th&gt;hold&lt;/th&gt;
&lt;th&gt;pattern&lt;/th&gt;
&lt;th&gt;hold&lt;/th&gt;
&lt;th&gt;pattern&lt;/th&gt;
&lt;th&gt;hold&lt;/th&gt;
&lt;th&gt;pattern&lt;/th&gt;
&lt;th&gt;hold&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;1!G&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;1!G&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;h&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;h&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;$!d&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;$!d&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;a&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;a&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;a&lt;/td&gt;
&lt;td&gt;a&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;a&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;b&lt;/td&gt;
&lt;td&gt;a&lt;/td&gt;
&lt;td&gt;b\na&lt;/td&gt;
&lt;td&gt;a&lt;/td&gt;
&lt;td&gt;b\na&lt;/td&gt;
&lt;td&gt;b\na&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;b\na&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;c&lt;/td&gt;
&lt;td&gt;b\na&lt;/td&gt;
&lt;td&gt;c\nb\na&lt;/td&gt;
&lt;td&gt;b\na&lt;/td&gt;
&lt;td&gt;c\nb\na&lt;/td&gt;
&lt;td&gt;c\nb\na&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;c\nb\na&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;d&lt;/td&gt;
&lt;td&gt;c\nb\na&lt;/td&gt;
&lt;td&gt;d\nc\nb\na&lt;/td&gt;
&lt;td&gt;c\nb\na&lt;/td&gt;
&lt;td&gt;d\nc\nb\na&lt;/td&gt;
&lt;td&gt;d\nc\nb\na&lt;/td&gt;
&lt;td&gt;d\nc\nb\na&lt;/td&gt;
&lt;td&gt;d\nc\nb\na&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;完整解釋：&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;對第一行之外的所有數據行，將當前讀取行的 &lt;em&gt;hold space&lt;/em&gt; 中內容追加到 &lt;em&gt;pattern space&lt;/em&gt; 中；&lt;/li&gt;
&lt;li&gt;將當前讀取行的 &lt;em&gt;pattern space&lt;/em&gt; 中內容複製到 &lt;em&gt;hold space&lt;/em&gt; 中；&lt;/li&gt;
&lt;li&gt;除了最後一行，清空其餘的數據行的 *pattern space*；&lt;/li&gt;
&lt;li&gt;到最後一行時，輸出 &lt;em&gt;pattern space&lt;/em&gt; 中內容。&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;實例演示&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;maxdsre@Stretch:~$ cat /tmp/sed.txt
a
b
c
d
maxdsre@Stretch:~$ &lt;span class=&#34;nv&#34;&gt;sed&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; /tmp/sed.txt &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed &lt;span class=&#34;s1&#34;&gt;&amp;#39;N;s@\n@ @&amp;#39;&lt;/span&gt;
&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; a
&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; b
&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt; c
&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt; d
maxdsre@Stretch:~$ sed &lt;span class=&#34;s1&#34;&gt;&amp;#39;1!G;h;$!d&amp;#39;&lt;/span&gt; /tmp/sed.txt
d
c
b
a
maxdsre@Stretch:~$ sed -n &lt;span class=&#34;s1&#34;&gt;&amp;#39;1!G;h;$p&amp;#39;&lt;/span&gt; /tmp/sed.txt
d
c
b
a
maxdsre@Stretch:~$&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;bibliography&#34;&gt;Bibliography&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.catonmat.net/series/sed-one-liners-explained&#34;&gt;Sed One-Liners Explained&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://unix.stackexchange.com/questions/233014/how-does-the-command-sed-1ghd-reverse-the-contents-of-a-file&#34; title=&#34;StackOverflow&#34;&gt;How does the command sed &amp;lsquo;1!G;h;$!d&amp;rsquo; reverse the contents of a file?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;change-logs&#34;&gt;Change Logs&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;2017.06.15 11:27 Thu Asia/Shanghai

&lt;ul&gt;
&lt;li&gt;初稿完成&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;2018.04.12 09:42 Wed America/Boston

&lt;ul&gt;
&lt;li&gt;勘誤，遷移到新Blog&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- End --&gt;</description>
      
    </item>
    
    <item>
      <title>Printing The Previous Or Next Line Of The Matched Line Using Sed OR Awk</title>
      <link>/2017/printing-the-previous-or-next-line-of-the-matched-line-using-sed-or-awk/</link>
      <pubDate>Wed, 15 Mar 2017 14:57:39 +0800</pubDate>
      
      <guid>/2017/printing-the-previous-or-next-line-of-the-matched-line-using-sed-or-awk/</guid>
      
        <description>&lt;p&gt;在GNU/Linux中，&lt;a href=&#34;https://www.gnu.org/software/gawk/&#34; title=&#34;GNU awk&#34;&gt;awk(gawk)&lt;/a&gt;和&lt;a href=&#34;https://www.gnu.org/software/sed/&#34; title=&#34;GNU sed&#34;&gt;sed&lt;/a&gt;可用於處理文本數據。本文討論的是如何使用二者提取匹配數據行的前一行或後一行數據。如果匹配數據行出現多次，則只輸出第一次匹配到的數據行。&lt;/p&gt;

&lt;p&gt;本文採用真實案例進行討論&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(匹配行的前一行) 提取&lt;a href=&#34;https://nginx.org/&#34; title=&#34;Nginx Web Server&#34;&gt;Nginx&lt;/a&gt;的最新版本號；&lt;/li&gt;
&lt;li&gt;(匹配行的後一行) 提取&lt;a href=&#34;https://www.kernel.org&#34; title=&#34;Linux Kernel&#34;&gt;Linux Kernel&lt;/a&gt;的最新版本號；&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;/p&gt;

&lt;h2 id=&#34;production-examples&#34;&gt;Production Examples&lt;/h2&gt;

&lt;p&gt;從過軟件的官方網站提取所需數據，使用&lt;code&gt;curl&lt;/code&gt;或&lt;code&gt;wget&lt;/code&gt;下載官網HTML代碼，分別使用&lt;code&gt;awk&lt;/code&gt;和&lt;code&gt;sed&lt;/code&gt;從返回的HTML標籤數據中提取所需數據。&lt;/p&gt;

&lt;h3 id=&#34;previous-line-for-nginx&#34;&gt;Previous Line For Nginx&lt;/h3&gt;

&lt;p&gt;提取匹配行的前一行，以&lt;a href=&#34;https://nginx.org/&#34; title=&#34;Nginx Web Server&#34;&gt;Nginx&lt;/a&gt;爲例，提取最新主線(mainline)版的版本號。版本號在匹配字符串&lt;code&gt;mainline&lt;/code&gt;所在行的前一行，最新穩定版版本爲&lt;code&gt;1.13.12&lt;/code&gt;(Apr 11, 2018)。&lt;/p&gt;

&lt;p&gt;操作命令爲&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Via awk
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;curl -fsL https://nginx.org/ &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;$0~/mainline/{print gensub(/.*nginx-(.*)&amp;lt;.*/,&amp;#34;\\1&amp;#34;,&amp;#34;g&amp;#34;,a);exit};{a=$0}&amp;#39;&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Via sed
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;curl -fsL https://nginx.org/ &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed -n -r &lt;span class=&#34;s1&#34;&gt;&amp;#39;/mainline/{0,/mainline/{x;s@.*nginx-(.*)&amp;lt;.*@\1@p;}};h&amp;#39;&lt;/span&gt;
# curl -fsL https://nginx.org/ &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed -n -r &lt;span class=&#34;s1&#34;&gt;&amp;#39;0,/mainline/{/mainline/{x;s@.*nginx-(.*)&amp;lt;.*@\1@g;p};h}&amp;#39;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;演示過程&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Via awk
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;maxsre@stretch:~$ curl -fsL https://nginx.org/ &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;$0~/mainline/{print gensub(/.*nginx-(.*)&amp;lt;.*/,&amp;#34;\\1&amp;#34;,&amp;#34;g&amp;#34;,a);exit};{a=$0}&amp;#39;&lt;/span&gt;
&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;.13.12
maxsre@stretch:~$

&lt;span class=&#34;c1&#34;&gt;# Via sed
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;maxsre@stretch:~$ curl -fsL https://nginx.org/ &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed -n -r &lt;span class=&#34;s1&#34;&gt;&amp;#39;/mainline/{0,/mainline/{x;s@.*nginx-(.*)&amp;lt;.*@\1@p;}};h&amp;#39;&lt;/span&gt;
&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;.13.12
maxsre@stretch:~$&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;HTML標籤片段如下&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;div&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;div&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;content&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;h2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;nginx news&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;h2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;table&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;news&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;date&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;2018-04-10&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;2018-04-10&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;en/download.html&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;nginx-1.13.12&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
mainline version has been released.
&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;date&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;2018-04-03&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;2018-04-03&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;en/docs/njs_about.html&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;njs-0.2.0&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
version has been released, featuring HTTP subrequest() method support
and &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;en/docs/njs/njs_changes.html#njs0.2.0&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;more&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;.
&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;date&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;2018-04-03&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;2018-04-03&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;en/download.html&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;nginx-1.13.11&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
mainline version has been released.
&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;date&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;2018-03-23&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;2018-03-23&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://unit.nginx.org/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;unit-0.7&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
beta version has been released with
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;http://mailman.nginx.org/pipermail/unit/2018-March/000040.html&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
Ruby module&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;.
&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;date&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;2018-03-20&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;2018-03-20&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;en/download.html&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;nginx-1.13.10&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
mainline version has been released,
featuring the
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;en/docs/http/ngx_http_grpc_module.html&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;gRPC proxy module&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;.
&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;date&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;2018-02-20&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;2018-02-20&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;en/download.html&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;nginx-1.13.9&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
mainline version has been released.
&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;date&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;2018-02-09&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;2018-02-09&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://unit.nginx.org/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;unit-0.6&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
beta version has been released with
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;http://mailman.nginx.org/pipermail/unit/2018-February/000034.html&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
Perl module and advanced process management&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;.
&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;date&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;2018-01-15&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;2018-01-15&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://unit.nginx.org/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;unit-0.4&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
beta version has been released with
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;http://mailman.nginx.org/pipermail/unit/2018-January/000029.html&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
regression fixes&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;.
&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;date&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;2017-12-29&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;2017-12-29&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://unit.nginx.org/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;unit-0.3&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
beta version has been released with HTTP keep-alive support,
latency optimizations, Python and Go improvements, and
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://unit.nginx.org/CHANGES.txt&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;more&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;.
&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;date&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;2017-12-26&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;2017-12-26&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;en/download.html&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;nginx-1.13.8&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
mainline version has been released.
&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;table&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h3 id=&#34;next-line-for-linux-kernel&#34;&gt;Next Line For Linux Kernel&lt;/h3&gt;

&lt;p&gt;提取匹配行的後一行，以&lt;a href=&#34;https://www.kernel.org&#34; title=&#34;Linux Kernel&#34;&gt;Linux Kernel&lt;/a&gt;爲例，提取最新穩定(stable)版的版本號。版本號在匹配字符串&lt;code&gt;stable:&lt;/code&gt;所在行的後一行，最新穩定版版本爲&lt;code&gt;4.16.1&lt;/code&gt;(Apr 11, 2018)。&lt;/p&gt;

&lt;p&gt;操作命令爲&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Via awk
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;curl -fsL https://www.kernel.org &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;match($1,/stable:/){getline;print gensub(/.*strong&amp;gt;(.*)&amp;lt;\/strong.*/,&amp;#34;\\1&amp;#34;,&amp;#34;g&amp;#34;,$0);exit}&amp;#39;&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Via sed
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;curl -fsL https://www.kernel.org &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed -n -r &lt;span class=&#34;s1&#34;&gt;&amp;#39;/stable:/{0,/stable:/{n;s@ @@g;s@&amp;lt;[^&amp;gt;]*&amp;gt;@@gp}}&amp;#39;&lt;/span&gt;
# curl -fsL https://www.kernel.org &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed -n -r &lt;span class=&#34;s1&#34;&gt;&amp;#39;/stable:/{0,/stable:/{n;s@ @@g;s@&amp;lt;[^&amp;gt;]*&amp;gt;@@gp}}&amp;#39;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;演示過程&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Via awk
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;maxsre@stretch:~$ curl -fsL https://www.kernel.org &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;match($1,/stable:/){getline;print gensub(/.*strong&amp;gt;(.*)&amp;lt;\/strong.*/,&amp;#34;\\1&amp;#34;,&amp;#34;g&amp;#34;,$0);exit}&amp;#39;&lt;/span&gt;
&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;.16.1

&lt;span class=&#34;c1&#34;&gt;# Via sed
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;maxsre@stretch:~$ curl -fsL https://www.kernel.org &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed -n -r &lt;span class=&#34;s1&#34;&gt;&amp;#39;/stable:/{0,/stable:/{n;s@ @@g;s@&amp;lt;[^&amp;gt;]*&amp;gt;@@gp}}&amp;#39;&lt;/span&gt;
&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;.16.1
&lt;span class=&#34;c1&#34;&gt;# longterm有多個版本
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;maxsre@stretch:~$ curl -fsL https://www.kernel.org &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed -n -r &lt;span class=&#34;s1&#34;&gt;&amp;#39;/longterm:/{0,/longterm:/{n;s@ @@g;s@&amp;lt;[^&amp;gt;]*&amp;gt;@@gp}}&amp;#39;&lt;/span&gt;
&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;.14.33
maxsre@stretch:~$&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;HTML標籤片段如下&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;  1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 52
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 53
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 54
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 55
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 56
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 57
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 58
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 59
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 60
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 61
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 62
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 63
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 64
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 65
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 66
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 67
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 68
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 69
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 70
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 71
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 72
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 73
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 74
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 75
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 76
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 77
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 78
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 79
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 80
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 81
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 82
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 83
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 84
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 85
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 86
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 87
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 88
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 89
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 90
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 91
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 92
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 93
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 94
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 95
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 96
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 97
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 98
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 99
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;100
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;101
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;102
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;103
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;104
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;105
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;106
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;107
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;108
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;109
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;110
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;111
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;112
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;113
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;114
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;115
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;116
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;117
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;118
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;119
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;120
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;121
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;122
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;123
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;124
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;125
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;126
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;127
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;128
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;129
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;130
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;131
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;132
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;133
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;134
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;        &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;table&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;releases&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
                &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;align&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;left&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;mainline:&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;strong&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;4.16&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;strong&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;2018-04-01&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v4.x/linux-4.16.tar.xz&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download complete tarball&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;tarball&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v4.x/linux-4.16.tar.sign&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download PGP verification signature&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;pgp&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;]  &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v4.x/patch-4.16.xz&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download patch to previous mainline&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;patch&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://git.kernel.org/torvalds/ds/v4.16/v4.15&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;View diff in cgit&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;view&lt;span class=&#34;ni&#34;&gt;&amp;amp;nbsp;&lt;/span&gt;diff&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://git.kernel.org/torvalds/h/v4.16&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Browse the git tree using cgit&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;browse&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;]  &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
                &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;align&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;left&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;stable:&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;strong&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;4.16.1&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;strong&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;2018-04-08&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v4.x/linux-4.16.1.tar.xz&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download complete tarball&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;tarball&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v4.x/linux-4.16.1.tar.sign&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download PGP verification signature&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;pgp&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;]  &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v4.x/patch-4.16.1.xz&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download patch to previous mainline&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;patch&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://git.kernel.org/stable/linux-stable/ds/v4.16.1/v4.16&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;View diff in cgit&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;view&lt;span class=&#34;ni&#34;&gt;&amp;amp;nbsp;&lt;/span&gt;diff&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://git.kernel.org/stable/linux-stable/h/v4.16.1&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Browse the git tree using cgit&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;browse&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;]  &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v4.x/ChangeLog-4.16.1&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;View detailed change logs&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;changelog&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
                &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;align&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;left&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;stable:&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;strong&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;4.15.16&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;strong&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;2018-04-08&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v4.x/linux-4.15.16.tar.xz&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download complete tarball&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;tarball&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v4.x/linux-4.15.16.tar.sign&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download PGP verification signature&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;pgp&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;]  &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v4.x/patch-4.15.16.xz&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download patch to previous mainline&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;patch&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v4.x/incr/patch-4.15.15-16.xz&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download incremental patch&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;inc.&lt;span class=&#34;ni&#34;&gt;&amp;amp;nbsp;&lt;/span&gt;patch&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://git.kernel.org/stable/linux-stable/ds/v4.15.16/v4.15.15&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;View diff in cgit&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;view&lt;span class=&#34;ni&#34;&gt;&amp;amp;nbsp;&lt;/span&gt;diff&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://git.kernel.org/stable/linux-stable/h/v4.15.16&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Browse the git tree using cgit&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;browse&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;]  &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v4.x/ChangeLog-4.15.16&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;View detailed change logs&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;changelog&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
                &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;align&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;left&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;longterm:&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;strong&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;4.14.33&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;strong&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;2018-04-08&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v4.x/linux-4.14.33.tar.xz&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download complete tarball&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;tarball&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v4.x/linux-4.14.33.tar.sign&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download PGP verification signature&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;pgp&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;]  &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v4.x/patch-4.14.33.xz&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download patch to previous mainline&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;patch&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v4.x/incr/patch-4.14.32-33.xz&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download incremental patch&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;inc.&lt;span class=&#34;ni&#34;&gt;&amp;amp;nbsp;&lt;/span&gt;patch&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://git.kernel.org/stable/linux-stable/ds/v4.14.33/v4.14.32&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;View diff in cgit&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;view&lt;span class=&#34;ni&#34;&gt;&amp;amp;nbsp;&lt;/span&gt;diff&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://git.kernel.org/stable/linux-stable/h/v4.14.33&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Browse the git tree using cgit&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;browse&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;]  &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v4.x/ChangeLog-4.14.33&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;View detailed change logs&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;changelog&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
                &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;align&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;left&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;longterm:&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;strong&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;4.9.93&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;strong&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;2018-04-08&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v4.x/linux-4.9.93.tar.xz&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download complete tarball&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;tarball&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v4.x/linux-4.9.93.tar.sign&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download PGP verification signature&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;pgp&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;]  &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v4.x/patch-4.9.93.xz&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download patch to previous mainline&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;patch&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v4.x/incr/patch-4.9.92-93.xz&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download incremental patch&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;inc.&lt;span class=&#34;ni&#34;&gt;&amp;amp;nbsp;&lt;/span&gt;patch&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://git.kernel.org/stable/linux-stable/ds/v4.9.93/v4.9.92&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;View diff in cgit&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;view&lt;span class=&#34;ni&#34;&gt;&amp;amp;nbsp;&lt;/span&gt;diff&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://git.kernel.org/stable/linux-stable/h/v4.9.93&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Browse the git tree using cgit&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;browse&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;]  &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v4.x/ChangeLog-4.9.93&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;View detailed change logs&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;changelog&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
                &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;align&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;left&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;longterm:&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;strong&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;4.4.127&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;strong&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;2018-04-08&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v4.x/linux-4.4.127.tar.xz&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download complete tarball&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;tarball&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v4.x/linux-4.4.127.tar.sign&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download PGP verification signature&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;pgp&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;]  &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v4.x/patch-4.4.127.xz&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download patch to previous mainline&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;patch&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v4.x/incr/patch-4.4.126-127.xz&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download incremental patch&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;inc.&lt;span class=&#34;ni&#34;&gt;&amp;amp;nbsp;&lt;/span&gt;patch&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://git.kernel.org/stable/linux-stable/ds/v4.4.127/v4.4.126&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;View diff in cgit&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;view&lt;span class=&#34;ni&#34;&gt;&amp;amp;nbsp;&lt;/span&gt;diff&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://git.kernel.org/stable/linux-stable/h/v4.4.127&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Browse the git tree using cgit&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;browse&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;]  &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v4.x/ChangeLog-4.4.127&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;View detailed change logs&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;changelog&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
                &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;align&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;left&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;longterm:&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;strong&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;4.1.51&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;strong&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;2018-03-27&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v4.x/linux-4.1.51.tar.xz&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download complete tarball&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;tarball&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v4.x/linux-4.1.51.tar.sign&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download PGP verification signature&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;pgp&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;]  &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v4.x/patch-4.1.51.xz&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download patch to previous mainline&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;patch&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v4.x/incr/patch-4.1.50-51.xz&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download incremental patch&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;inc.&lt;span class=&#34;ni&#34;&gt;&amp;amp;nbsp;&lt;/span&gt;patch&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://git.kernel.org/stable/linux-stable/ds/v4.1.51/v4.1.50&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;View diff in cgit&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;view&lt;span class=&#34;ni&#34;&gt;&amp;amp;nbsp;&lt;/span&gt;diff&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://git.kernel.org/stable/linux-stable/h/v4.1.51&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Browse the git tree using cgit&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;browse&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;]  &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v4.x/ChangeLog-4.1.51&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;View detailed change logs&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;changelog&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
                &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;align&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;left&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;longterm:&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;strong&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;3.18.104 &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;span&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;eolkernel&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;This release is End-of-Life&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[EOL]&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;span&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;strong&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;2018-04-10&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v3.x/linux-3.18.104.tar.xz&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download complete tarball&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;tarball&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v3.x/linux-3.18.104.tar.sign&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download PGP verification signature&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;pgp&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;]  &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v3.x/patch-3.18.104.xz&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download patch to previous mainline&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;patch&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v3.x/incr/patch-3.18.103-104.xz&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download incremental patch&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;inc.&lt;span class=&#34;ni&#34;&gt;&amp;amp;nbsp;&lt;/span&gt;patch&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://git.kernel.org/stable/linux-stable/ds/v3.18.104/v3.18.103&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;View diff in cgit&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;view&lt;span class=&#34;ni&#34;&gt;&amp;amp;nbsp;&lt;/span&gt;diff&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://git.kernel.org/stable/linux-stable/h/v3.18.104&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Browse the git tree using cgit&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;browse&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;]  &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v3.x/ChangeLog-3.18.104&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;View detailed change logs&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;changelog&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
                &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;align&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;left&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;longterm:&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;strong&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;3.16.56&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;strong&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;2018-03-19&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v3.x/linux-3.16.56.tar.xz&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download complete tarball&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;tarball&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v3.x/linux-3.16.56.tar.sign&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download PGP verification signature&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;pgp&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;]  &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v3.x/patch-3.16.56.xz&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download patch to previous mainline&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;patch&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v3.x/incr/patch-3.16.55-56.xz&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download incremental patch&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;inc.&lt;span class=&#34;ni&#34;&gt;&amp;amp;nbsp;&lt;/span&gt;patch&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://git.kernel.org/stable/linux-stable/ds/v3.16.56/v3.16.55&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;View diff in cgit&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;view&lt;span class=&#34;ni&#34;&gt;&amp;amp;nbsp;&lt;/span&gt;diff&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://git.kernel.org/stable/linux-stable/h/v3.16.56&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Browse the git tree using cgit&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;browse&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;]  &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v3.x/ChangeLog-3.16.56&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;View detailed change logs&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;changelog&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
                &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;align&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;left&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;longterm:&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;strong&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;3.2.101&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;strong&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;2018-03-19&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v3.x/linux-3.2.101.tar.xz&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download complete tarball&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;tarball&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v3.x/linux-3.2.101.tar.sign&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download PGP verification signature&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;pgp&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;]  &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v3.x/patch-3.2.101.xz&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download patch to previous mainline&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;patch&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v3.x/incr/patch-3.2.100-101.xz&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Download incremental patch&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;inc.&lt;span class=&#34;ni&#34;&gt;&amp;amp;nbsp;&lt;/span&gt;patch&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://git.kernel.org/stable/linux-stable/ds/v3.2.101/v3.2.100&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;View diff in cgit&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;view&lt;span class=&#34;ni&#34;&gt;&amp;amp;nbsp;&lt;/span&gt;diff&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://git.kernel.org/stable/linux-stable/h/v3.2.101&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Browse the git tree using cgit&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;browse&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;]  &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.kernel.org/pub/linux/kernel/v3.x/ChangeLog-3.2.101&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;View detailed change logs&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;changelog&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;] &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
                &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;align&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;left&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;linux-next:&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;strong&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;next-20180411&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;strong&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;2018-04-11&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;[&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://git.kernel.org/next/linux-next/h/next-20180411&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Browse the git tree using cgit&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;browse&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;]  &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;td&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
                &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;table&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;analysis-of-extract-previous-line&#34;&gt;Analysis Of Extract Previous Line&lt;/h2&gt;

&lt;p&gt;以&lt;a href=&#34;https://nginx.org/&#34; title=&#34;Nginx Web Server&#34;&gt;Nginx&lt;/a&gt;爲例，以字符串&lt;code&gt;mainline&lt;/code&gt;爲匹配關鍵詞，提取匹配行的前一行數據。&lt;/p&gt;

&lt;h3 id=&#34;via-awk&#34;&gt;Via awk&lt;/h3&gt;

&lt;p&gt;awk的操作命令爲&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;curl -fsL https://nginx.org/ &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;$0~/mainline/{print gensub(/.*nginx-(.*)&amp;lt;.*/,&amp;#34;\\1&amp;#34;,&amp;#34;g&amp;#34;,a);exit};{a=$0}&amp;#39;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;解釋
1. &lt;code&gt;curl -fsL https://nginx.org/&lt;/code&gt;：獲取&lt;a href=&#34;https://nginx.org/&#34; title=&#34;Nginx Web Server&#34;&gt;Nginx&lt;/a&gt;官網的HTML標籤；
2. &lt;code&gt;awk &#39;&#39;&lt;/code&gt;：表示使用awk進行操作；
3. &lt;code&gt;$0~/mainline/&lt;/code&gt;：&lt;code&gt;$0&lt;/code&gt;表示從文本中讀取的一整行數據，&lt;code&gt;~&lt;/code&gt;表示模糊匹配，&lt;code&gt;/mainline/&lt;/code&gt;表示匹配含有關鍵詞&lt;code&gt;mainline&lt;/code&gt;的數據行；
4. &lt;code&gt;{print gensub(/.*nginx-(.*)&amp;lt;.*/,&amp;quot;\\1&amp;quot;,&amp;quot;g&amp;quot;,a);exit};{a=$0}&lt;/code&gt;：&lt;code&gt;exit&lt;/code&gt;表示只匹配一次就退出awk操作，&lt;code&gt;{a=$0}&lt;/code&gt;和&lt;code&gt;gensub()&lt;/code&gt;中的最後一個&lt;code&gt;a&lt;/code&gt;表示匹配行的前一行數據； &lt;em&gt;暫不理解其實現原理&lt;/em&gt;
5. &lt;code&gt;gensub(/.*nginx-(.*)&amp;lt;.*/,&amp;quot;\\1&amp;quot;,&amp;quot;g&amp;quot;,a)&lt;/code&gt;提取具體的版本號；
6. &lt;code&gt;print&lt;/code&gt;爲awk打印命令，輸出指定的數據；&lt;/p&gt;

&lt;h3 id=&#34;via-sed&#34;&gt;Via sed&lt;/h3&gt;

&lt;p&gt;sed的操作命令爲&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;curl -fsL https://nginx.org/ &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed -n -r &lt;span class=&#34;s1&#34;&gt;&amp;#39;/mainline/{0,/mainline/{x;s@.*nginx-(.*)&amp;lt;.*@\1@p;}};h&amp;#39;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;使用到的選項&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;x&lt;/code&gt; - Exchange the contents of the hold and pattern spaces.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;h&lt;/code&gt; - (hold) Replace the contents of the hold space with the contents of the pattern space.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;p&lt;/code&gt; - Print the pattern space.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-n, --quiet, --silent&lt;/code&gt; - suppress automatic printing of pattern space&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;解釋&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;code&gt;curl -fsL https://nginx.org/&lt;/code&gt;：獲取&lt;a href=&#34;https://nginx.org/&#34; title=&#34;Nginx Web Server&#34;&gt;Nginx&lt;/a&gt;官網的HTML標籤；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sed &#39;&#39;&lt;/code&gt;：使用sed命令進行操作；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/mainline/&lt;/code&gt;：地址定界，此處使用正則(regular expression)進行匹配，匹配關鍵爲&lt;code&gt;mainline&lt;/code&gt;；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/mainline/{x}&lt;/code&gt;:&lt;code&gt;x&lt;/code&gt;表示將當前hold space和pattern space中的內容進行互換，此處只針對匹配行；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;h&lt;/code&gt;：將當前hold space中的內容替換爲pattern space中的內容，實現hold space中的內容與pattern space中的內容一致；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-r&lt;/code&gt;：使用增強性正則表達式，如支持後向引用(back references)；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-n&lt;/code&gt;：表示不輸出當前pattern space中的內容，通常與&lt;code&gt;p&lt;/code&gt;組合使用；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/mainline/{x;p}&lt;/code&gt;中的&lt;code&gt;p&lt;/code&gt;與&lt;code&gt;-n&lt;/code&gt;組合使用，表示只輸出匹配行；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;0,/mainline/&lt;/code&gt;：只針對第一次出現的匹配數據行；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;s///g&lt;/code&gt;: 替換操作，因使用了&lt;code&gt;-r&lt;/code&gt;，此處通過後向引用提取版本號；&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;完整的解釋：使用sed對獲取的HTML標籤進行處理，對於匹配數據行，先使用&lt;code&gt;x&lt;/code&gt;交換當前hold space和pattern space中的內容，再使用&lt;code&gt;p&lt;/code&gt;和&lt;code&gt;-n&lt;/code&gt;輸出當前pattern space中的內容；對所有數據行使用&lt;code&gt;h&lt;/code&gt;，將所有數據行的當前hold space中的內容替換爲pattern space中的內容。經過此操作，匹配數據行的當前pattern space中的內容即前一行數據。&lt;/p&gt;

&lt;p&gt;稍後對其處理過程進行演示。&lt;/p&gt;

&lt;h2 id=&#34;analysis-of-extract-next-line&#34;&gt;Analysis Of Extract Next Line&lt;/h2&gt;

&lt;p&gt;以&lt;a href=&#34;https://www.kernel.org&#34; title=&#34;Linux Kernel&#34;&gt;Linux Kernel&lt;/a&gt;爲例，以字符串&lt;code&gt;stable:&lt;/code&gt;爲匹配關鍵詞，提取匹配行的後一行數據。&lt;/p&gt;

&lt;h3 id=&#34;via-awk-1&#34;&gt;Via awk&lt;/h3&gt;

&lt;p&gt;awk的操作命令爲&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;curl -fsL https://www.kernel.org &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;match($1,/stable:/){getline;print gensub(/.*strong&amp;gt;(.*)&amp;lt;\/strong.*/,&amp;#34;\\1&amp;#34;,&amp;#34;g&amp;#34;,$0);exit}&amp;#39;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;解釋
1. &lt;code&gt;curl -fsL https://www.kernel.org&lt;/code&gt;：獲取&lt;a href=&#34;https://www.kernel.org&#34; title=&#34;Linux Kernel&#34;&gt;Linux Kernel&lt;/a&gt;官網的HTML標籤；
2. &lt;code&gt;awk &#39;&#39;&lt;/code&gt;：表示使用awk進行操作；
3. &lt;code&gt;$0&lt;/code&gt;、&lt;code&gt;$1&lt;/code&gt;：awk中默認以空格爲字段(field)分隔符，&lt;code&gt;$0&lt;/code&gt;表示一整行數據，&lt;code&gt;$1&lt;/code&gt;表示數據行中的第一個字段(以空格爲分割符)；
4. &lt;code&gt;match($1,/stable:/)&lt;/code&gt;：數據行第一個字段&lt;code&gt;$1&lt;/code&gt;中含有字符串&lt;code&gt;stable:&lt;/code&gt;，與&lt;code&gt;$1~/stable:/&lt;/code&gt;等效；
5. &lt;code&gt;getline&lt;/code&gt;：表示獲取匹配行的後一行數據，與&lt;code&gt;exit&lt;/code&gt;組合使用表示只匹配一次就結束awk操作。
6. &lt;code&gt;print gensub(/.*strong&amp;gt;(.*)&amp;lt;\/strong.*/,&amp;quot;\\1&amp;quot;,&amp;quot;g&amp;quot;,$0)&lt;/code&gt;：根據HTML標籤格式提取並輸出版本號；&lt;/p&gt;

&lt;p&gt;即提取匹配數據行的後一行數據，可通過awk的&lt;code&gt;getline&lt;/code&gt;實現。&lt;/p&gt;

&lt;h3 id=&#34;via-sed-1&#34;&gt;Via sed&lt;/h3&gt;

&lt;p&gt;sed的操作命令爲&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;curl -fsL https://www.kernel.org &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed -n -r &lt;span class=&#34;s1&#34;&gt;&amp;#39;/stable:/{0,/stable/{n;s@ @@g;s@&amp;lt;[^&amp;gt;]*&amp;gt;@@gp}}&amp;#39;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;使用到的選項&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;n&lt;/code&gt; - (next) If auto-print is not disabled, print the pattern space, then, regardless, replace the pattern space with the next line of input. If there is no more input then sed exits without processing any more commands.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;解釋&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;code&gt;curl -fsL https://www.kernel.org&lt;/code&gt;：獲取&lt;a href=&#34;https://www.kernel.org&#34; title=&#34;Linux Kernel&#34;&gt;Linux Kernel&lt;/a&gt;官網的HTML標籤；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sed &#39;&#39;&lt;/code&gt;：使用sed命令進行操作；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/stable:/&lt;/code&gt;：地址定界，此處使用正則(regular expression)進行匹配，匹配關鍵爲&lt;code&gt;stable:&lt;/code&gt;；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;0,/stable/&lt;/code&gt;：只針對第一次出現的匹配數據行；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;n&lt;/code&gt;: 表示將匹配行的當前pattern space中的內容，使用下一行的輸入進行替換；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-r&lt;/code&gt;：使用增強性正則表達式，如支持後向引用(back references)；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;s///g&lt;/code&gt;: 替換操作，因使用了&lt;code&gt;-r&lt;/code&gt;，此處通過後向引用提取版本號；&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&#34;analysis&#34;&gt;Analysis&lt;/h2&gt;

&lt;h3 id=&#34;extract-previous-line-via-sed&#34;&gt;Extract Previous Line Via Sed&lt;/h3&gt;

&lt;p&gt;測試數據 &lt;code&gt;/tmp/test.txt&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;m1
mainline version
s1
stable flag
s2
stable version
s3
stable test
m2
mainline version&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h4 id=&#34;testing-x&#34;&gt;testing x&lt;/h4&gt;

&lt;p&gt;執行&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;sed &lt;span class=&#34;s1&#34;&gt;&amp;#39;/stable/{x}&amp;#39;&lt;/span&gt; /tmp/test.txt&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;輸出爲&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;m1
mainline version
s1

s2
stable flag
s3
stable version
m2
mainline version&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;分析&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;line&lt;/th&gt;
&lt;th&gt;origin&lt;/th&gt;
&lt;th&gt;hold space&lt;/th&gt;
&lt;th&gt;pattern space&lt;/th&gt;
&lt;th&gt;explanation&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;m1&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;m1&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;mainline version&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;mainline version&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;s1&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;s1&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;stable flag&lt;/td&gt;
&lt;td&gt;stable flag&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;匹配行，前一行hold space爲空，交換後pattern space爲空&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;s2&lt;/td&gt;
&lt;td&gt;stable flag&lt;/td&gt;
&lt;td&gt;s2&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;stable version&lt;/td&gt;
&lt;td&gt;stable version&lt;/td&gt;
&lt;td&gt;stable flag&lt;/td&gt;
&lt;td&gt;匹配行，前一行hold space爲&lt;code&gt;stable flag&lt;/code&gt;，交換後pattern space爲&lt;code&gt;stable flag&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;s3&lt;/td&gt;
&lt;td&gt;stable version&lt;/td&gt;
&lt;td&gt;s3&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;stable test&lt;/td&gt;
&lt;td&gt;stable test&lt;/td&gt;
&lt;td&gt;stable version&lt;/td&gt;
&lt;td&gt;匹配行，前一行hold space爲&lt;code&gt;stable version&lt;/code&gt;，交換後pattern space爲&lt;code&gt;stable version&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;m2&lt;/td&gt;
&lt;td&gt;stable test&lt;/td&gt;
&lt;td&gt;m2&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;mainline version&lt;/td&gt;
&lt;td&gt;stable test&lt;/td&gt;
&lt;td&gt;mainline version&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h4 id=&#34;testing-x-h&#34;&gt;testing x&amp;amp;h&lt;/h4&gt;

&lt;p&gt;執行&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;sed &lt;span class=&#34;s1&#34;&gt;&amp;#39;/stable/{x};h&amp;#39;&lt;/span&gt; /tmp/test.txt&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;輸出爲&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;m1
mainline version
s1
s1
s2
s2
s3
s3
m2
mainline version&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;分析&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;line&lt;/th&gt;
&lt;th&gt;origin&lt;/th&gt;
&lt;th&gt;hold space&lt;/th&gt;
&lt;th&gt;pattern space&lt;/th&gt;
&lt;th&gt;explanation&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;m1&lt;/td&gt;
&lt;td&gt;m1&lt;/td&gt;
&lt;td&gt;m1&lt;/td&gt;
&lt;td&gt;非匹配行，將hold space中內容替換爲pattern space中內容&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;mainline version&lt;/td&gt;
&lt;td&gt;mainline version&lt;/td&gt;
&lt;td&gt;mainline version&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;s1&lt;/td&gt;
&lt;td&gt;s1&lt;/td&gt;
&lt;td&gt;s1&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;stable flag&lt;/td&gt;
&lt;td&gt;s1&lt;/td&gt;
&lt;td&gt;s1&lt;/td&gt;
&lt;td&gt;匹配行，前一行hold space爲&lt;code&gt;s1&lt;/code&gt;，交換後pattern space爲&lt;code&gt;s1&lt;/code&gt;；因爲&lt;code&gt;h&lt;/code&gt;，當前hold space被替換爲&lt;code&gt;s1&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;s2&lt;/td&gt;
&lt;td&gt;s2&lt;/td&gt;
&lt;td&gt;s2&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;stable version&lt;/td&gt;
&lt;td&gt;s2&lt;/td&gt;
&lt;td&gt;s2&lt;/td&gt;
&lt;td&gt;匹配行，前一行hold space爲&lt;code&gt;s2&lt;/code&gt;，交換後pattern space爲&lt;code&gt;s2&lt;/code&gt;；因爲&lt;code&gt;h&lt;/code&gt;，當前hold space被替換爲&lt;code&gt;s2&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;s3&lt;/td&gt;
&lt;td&gt;s3&lt;/td&gt;
&lt;td&gt;s3&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;stable test&lt;/td&gt;
&lt;td&gt;s3&lt;/td&gt;
&lt;td&gt;s3&lt;/td&gt;
&lt;td&gt;匹配行，前一行hold space爲&lt;code&gt;s3&lt;/code&gt;，交換後pattern space爲&lt;code&gt;s3&lt;/code&gt;；因爲&lt;code&gt;h&lt;/code&gt;，當前hold space被替換爲&lt;code&gt;s3&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;m2&lt;/td&gt;
&lt;td&gt;m2&lt;/td&gt;
&lt;td&gt;m2&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;mainline version&lt;/td&gt;
&lt;td&gt;mainline version&lt;/td&gt;
&lt;td&gt;mainline version&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h4 id=&#34;testing-x-p-h&#34;&gt;testing x&amp;amp;p&amp;amp;h&lt;/h4&gt;

&lt;p&gt;執行&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;sed -n &lt;span class=&#34;s1&#34;&gt;&amp;#39;/stable/{x;p};h&amp;#39;&lt;/span&gt; /tmp/test.txt&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;輸出爲&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;s1
s2
s3&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;分析&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;line&lt;/th&gt;
&lt;th&gt;origin&lt;/th&gt;
&lt;th&gt;hold space&lt;/th&gt;
&lt;th&gt;pattern space&lt;/th&gt;
&lt;th&gt;explanation&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;m1&lt;/td&gt;
&lt;td&gt;m1&lt;/td&gt;
&lt;td&gt;m1&lt;/td&gt;
&lt;td&gt;非匹配行不輸出，將hold space中內容替換爲pattern space中內容&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;mainline version&lt;/td&gt;
&lt;td&gt;mainline version&lt;/td&gt;
&lt;td&gt;mainline version&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;s1&lt;/td&gt;
&lt;td&gt;s1&lt;/td&gt;
&lt;td&gt;s1&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;stable flag&lt;/td&gt;
&lt;td&gt;s1&lt;/td&gt;
&lt;td&gt;s1(輸出)&lt;/td&gt;
&lt;td&gt;匹配行，前一行hold space爲&lt;code&gt;s1&lt;/code&gt;，交換後pattern space爲&lt;code&gt;s1&lt;/code&gt;；因爲&lt;code&gt;h&lt;/code&gt;，當前hold space被替換爲&lt;code&gt;s1&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;s2&lt;/td&gt;
&lt;td&gt;s2&lt;/td&gt;
&lt;td&gt;s2&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;stable version&lt;/td&gt;
&lt;td&gt;s2&lt;/td&gt;
&lt;td&gt;s2(輸出)&lt;/td&gt;
&lt;td&gt;匹配行，前一行hold space爲&lt;code&gt;s2&lt;/code&gt;，交換後pattern space爲&lt;code&gt;s2&lt;/code&gt;；因爲&lt;code&gt;h&lt;/code&gt;，當前hold space被替換爲&lt;code&gt;s2&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;s3&lt;/td&gt;
&lt;td&gt;s3&lt;/td&gt;
&lt;td&gt;s3&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;stable test&lt;/td&gt;
&lt;td&gt;s3&lt;/td&gt;
&lt;td&gt;s3(輸出)&lt;/td&gt;
&lt;td&gt;匹配行，前一行hold space爲&lt;code&gt;s3&lt;/code&gt;，交換後pattern space爲&lt;code&gt;s3&lt;/code&gt;；因爲&lt;code&gt;h&lt;/code&gt;，當前hold space被替換爲&lt;code&gt;s3&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;m2&lt;/td&gt;
&lt;td&gt;m2&lt;/td&gt;
&lt;td&gt;m2&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;mainline version&lt;/td&gt;
&lt;td&gt;mainline version&lt;/td&gt;
&lt;td&gt;mainline version&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&#34;list-release-news&#34;&gt;List Release News&lt;/h2&gt;

&lt;h3 id=&#34;nginx&#34;&gt;Nginx&lt;/h3&gt;

&lt;p&gt;使用如下命令獲取Release信息，以列表形式顯示&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;curl -fsSL https://nginx.org/ &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;$0~/^(stable|mainline)/{$0~/stable/?type=&amp;#34;stable&amp;#34;:type=&amp;#34;mainline&amp;#34;;b=gensub(/[[:space:]]*&amp;lt;[^&amp;gt;]*&amp;gt;/,&amp;#34;&amp;#34;,&amp;#34;g&amp;#34;,a);c=gensub(/nginx-/,&amp;#34; &amp;#34;,&amp;#34;g&amp;#34;,b);printf(&amp;#34;%s %s\n&amp;#34;,c,type)};{a=$0}&amp;#39;&lt;/span&gt;

curl -fsSL https://nginx.org/ &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;BEGIN{print &amp;#34;Date|Version|Type\n---|---|---&amp;#34;}$0~/^(stable|mainline)/{$0~/stable/?type=&amp;#34;stable&amp;#34;:type=&amp;#34;mainline&amp;#34;;b=gensub(/[[:space:]]*&amp;lt;[^&amp;gt;]*&amp;gt;/,&amp;#34;&amp;#34;,&amp;#34;g&amp;#34;,a);c=gensub(/nginx-/,&amp;#34;|&amp;#34;,&amp;#34;g&amp;#34;,b);printf(&amp;#34;%s|%s\n&amp;#34;,c,type)};{a=$0}&amp;#39;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;演示過程&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;maxdsre@stretch:~$ curl -fsSL https://nginx.org/ &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;$0~/^(stable|mainline)/{$0~/stable/?type=&amp;#34;stable&amp;#34;:type=&amp;#34;mainline&amp;#34;;b=gensub(/[[:space:]]*&amp;lt;[^&amp;gt;]*&amp;gt;/,&amp;#34;&amp;#34;,&amp;#34;g&amp;#34;,a);c=gensub(/nginx-/,&amp;#34; &amp;#34;,&amp;#34;g&amp;#34;,b);printf(&amp;#34;%s %s\n&amp;#34;,c,type)};{a=$0}&amp;#39;&lt;/span&gt;
&lt;span class=&#34;m&#34;&gt;2018&lt;/span&gt;-04-10 &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;.13.12 mainline
&lt;span class=&#34;m&#34;&gt;2018&lt;/span&gt;-04-03 &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;.13.11 mainline
&lt;span class=&#34;m&#34;&gt;2018&lt;/span&gt;-03-20 &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;.13.10 mainline
&lt;span class=&#34;m&#34;&gt;2018&lt;/span&gt;-02-20 &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;.13.9 mainline
&lt;span class=&#34;m&#34;&gt;2017&lt;/span&gt;-12-26 &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;.13.8 mainline

maxdsre@stretch:~$ curl -fsSL https://nginx.org/ &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;BEGIN{print &amp;#34;Date|Version|Type\n---|---|---&amp;#34;}$0~/^(stable|mainline)/{$0~/stable/?type=&amp;#34;stable&amp;#34;:type=&amp;#34;mainline&amp;#34;;b=gensub(/[[:space:]]*&amp;lt;[^&amp;gt;]*&amp;gt;/,&amp;#34;&amp;#34;,&amp;#34;g&amp;#34;,a);c=gensub(/nginx-/,&amp;#34;|&amp;#34;,&amp;#34;g&amp;#34;,b);printf(&amp;#34;%s|%s\n&amp;#34;,c,type)};{a=$0}&amp;#39;&lt;/span&gt;
Date&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;Version&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;Type
---&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;---&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;---
&lt;span class=&#34;m&#34;&gt;2018&lt;/span&gt;-04-10&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;.13.12&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;mainline
&lt;span class=&#34;m&#34;&gt;2018&lt;/span&gt;-04-03&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;.13.11&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;mainline
&lt;span class=&#34;m&#34;&gt;2018&lt;/span&gt;-03-20&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;.13.10&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;mainline
&lt;span class=&#34;m&#34;&gt;2018&lt;/span&gt;-02-20&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;.13.9&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;mainline
&lt;span class=&#34;m&#34;&gt;2017&lt;/span&gt;-12-26&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;.13.8&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;mainline

maxdsre@stretch:~$&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Markdown渲染如下&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Date&lt;/th&gt;
&lt;th&gt;Version&lt;/th&gt;
&lt;th&gt;Type&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;2018-04-10&lt;/td&gt;
&lt;td&gt;1.13.12&lt;/td&gt;
&lt;td&gt;mainline&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2018-04-03&lt;/td&gt;
&lt;td&gt;1.13.11&lt;/td&gt;
&lt;td&gt;mainline&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2018-03-20&lt;/td&gt;
&lt;td&gt;1.13.10&lt;/td&gt;
&lt;td&gt;mainline&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2018-02-20&lt;/td&gt;
&lt;td&gt;1.13.9&lt;/td&gt;
&lt;td&gt;mainline&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;2017-12-26&lt;/td&gt;
&lt;td&gt;1.13.8&lt;/td&gt;
&lt;td&gt;mainline&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&#34;linux-kernel&#34;&gt;Linux Kernel&lt;/h3&gt;

&lt;p&gt;使用如下命令獲取Release信息，以列表形式顯示&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;curl -fsSL https://www.kernel.org &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed -r -n &lt;span class=&#34;s1&#34;&gt;&amp;#39;/tr align=&amp;#34;left&amp;#34;/,+3{s@[[:space:]]*&amp;lt;[^&amp;gt;]*&amp;gt;@@g;s@^$@_@g;s@:@@g;p}&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed -r &lt;span class=&#34;s1&#34;&gt;&amp;#39;:a;N;$!ba;s@\n@ @g;s@ \_+\ ?@\n@g;s@^_ @@&amp;#39;&lt;/span&gt;

curl -fsSL https://www.kernel.org &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed -r -n &lt;span class=&#34;s1&#34;&gt;&amp;#39;/tr align=&amp;#34;left&amp;#34;/,+3{s@[[:space:]]*&amp;lt;[^&amp;gt;]*&amp;gt;@@g;s@^$@_@g;s@:@@g;p}&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed -r &lt;span class=&#34;s1&#34;&gt;&amp;#39;:a;N;$!ba;s@\n@ @g;s@ \_+\ ?@\n@g;s@^_ @@&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed -r &lt;span class=&#34;s1&#34;&gt;&amp;#39;1i Type|Version|Date\n---|---|---&amp;#39;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;操作過程&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;maxdsre@stretch:~$ curl -fsSL https://www.kernel.org &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed -r -n &lt;span class=&#34;s1&#34;&gt;&amp;#39;/tr align=&amp;#34;left&amp;#34;/,+3{s@[[:space:]]*&amp;lt;[^&amp;gt;]*&amp;gt;@@g;s@^$@_@g;s@:@@g;p}&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed -r &lt;span class=&#34;s1&#34;&gt;&amp;#39;:a;N;$!ba;s@\n@|@g;s@\|\_+\|?@\n@g;s@^_\|@@&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed -r &lt;span class=&#34;s1&#34;&gt;&amp;#39;1i Type|Version|Date\n---|---|---&amp;#39;&lt;/span&gt;
Type&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;Version&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;Date
---&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;---&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;---
mainline&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;.16&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2018&lt;/span&gt;-04-01
stable&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;.16.1&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2018&lt;/span&gt;-04-08
stable&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;.15.16&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2018&lt;/span&gt;-04-08
longterm&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;.14.33&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2018&lt;/span&gt;-04-08
longterm&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;.9.93&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2018&lt;/span&gt;-04-08
longterm&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;.4.127&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2018&lt;/span&gt;-04-08
longterm&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;.1.51&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2018&lt;/span&gt;-03-27
longterm&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;.18.104&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;EOL&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2018&lt;/span&gt;-04-10
longterm&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;.16.56&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2018&lt;/span&gt;-03-19
longterm&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;.2.101&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2018&lt;/span&gt;-03-19
linux-next&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;next-20180411&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2018&lt;/span&gt;-04-11

maxdsre@stretch:~$&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Markdown渲染如下&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Type&lt;/th&gt;
&lt;th&gt;Version&lt;/th&gt;
&lt;th&gt;Date&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;mainline&lt;/td&gt;
&lt;td&gt;4.16&lt;/td&gt;
&lt;td&gt;2018-04-01&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;stable&lt;/td&gt;
&lt;td&gt;4.16.1&lt;/td&gt;
&lt;td&gt;2018-04-08&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;stable&lt;/td&gt;
&lt;td&gt;4.15.16&lt;/td&gt;
&lt;td&gt;2018-04-08&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;longterm&lt;/td&gt;
&lt;td&gt;4.14.33&lt;/td&gt;
&lt;td&gt;2018-04-08&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;longterm&lt;/td&gt;
&lt;td&gt;4.9.93&lt;/td&gt;
&lt;td&gt;2018-04-08&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;longterm&lt;/td&gt;
&lt;td&gt;4.4.127&lt;/td&gt;
&lt;td&gt;2018-04-08&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;longterm&lt;/td&gt;
&lt;td&gt;4.1.51&lt;/td&gt;
&lt;td&gt;2018-03-27&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;longterm&lt;/td&gt;
&lt;td&gt;3.18.104[EOL]&lt;/td&gt;
&lt;td&gt;2018-04-10&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;longterm&lt;/td&gt;
&lt;td&gt;3.16.56&lt;/td&gt;
&lt;td&gt;2018-03-19&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;longterm&lt;/td&gt;
&lt;td&gt;3.2.101&lt;/td&gt;
&lt;td&gt;2018-03-19&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;linux-next&lt;/td&gt;
&lt;td&gt;next-20180411&lt;/td&gt;
&lt;td&gt;2018-04-11&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&#34;further-reading&#34;&gt;Further Reading&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.gnu.org/software/gawk/manual/gawk.html&#34;&gt;The GNU Awk User’s Guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.gnu.org/software/sed/manual/sed.html&#34; title=&#34;sed, a stream editor&#34;&gt;The GNU Sed User’s Guide&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;change-logs&#34;&gt;Change Logs&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;2017.03.15 14:54 Wed Asia/Shanghai

&lt;ul&gt;
&lt;li&gt;初稿完成&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;2017.05.31 11:26 Wed Asia/Shanghai

&lt;ul&gt;
&lt;li&gt;添加&lt;code&gt;List Release News&lt;/code&gt;，用Markdown形式輸出&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;2018.04.11 11:09 Wed America/Boston

&lt;ul&gt;
&lt;li&gt;更新軟件版本號，勘誤，遷移到新Blog&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- End --&gt;</description>
      
    </item>
    
  </channel>
</rss>